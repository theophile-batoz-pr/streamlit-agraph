/*! For license information please see main.20f371e7.js.LICENSE.txt */
(()=>{var t={219:(t,e,n)=>{"use strict";var i=n(763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return i.isMemo(t)?s:a[t.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,i){if("string"!==typeof n){if(p){var r=f(n);r&&r!==p&&t(e,r,i)}var s=c(n);h&&(s=s.concat(h(n)));for(var a=l(e),v=l(n),y=0;y<s.length;++y){var g=s[y];if(!o[g]&&(!i||!i[g])&&(!v||!v[g])&&(!a||!a[g])){var m=d(n,g);try{u(e,g,m)}catch(b){}}}}return e}},983:(t,e)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case c:case h:case o:case a:case s:case f:return t;default:switch(t=t&&t.$$typeof){case u:case d:case y:case v:case l:return t;default:return e}}case r:return e}}}function k(t){return _(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=o,e.Lazy=y,e.Memo=v,e.Portal=r,e.Profiler=a,e.StrictMode=s,e.Suspense=f,e.isAsyncMode=function(t){return k(t)||_(t)===c},e.isConcurrentMode=k,e.isContextConsumer=function(t){return _(t)===u},e.isContextProvider=function(t){return _(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===v},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===a},e.isStrictMode=function(t){return _(t)===s},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===a||t===s||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===v||t.$$typeof===l||t.$$typeof===u||t.$$typeof===d||t.$$typeof===m||t.$$typeof===b||t.$$typeof===w||t.$$typeof===g)},e.typeOf=_},763:(t,e,n)=>{"use strict";t.exports=n(983)},123:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var o,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(a[u]=o[u]);if(e){s=e(o);for(var c=0;c<s.length;c++)i.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},730:(t,e,n)=>{"use strict";var i=n(43),r=n(123),o=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));function a(t,e,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,h=null,d={onError:function(t){l=!0,u=t}};function f(t,e,n,i,r,o,s,c,h){l=!1,u=null,a.apply(d,arguments)}var p=null,v=null,y=null;function g(t,e,n){var i=t.type||"unknown-event";t.currentTarget=y(n),function(t,e,n,i,r,o,a,d,p){if(f.apply(this,arguments),l){if(!l)throw Error(s(198));var v=u;l=!1,u=null,c||(c=!0,h=v)}}(i,e,void 0,t),t.currentTarget=null}var m=null,b={};function w(){if(m)for(var t in b){var e=b[t],n=m.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!k[n]){if(!e.extractEvents)throw Error(s(97,t));for(var i in k[n]=e,n=e.eventTypes){var r=void 0,o=n[i],a=e,l=i;if(x.hasOwnProperty(l))throw Error(s(99,l));x[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&_(u[r],a,l);r=!0}else o.registrationName?(_(o.registrationName,a,l),r=!0):r=!1;if(!r)throw Error(s(98,i,t))}}}}function _(t,e,n){if(S[t])throw Error(s(100,t));S[t]=e,E[t]=e.eventTypes[n].dependencies}var k=[],x={},S={},E={};function O(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(!b.hasOwnProperty(e)||b[e]!==i){if(b[e])throw Error(s(102,e));b[e]=i,n=!0}}n&&w()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),I=null,C=null,A=null;function D(t){if(t=v(t)){if("function"!==typeof I)throw Error(s(280));var e=t.stateNode;e&&(e=p(e),I(t.stateNode,t.type,e))}}function P(t){C?A?A.push(t):A=[t]:C=t}function M(){if(C){var t=C,e=A;if(A=C=null,D(t),e)for(t=0;t<e.length;t++)D(e[t])}}function F(t,e){return t(e)}function N(t,e,n,i,r){return t(e,n,i,r)}function B(){}var j=F,z=!1,L=!1;function R(){null===C&&null===A||(B(),M())}function U(t,e,n){if(L)return t(e,n);L=!0;try{return j(t,e,n)}finally{L=!1,R()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,W={},q={};function Y(t,e,n,i,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){X[t]=new Y(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];X[e]=new Y(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){X[t]=new Y(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){X[t]=new Y(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){X[t]=new Y(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){X[t]=new Y(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){X[t]=new Y(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){X[t]=new Y(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){X[t]=new Y(t,5,!1,t.toLowerCase(),null,!1)}));var $=/[\-:]([a-z])/g;function G(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace($,G);X[e]=new Y(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace($,G);X[e]=new Y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace($,G);X[e]=new Y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){X[t]=new Y(t,1,!1,t.toLowerCase(),null,!1)})),X.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){X[t]=new Y(t,1,!1,t.toLowerCase(),null,!0)}));var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(t,e,n,i){var r=X.hasOwnProperty(e)?X[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!H.call(q,t)||!H.call(W,t)&&(V.test(t)?q[t]=!0:(W[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,it=Z?Symbol.for("react.strict_mode"):60108,rt=Z?Symbol.for("react.profiler"):60114,ot=Z?Symbol.for("react.provider"):60109,st=Z?Symbol.for("react.context"):60110,at=Z?Symbol.for("react.concurrent_mode"):60111,lt=Z?Symbol.for("react.forward_ref"):60112,ut=Z?Symbol.for("react.suspense"):60113,ct=Z?Symbol.for("react.suspense_list"):60120,ht=Z?Symbol.for("react.memo"):60115,dt=Z?Symbol.for("react.lazy"):60116,ft=Z?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function vt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case rt:return"Profiler";case it:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case st:return"Context.Consumer";case ot:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return yt(t.type);case ft:return yt(t.render);case dt:if(t=1===t._status?t._result:null)return yt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,r=t._debugSource,o=yt(t.type);n=null,i&&(n=yt(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=bt(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function kt(t,e){var n=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function xt(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function St(t,e){null!=(e=e.checked)&&Q(t,"checked",e,!1)}function Et(t,e){St(t,e);var n=mt(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?Tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tt(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ot(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Tt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function It(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ct(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function At(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Pt(t,e){var n=mt(e.value),i=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function Mt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Ft="http://www.w3.org/1999/xhtml",Nt="http://www.w3.org/2000/svg";function Bt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Bt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var zt,Lt,Rt=(Lt=function(t,e){if(t.namespaceURI!==Nt||"innerHTML"in t)t.innerHTML=e;else{for((zt=zt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return Lt(t,e)}))}:Lt);function Ut(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Vt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ht={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},Wt={},qt={};function Yt(t){if(Wt[t])return Wt[t];if(!Ht[t])return t;var e,n=Ht[t];for(e in n)if(n.hasOwnProperty(e)&&e in qt)return Wt[t]=n[e];return t}T&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);var Xt=Yt("animationend"),$t=Yt("animationiteration"),Gt=Yt("animationstart"),Kt=Yt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"===typeof WeakMap?WeakMap:Map);function Zt(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function te(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ne(t){if(te(t)!==t)throw Error(s(188))}function ie(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return ne(r),t;if(o===i)return ne(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var se=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)g(t,e[i],n[i]);else e&&g(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(se=re(se,t)),t=se,se=null,t){if(oe(t,ae),se)throw Error(s(95));if(c)throw t=h,c=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!T)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var he=[];function de(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>he.length&&he.push(t)}function fe(t,e,n,i){if(he.length){var r=he.pop();return r.topLevelType=t,r.eventSystemFlags=i,r.nativeEvent=e,r.targetInst=n,r}return{topLevelType:t,eventSystemFlags:i,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Mn(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=ue(t.nativeEvent);i=t.topLevelType;var o=t.nativeEvent,s=t.eventSystemFlags;0===n&&(s|=64);for(var a=null,l=0;l<k.length;l++){var u=k[l];u&&(u=u.extractEvents(i,e,o,r,s))&&(a=re(a,u))}le(a)}}function ve(t,e,n){if(!n.has(t)){switch(t){case"scroll":Ge(e,"scroll",!0);break;case"focus":case"blur":Ge(e,"focus",!0),Ge(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&Ge(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&$e(t,e)}n.set(t,null)}}var ye,ge,me,be=!1,we=[],_e=null,ke=null,xe=null,Se=new Map,Ee=new Map,Oe=[],Te="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ie="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ce(t,e,n,i,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Ae(t,e){switch(t){case"focus":case"blur":_e=null;break;case"dragenter":case"dragleave":ke=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":Se.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function De(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t=Ce(e,n,i,r,o),null!==e&&(null!==(e=Fn(e))&&ge(e)),t):(t.eventSystemFlags|=i,t)}function Pe(t){var e=Mn(t.target);if(null!==e){var n=te(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){me(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Me(t){if(null!==t.blockedOn)return!1;var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Fn(e);return null!==n&&ge(n),t.blockedOn=e,!1}return!0}function Fe(t,e,n){Me(t)&&n.delete(e)}function Ne(){for(be=!1;0<we.length;){var t=we[0];if(null!==t.blockedOn){null!==(t=Fn(t.blockedOn))&&ye(t);break}var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:we.shift()}null!==_e&&Me(_e)&&(_e=null),null!==ke&&Me(ke)&&(ke=null),null!==xe&&Me(xe)&&(xe=null),Se.forEach(Fe),Ee.forEach(Fe)}function Be(t,e){t.blockedOn===e&&(t.blockedOn=null,be||(be=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ne)))}function je(t){function e(e){return Be(e,t)}if(0<we.length){Be(we[0],t);for(var n=1;n<we.length;n++){var i=we[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==_e&&Be(_e,t),null!==ke&&Be(ke,t),null!==xe&&Be(xe,t),Se.forEach(e),Ee.forEach(e),n=0;n<Oe.length;n++)(i=Oe[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Oe.length&&null===(n=Oe[0]).blockedOn;)Pe(n),null===n.blockedOn&&Oe.shift()}var ze={},Le=new Map,Re=new Map,Ue=["abort","abort",Xt,"animationEnd",$t,"animationIteration",Gt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kt,"transitionEnd","waiting","waiting"];function Ve(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],r=t[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:e},Re.set(i,e),Le.set(i,o),ze[r]=o}}Ve("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ve("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ve(Ue,2);for(var He="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<He.length;We++)Re.set(He[We],0);var qe=o.unstable_UserBlockingPriority,Ye=o.unstable_runWithPriority,Xe=!0;function $e(t,e){Ge(e,t,!1)}function Ge(t,e,n){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Ke.bind(null,e,1,t);break;case 1:i=Qe.bind(null,e,1,t);break;default:i=Je.bind(null,e,1,t)}n?t.addEventListener(e,i,!0):t.addEventListener(e,i,!1)}function Ke(t,e,n,i){z||B();var r=Je,o=z;z=!0;try{N(r,t,e,n,i)}finally{(z=o)||R()}}function Qe(t,e,n,i){Ye(qe,Je.bind(null,t,e,n,i))}function Je(t,e,n,i){if(Xe)if(0<we.length&&-1<Te.indexOf(t))t=Ce(null,t,e,n,i),we.push(t);else{var r=Ze(t,e,n,i);if(null===r)Ae(t,i);else if(-1<Te.indexOf(t))t=Ce(r,t,e,n,i),we.push(t);else if(!function(t,e,n,i,r){switch(e){case"focus":return _e=De(_e,t,e,n,i,r),!0;case"dragenter":return ke=De(ke,t,e,n,i,r),!0;case"mouseover":return xe=De(xe,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Se.set(o,De(Se.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Ee.set(o,De(Ee.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i)){Ae(t,i),t=fe(t,i,null,e);try{U(pe,t)}finally{de(t)}}}}function Ze(t,e,n,i){if(null!==(n=Mn(n=ue(i)))){var r=te(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=ee(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}t=fe(t,i,n,e);try{U(pe,t)}finally{de(t)}return null}var tn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function nn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||tn.hasOwnProperty(t)&&tn[t]?(""+e).trim():e+"px"}function rn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=nn(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(tn).forEach((function(t){en.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tn[e]=tn[t]}))}));var on=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(t,e){if(e){if(on[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Ft;function un(t,e){var n=Zt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=E[e];for(var i=0;i<e.length;i++)ve(e[i],t,n)}function cn(){}function hn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function dn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,i=dn(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=dn(i)}}function pn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function vn(){for(var t=window,e=hn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=hn((t=e.contentWindow).document)}return e}function yn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gn="$",mn="/$",bn="$?",wn="$!",_n=null,kn=null;function xn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Sn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var En="function"===typeof setTimeout?setTimeout:void 0,On="function"===typeof clearTimeout?clearTimeout:void 0;function Tn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function In(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===gn||n===wn||n===bn){if(0===e)return t;e--}else n===mn&&e++}t=t.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+Cn,Dn="__reactEventHandlers$"+Cn,Pn="__reactContainere$"+Cn;function Mn(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[An]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=In(t);null!==t;){if(n=t[An])return n;t=In(t)}return e}n=(t=n).parentNode}return null}function Fn(t){return!(t=t[An]||t[Pn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Nn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Bn(t){return t[Dn]||null}function jn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function zn(t,e){var n=t.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}function Ln(t,e,n){(e=zn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Rn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=jn(e);for(e=n.length;0<e--;)Ln(n[e],"captured",t);for(e=0;e<n.length;e++)Ln(n[e],"bubbled",t)}}function Un(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=zn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Vn(t){t&&t.dispatchConfig.registrationName&&Un(t._targetInst,null,t)}function Hn(t){oe(t,Rn)}var Wn=null,qn=null,Yn=null;function Xn(){if(Yn)return Yn;var t,e,n=qn,i=n.length,r="value"in Wn?Wn.value:Wn.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return Yn=r.slice(t,1<e?1-e:void 0)}function $n(){return!0}function Gn(){return!1}function Kn(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?$n:Gn,this.isPropagationStopped=Gn,this}function Qn(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function Jn(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Zn(t){t.eventPool=[],t.getPooled=Qn,t.release=Jn}r(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){this.isPersistent=$n},isPersistent:Gn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var o=new e;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,t),n.extend=i.extend,Zn(n),n},Zn(Kn);var ti=Kn.extend({data:null}),ei=Kn.extend({data:null}),ni=[9,13,27,32],ii=T&&"CompositionEvent"in window,ri=null;T&&"documentMode"in document&&(ri=document.documentMode);var oi=T&&"TextEvent"in window&&!ri,si=T&&(!ii||ri&&8<ri&&11>=ri),ai=String.fromCharCode(32),li={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ui=!1;function ci(t,e){switch(t){case"keyup":return-1!==ni.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var di=!1;var fi={eventTypes:li,extractEvents:function(t,e,n,i){var r;if(ii)t:{switch(t){case"compositionstart":var o=li.compositionStart;break t;case"compositionend":o=li.compositionEnd;break t;case"compositionupdate":o=li.compositionUpdate;break t}o=void 0}else di?ci(t,n)&&(o=li.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=li.compositionStart);return o?(si&&"ko"!==n.locale&&(di||o!==li.compositionStart?o===li.compositionEnd&&di&&(r=Xn()):(qn="value"in(Wn=i)?Wn.value:Wn.textContent,di=!0)),o=ti.getPooled(o,e,n,i),r?o.data=r:null!==(r=hi(n))&&(o.data=r),Hn(o),r=o):r=null,(t=oi?function(t,e){switch(t){case"compositionend":return hi(e);case"keypress":return 32!==e.which?null:(ui=!0,ai);case"textInput":return(t=e.data)===ai&&ui?null:t;default:return null}}(t,n):function(t,e){if(di)return"compositionend"===t||!ii&&ci(t,e)?(t=Xn(),Yn=qn=Wn=null,di=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return si&&"ko"!==e.locale?null:e.data}}(t,n))?((e=ei.getPooled(li.beforeInput,e,n,i)).data=t,Hn(e)):e=null,null===r?e:null===e?r:[r,e]}},pi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!pi[t.type]:"textarea"===e}var yi={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gi(t,e,n){return(t=Kn.getPooled(yi.change,t,e,n)).type="change",P(n),Hn(t),t}var mi=null,bi=null;function wi(t){le(t)}function _i(t){if(_t(Nn(t)))return t}function ki(t,e){if("change"===t)return e}var xi=!1;function Si(){mi&&(mi.detachEvent("onpropertychange",Ei),bi=mi=null)}function Ei(t){if("value"===t.propertyName&&_i(bi))if(t=gi(bi,t,ue(t)),z)le(t);else{z=!0;try{F(wi,t)}finally{z=!1,R()}}}function Oi(t,e,n){"focus"===t?(Si(),bi=n,(mi=e).attachEvent("onpropertychange",Ei)):"blur"===t&&Si()}function Ti(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return _i(bi)}function Ii(t,e){if("click"===t)return _i(e)}function Ci(t,e){if("input"===t||"change"===t)return _i(e)}T&&(xi=ce("input")&&(!document.documentMode||9<document.documentMode));var Ai={eventTypes:yi,_isInputEventSupported:xi,extractEvents:function(t,e,n,i){var r=e?Nn(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var s=ki;else if(vi(r))if(xi)s=Ci;else{s=Ti;var a=Oi}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(s=Ii);if(s&&(s=s(t,e)))return gi(s,n,i);a&&a(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Tt(r,"number",r.value)}},Di=Kn.extend({view:null,detail:null}),Pi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mi(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Pi[t])&&!!e[t]}function Fi(){return Mi}var Ni=0,Bi=0,ji=!1,zi=!1,Li=Di.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Fi,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ni;return Ni=t.screenX,ji?"mousemove"===t.type?t.screenX-e:0:(ji=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Bi;return Bi=t.screenY,zi?"mousemove"===t.type?t.screenY-e:0:(zi=!0,0)}}),Ri=Li.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ui={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vi={eventTypes:Ui,extractEvents:function(t,e,n,i,r){var o="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(o&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=e,null!==(e=(e=n.relatedTarget||n.toElement)?Mn(e):null)&&(e!==te(e)||5!==e.tag&&6!==e.tag)&&(e=null)):s=null;if(s===e)return null;if("mouseout"===t||"mouseover"===t)var a=Li,l=Ui.mouseLeave,u=Ui.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Ri,l=Ui.pointerLeave,u=Ui.pointerEnter,c="pointer");if(t=null==s?o:Nn(s),o=null==e?o:Nn(e),(l=a.getPooled(l,s,n,i)).type=c+"leave",l.target=t,l.relatedTarget=o,(n=a.getPooled(u,e,n,i)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(i=s)&&c)t:{for(u=c,s=0,t=a=i;t;t=jn(t))s++;for(t=0,e=u;e;e=jn(e))t++;for(;0<s-t;)a=jn(a),s--;for(;0<t-s;)u=jn(u),t--;for(;s--;){if(a===u||a===u.alternate)break t;a=jn(a),u=jn(u)}a=null}else a=null;for(u=a,a=[];i&&i!==u&&(null===(s=i.alternate)||s!==u);)a.push(i),i=jn(i);for(i=[];c&&c!==u&&(null===(s=c.alternate)||s!==u);)i.push(c),c=jn(c);for(c=0;c<a.length;c++)Un(a[c],"bubbled",l);for(c=i.length;0<c--;)Un(i[c],"captured",n);return 0===(64&r)?[l]:[l,n]}};var Hi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Wi=Object.prototype.hasOwnProperty;function qi(t,e){if(Hi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Wi.call(e,n[i])||!Hi(t[n[i]],e[n[i]]))return!1;return!0}var Yi=T&&"documentMode"in document&&11>=document.documentMode,Xi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},$i=null,Gi=null,Ki=null,Qi=!1;function Ji(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Qi||null==$i||$i!==hn(n)?null:("selectionStart"in(n=$i)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ki&&qi(Ki,n)?null:(Ki=n,(t=Kn.getPooled(Xi.select,Gi,t,e)).type="select",t.target=$i,Hn(t),t))}var Zi={eventTypes:Xi,extractEvents:function(t,e,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){t:{r=Zt(r),o=E.onSelect;for(var s=0;s<o.length;s++)if(!r.has(o[s])){r=!1;break t}r=!0}o=!r}if(o)return null;switch(r=e?Nn(e):window,t){case"focus":(vi(r)||"true"===r.contentEditable)&&($i=r,Gi=e,Ki=null);break;case"blur":Ki=Gi=$i=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qi=!1,Ji(n,i);case"selectionchange":if(Yi)break;case"keydown":case"keyup":return Ji(n,i)}return null}},tr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),er=Kn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nr=Di.extend({relatedTarget:null});function ir(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},or={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sr=Di.extend({key:function(t){if(t.key){var e=rr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ir(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?or[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Fi,charCode:function(t){return"keypress"===t.type?ir(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ir(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ar=Li.extend({dataTransfer:null}),lr=Di.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Fi}),ur=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cr=Li.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),hr={eventTypes:ze,extractEvents:function(t,e,n,i){var r=Le.get(t);if(!r)return null;switch(t){case"keypress":if(0===ir(n))return null;case"keydown":case"keyup":t=sr;break;case"blur":case"focus":t=nr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=lr;break;case Xt:case $t:case Gt:t=tr;break;case Kt:t=ur;break;case"scroll":t=Di;break;case"wheel":t=cr;break;case"copy":case"cut":case"paste":t=er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ri;break;default:t=Kn}return Hn(e=t.getPooled(r,e,n,i)),e}};if(m)throw Error(s(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Bn,v=Fn,y=Nn,O({SimpleEventPlugin:hr,EnterLeaveEventPlugin:Vi,ChangeEventPlugin:Ai,SelectEventPlugin:Zi,BeforeInputEventPlugin:fi});var dr=[],fr=-1;function pr(t){0>fr||(t.current=dr[fr],dr[fr]=null,fr--)}function vr(t,e){fr++,dr[fr]=t.current,t.current=e}var yr={},gr={current:yr},mr={current:!1},br=yr;function wr(t,e){var n=t.type.contextTypes;if(!n)return yr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function _r(t){return null!==(t=t.childContextTypes)&&void 0!==t}function kr(){pr(mr),pr(gr)}function xr(t,e,n){if(gr.current!==yr)throw Error(s(168));vr(gr,e),vr(mr,n)}function Sr(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(s(108,yt(e)||"Unknown",o));return r({},n,{},i)}function Er(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,br=gr.current,vr(gr,t),vr(mr,mr.current),!0}function Or(t,e,n){var i=t.stateNode;if(!i)throw Error(s(169));n?(t=Sr(t,e,br),i.__reactInternalMemoizedMergedChildContext=t,pr(mr),pr(gr),vr(gr,t)):pr(mr),vr(mr,n)}var Tr=o.unstable_runWithPriority,Ir=o.unstable_scheduleCallback,Cr=o.unstable_cancelCallback,Ar=o.unstable_requestPaint,Dr=o.unstable_now,Pr=o.unstable_getCurrentPriorityLevel,Mr=o.unstable_ImmediatePriority,Fr=o.unstable_UserBlockingPriority,Nr=o.unstable_NormalPriority,Br=o.unstable_LowPriority,jr=o.unstable_IdlePriority,zr={},Lr=o.unstable_shouldYield,Rr=void 0!==Ar?Ar:function(){},Ur=null,Vr=null,Hr=!1,Wr=Dr(),qr=1e4>Wr?Dr:function(){return Dr()-Wr};function Yr(){switch(Pr()){case Mr:return 99;case Fr:return 98;case Nr:return 97;case Br:return 96;case jr:return 95;default:throw Error(s(332))}}function Xr(t){switch(t){case 99:return Mr;case 98:return Fr;case 97:return Nr;case 96:return Br;case 95:return jr;default:throw Error(s(332))}}function $r(t,e){return t=Xr(t),Tr(t,e)}function Gr(t,e,n){return t=Xr(t),Ir(t,e,n)}function Kr(t){return null===Ur?(Ur=[t],Vr=Ir(Mr,Jr)):Ur.push(t),zr}function Qr(){if(null!==Vr){var t=Vr;Vr=null,Cr(t)}Jr()}function Jr(){if(!Hr&&null!==Ur){Hr=!0;var t=0;try{var e=Ur;$r(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ur=null}catch(n){throw null!==Ur&&(Ur=Ur.slice(t+1)),Ir(Mr,Qr),n}finally{Hr=!1}}}function Zr(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function to(t,e){if(t&&t.defaultProps)for(var n in e=r({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var eo={current:null},no=null,io=null,ro=null;function oo(){ro=io=no=null}function so(t){var e=eo.current;pr(eo),t.type._context._currentValue=e}function ao(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function lo(t,e){no=t,ro=io=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Bs=!0),t.firstContext=null)}function uo(t,e){if(ro!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(ro=t,e=1073741823),e={context:t,observedBits:e,next:null},null===io){if(null===no)throw Error(s(308));io=e,no.dependencies={expirationTime:0,firstContext:e,responders:null}}else io=io.next=e;return t._currentValue}var co=!1;function ho(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function po(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function vo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function yo(t,e){var n=t.alternate;null!==n&&fo(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function go(t,e,n,i){var o=t.updateQueue;co=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var l=s.next;s.next=a.next,a.next=l}s=a,o.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=a))}if(null!==s){l=s.next;var u=o.baseState,c=0,h=null,d=null,f=null;if(null!==l)for(var p=l;;){if((a=p.expirationTime)<i){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=v,h=u):f=f.next=v,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),kl(a,p.suspenseConfig);t:{var y=t,g=p;switch(a=e,v=n,g.tag){case 1:if("function"===typeof(y=g.payload)){u=y.call(v,u,a);break t}u=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(a="function"===typeof(y=g.payload)?y.call(v,u,a):y)||void 0===a)break t;u=r({},u,a);break t;case 2:co=!0}}null!==p.callback&&(t.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===l){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=l,o.baseQueue=s=a,o.shared.pending=null}}null===f?h=u:f.next=d,o.baseState=h,o.baseQueue=f,xl(c),t.expirationTime=c,t.memoizedState=u}}function mo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var bo=K.ReactCurrentBatchConfig,wo=(new i.Component).refs;function _o(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:r({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var ko={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=ul(),r=bo.suspense;(r=po(i=cl(i,t,r),r)).payload=e,void 0!==n&&null!==n&&(r.callback=n),vo(t,r),hl(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=ul(),r=bo.suspense;(r=po(i=cl(i,t,r),r)).tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),vo(t,r),hl(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ul(),i=bo.suspense;(i=po(n=cl(n,t,i),i)).tag=2,void 0!==e&&null!==e&&(i.callback=e),vo(t,i),hl(t,n)}};function xo(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!qi(n,i)||!qi(r,o))}function So(t,e,n){var i=!1,r=yr,o=e.contextType;return"object"===typeof o&&null!==o?o=uo(o):(r=_r(e)?br:gr.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?wr(t,r):yr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ko,t.stateNode=e,e._reactInternalFiber=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Eo(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ko.enqueueReplaceState(e,e.state,null)}function Oo(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=wo,ho(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=uo(o):(o=_r(e)?br:gr.current,r.context=wr(t,o)),go(t,n,r,i),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(_o(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ko.enqueueReplaceState(r,r.state,null),go(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var To=Array.isArray;function Io(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=i.refs;e===wo&&(e=i.refs={}),null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Co(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Ao(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Hl(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Yl(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,i){return null!==e&&e.elementType===n.type?((i=r(e,n.props)).ref=Io(t,e,n),i.return=t,i):((i=Wl(n.type,n.key,n.props,null,t.mode,i)).ref=Io(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Xl(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=ql(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Yl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Wl(e.type,e.key,e.props,null,t.mode,n)).ref=Io(t,null,e),n.return=t,n;case et:return(e=Xl(e,t.mode,n)).return=t,e}if(To(e)||vt(e))return(e=ql(e,t.mode,n,null)).return=t,e;Co(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===r?n.type===nt?h(t,e,n.props.children,i,r):u(t,e,n,i):null;case et:return n.key===r?c(t,e,n,i):null}if(To(n)||vt(n))return null!==r?null:h(t,e,n,i,null);Co(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return t=t.get(null===i.key?n:i.key)||null,i.type===nt?h(e,t,i.props.children,r,i.key):u(e,t,i,r);case et:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(To(i)||vt(i))return h(e,t=t.get(n)||null,i,r,null);Co(e,i)}return null}function v(r,s,a,l){for(var u=null,c=null,h=s,v=s=0,y=null;null!==h&&v<a.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=f(r,h,a[v],l);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(r,h),s=o(g,s,v),null===c?u=g:c.sibling=g,c=g,h=y}if(v===a.length)return n(r,h),u;if(null===h){for(;v<a.length;v++)null!==(h=d(r,a[v],l))&&(s=o(h,s,v),null===c?u=h:c.sibling=h,c=h);return u}for(h=i(r,h);v<a.length;v++)null!==(y=p(h,r,v,a[v],l))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),s=o(y,s,v),null===c?u=y:c.sibling=y,c=y);return t&&h.forEach((function(t){return e(r,t)})),u}function y(r,a,l,u){var c=vt(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,v=a,y=a=0,g=null,m=l.next();null!==v&&!m.done;y++,m=l.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=f(r,v,m.value,u);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(r,v),a=o(b,a,y),null===h?c=b:h.sibling=b,h=b,v=g}if(m.done)return n(r,v),c;if(null===v){for(;!m.done;y++,m=l.next())null!==(m=d(r,m.value,u))&&(a=o(m,a,y),null===h?c=m:h.sibling=m,h=m);return c}for(v=i(r,v);!m.done;y++,m=l.next())null!==(m=p(v,r,y,m.value,u))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),a=o(m,a,y),null===h?c=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(r,t)})),c}return function(t,i,o,l){var u="object"===typeof o&&null!==o&&o.type===nt&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case tt:t:{for(c=o.key,u=i;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===nt){n(t,u.sibling),(i=r(u,o.props.children)).return=t,t=i;break t}}else if(u.elementType===o.type){n(t,u.sibling),(i=r(u,o.props)).ref=Io(t,u,o),i.return=t,t=i;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===nt?((i=ql(o.props.children,t.mode,l,o.key)).return=t,t=i):((l=Wl(o.type,o.key,o.props,null,t.mode,l)).ref=Io(t,i,o),l.return=t,t=l)}return a(t);case et:t:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling),(i=r(i,o.children||[])).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Xl(o,t.mode,l)).return=t,t=i}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(t,i.sibling),(i=r(i,o)).return=t,t=i):(n(t,i),(i=Yl(o,t.mode,l)).return=t,t=i),a(t);if(To(o))return v(t,i,o,l);if(vt(o))return y(t,i,o,l);if(c&&Co(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,i)}}var Do=Ao(!0),Po=Ao(!1),Mo={},Fo={current:Mo},No={current:Mo},Bo={current:Mo};function jo(t){if(t===Mo)throw Error(s(174));return t}function zo(t,e){switch(vr(Bo,e),vr(No,t),vr(Fo,Mo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jt(null,"");break;default:e=jt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}pr(Fo),vr(Fo,e)}function Lo(){pr(Fo),pr(No),pr(Bo)}function Ro(t){jo(Bo.current);var e=jo(Fo.current),n=jt(e,t.type);e!==n&&(vr(No,t),vr(Fo,n))}function Uo(t){No.current===t&&(pr(Fo),pr(No))}var Vo={current:0};function Ho(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===wn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Wo(t,e){return{responder:t,props:e}}var qo=K.ReactCurrentDispatcher,Yo=K.ReactCurrentBatchConfig,Xo=0,$o=null,Go=null,Ko=null,Qo=!1;function Jo(){throw Error(s(321))}function Zo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hi(t[n],e[n]))return!1;return!0}function ts(t,e,n,i,r,o){if(Xo=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,qo.current=null===t||null===t.memoizedState?xs:Ss,t=n(i,r),e.expirationTime===Xo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Ko=Go=null,e.updateQueue=null,qo.current=Es,t=n(i,r)}while(e.expirationTime===Xo)}if(qo.current=ks,e=null!==Go&&null!==Go.next,Xo=0,Ko=Go=$o=null,Qo=!1,e)throw Error(s(300));return t}function es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?$o.memoizedState=Ko=t:Ko=Ko.next=t,Ko}function ns(){if(null===Go){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=Go.next;var e=null===Ko?$o.memoizedState:Ko.next;if(null!==e)Ko=e,Go=t;else{if(null===t)throw Error(s(310));t={memoizedState:(Go=t).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===Ko?$o.memoizedState=Ko=t:Ko=Ko.next=t}return Ko}function is(t,e){return"function"===typeof e?e(t):e}function rs(t){var e=ns(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=Go,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=a=o=null,u=r;do{var c=u.expirationTime;if(c<Xo){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=i):l=l.next=h,c>$o.expirationTime&&($o.expirationTime=c,xl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),kl(c,u.suspenseConfig),i=u.eagerReducer===t?u.eagerState:t(i,u.action);u=u.next}while(null!==u&&u!==r);null===l?o=i:l.next=a,Hi(i,e.memoizedState)||(Bs=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function os(t){var e=ns(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);Hi(o,e.memoizedState)||(Bs=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ss(t){var e=es();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:is,lastRenderedState:t}).dispatch=_s.bind(null,$o,t),[e.memoizedState,t]}function as(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ls(){return ns().memoizedState}function us(t,e,n,i){var r=es();$o.effectTag|=t,r.memoizedState=as(1|e,n,void 0,void 0===i?null:i)}function cs(t,e,n,i){var r=ns();i=void 0===i?null:i;var o=void 0;if(null!==Go){var s=Go.memoizedState;if(o=s.destroy,null!==i&&Zo(i,s.deps))return void as(e,n,o,i)}$o.effectTag|=t,r.memoizedState=as(1|e,n,o,i)}function hs(t,e){return us(516,4,t,e)}function ds(t,e){return cs(516,4,t,e)}function fs(t,e){return cs(4,2,t,e)}function ps(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function vs(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,cs(4,2,ps.bind(null,e,t),n)}function ys(){}function gs(t,e){return es().memoizedState=[t,void 0===e?null:e],t}function ms(t,e){var n=ns();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Zo(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function bs(t,e){var n=ns();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&Zo(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ws(t,e,n){var i=Yr();$r(98>i?98:i,(function(){t(!0)})),$r(97<i?97:i,(function(){var i=Yo.suspense;Yo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Yo.suspense=i}}))}function _s(t,e,n){var i=ul(),r=bo.suspense;r={expirationTime:i=cl(i,t,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===$o||null!==o&&o===$o)Qo=!0,r.expirationTime=Xo,$o.expirationTime=Xo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.eagerReducer=o,r.eagerState=a,Hi(a,s))return}catch(l){}hl(t,i)}}var ks={readContext:uo,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useResponder:Jo,useDeferredValue:Jo,useTransition:Jo},xs={readContext:uo,useCallback:gs,useContext:uo,useEffect:hs,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,us(4,2,ps.bind(null,e,t),n)},useLayoutEffect:function(t,e){return us(4,2,t,e)},useMemo:function(t,e){var n=es();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=es();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t=(t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=_s.bind(null,$o,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},es().memoizedState=t},useState:ss,useDebugValue:ys,useResponder:Wo,useDeferredValue:function(t,e){var n=ss(t),i=n[0],r=n[1];return hs((function(){var n=Yo.suspense;Yo.suspense=void 0===e?null:e;try{r(t)}finally{Yo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=ss(!1),n=e[0];return e=e[1],[gs(ws.bind(null,e,t),[e,t]),n]}},Ss={readContext:uo,useCallback:ms,useContext:uo,useEffect:ds,useImperativeHandle:vs,useLayoutEffect:fs,useMemo:bs,useReducer:rs,useRef:ls,useState:function(){return rs(is)},useDebugValue:ys,useResponder:Wo,useDeferredValue:function(t,e){var n=rs(is),i=n[0],r=n[1];return ds((function(){var n=Yo.suspense;Yo.suspense=void 0===e?null:e;try{r(t)}finally{Yo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=rs(is),n=e[0];return e=e[1],[ms(ws.bind(null,e,t),[e,t]),n]}},Es={readContext:uo,useCallback:ms,useContext:uo,useEffect:ds,useImperativeHandle:vs,useLayoutEffect:fs,useMemo:bs,useReducer:os,useRef:ls,useState:function(){return os(is)},useDebugValue:ys,useResponder:Wo,useDeferredValue:function(t,e){var n=os(is),i=n[0],r=n[1];return ds((function(){var n=Yo.suspense;Yo.suspense=void 0===e?null:e;try{r(t)}finally{Yo.suspense=n}}),[t,e]),i},useTransition:function(t){var e=os(is),n=e[0];return e=e[1],[ms(ws.bind(null,e,t),[e,t]),n]}},Os=null,Ts=null,Is=!1;function Cs(t,e){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function As(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ds(t){if(Is){var e=Ts;if(e){var n=e;if(!As(t,e)){if(!(e=Tn(n.nextSibling))||!As(t,e))return t.effectTag=-1025&t.effectTag|2,Is=!1,void(Os=t);Cs(Os,n)}Os=t,Ts=Tn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Is=!1,Os=t}}function Ps(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Os=t}function Ms(t){if(t!==Os)return!1;if(!Is)return Ps(t),Is=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Sn(e,t.memoizedProps))for(e=Ts;e;)Cs(t,e),e=Tn(e.nextSibling);if(Ps(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===mn){if(0===e){Ts=Tn(t.nextSibling);break t}e--}else n!==gn&&n!==wn&&n!==bn||e++}t=t.nextSibling}Ts=null}}else Ts=Os?Tn(t.stateNode.nextSibling):null;return!0}function Fs(){Ts=Os=null,Is=!1}var Ns=K.ReactCurrentOwner,Bs=!1;function js(t,e,n,i){e.child=null===t?Po(e,null,n,i):Do(e,t.child,n,i)}function zs(t,e,n,i,r){n=n.render;var o=e.ref;return lo(e,r),i=ts(t,e,n,i,o,r),null===t||Bs?(e.effectTag|=1,js(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function Ls(t,e,n,i,r,o){if(null===t){var s=n.type;return"function"!==typeof s||Vl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Wl(n.type,null,i,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Rs(t,e,s,i,r,o))}return s=t.child,r<o&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:qi)(r,i)&&t.ref===e.ref)?ea(t,e,o):(e.effectTag|=1,(t=Hl(s,i)).ref=e.ref,t.return=e,e.child=t)}function Rs(t,e,n,i,r,o){return null!==t&&qi(t.memoizedProps,i)&&t.ref===e.ref&&(Bs=!1,r<o)?(e.expirationTime=t.expirationTime,ea(t,e,o)):Vs(t,e,n,i,o)}function Us(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Vs(t,e,n,i,r){var o=_r(n)?br:gr.current;return o=wr(e,o),lo(e,r),n=ts(t,e,n,i,o,r),null===t||Bs?(e.effectTag|=1,js(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ea(t,e,r))}function Hs(t,e,n,i,r){if(_r(n)){var o=!0;Er(e)}else o=!1;if(lo(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),So(e,n,i),Oo(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=uo(u):u=wr(e,u=_r(n)?br:gr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==u)&&Eo(e,s,i,u),co=!1;var d=e.memoizedState;s.state=d,go(e,i,s,r),l=e.memoizedState,a!==i||d!==l||mr.current||co?("function"===typeof c&&(_o(e,n,c,i),l=e.memoizedState),(a=co||xo(e,n,a,i,d,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),i=!1)}else s=e.stateNode,fo(t,e),a=e.memoizedProps,s.props=e.type===e.elementType?a:to(e.type,a),l=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=uo(u):u=wr(e,u=_r(n)?br:gr.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==u)&&Eo(e,s,i,u),co=!1,l=e.memoizedState,s.state=l,go(e,i,s,r),d=e.memoizedState,a!==i||l!==d||mr.current||co?("function"===typeof c&&(_o(e,n,c,i),d=e.memoizedState),(c=co||xo(e,n,a,i,l,d,u))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,d,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,d,u)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=d),s.props=i,s.state=d,s.context=u,i=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),i=!1);return Ws(t,e,n,i,o,r)}function Ws(t,e,n,i,r,o){Us(t,e);var s=0!==(64&e.effectTag);if(!i&&!s)return r&&Or(e,n,!1),ea(t,e,o);i=e.stateNode,Ns.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&s?(e.child=Do(e,t.child,null,o),e.child=Do(e,null,a,o)):js(t,e,a,o),e.memoizedState=i.state,r&&Or(e,n,!0),e.child}function qs(t){var e=t.stateNode;e.pendingContext?xr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&xr(0,e.context,!1),zo(t,e.containerInfo)}var Ys,Xs,$s,Gs,Ks={dehydrated:null,retryTime:0};function Qs(t,e,n){var i,r=e.mode,o=e.pendingProps,s=Vo.current,a=!1;if((i=0!==(64&e.effectTag))||(i=0!==(2&s)&&(null===t||null!==t.memoizedState)),i?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),vr(Vo,1&s),null===t){if(void 0!==o.fallback&&Ds(e),a){if(a=o.fallback,(o=ql(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ql(a,r,n,null)).return=e,o.sibling=n,e.memoizedState=Ks,e.child=o,n}return r=o.children,e.memoizedState=null,e.child=Po(e,null,r,n)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,a){if(o=o.fallback,(n=Hl(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=Hl(r,o)).return=e,n.sibling=r,n.childExpirationTime=0,e.memoizedState=Ks,e.child=n,r}return n=Do(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=o.fallback,(o=ql(null,r,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ql(a,r,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Ks,e.child=o,n}return e.memoizedState=null,e.child=Do(e,t,o.children,n)}function Js(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ao(t.return,e)}function Zs(t,e,n,i,r,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailExpiration=0,s.tailMode=r,s.lastEffect=o)}function ta(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(js(t,e,i.children,n),0!==(2&(i=Vo.current)))i=1&i|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Js(t,n);else if(19===t.tag)Js(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(vr(Vo,i),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===Ho(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Zs(e,!1,r,n,o,e.lastEffect);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Ho(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Zs(e,!0,n,null,o,e.lastEffect);break;case"together":Zs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ea(t,e,n){null!==t&&(e.dependencies=t.dependencies);var i=e.expirationTime;if(0!==i&&xl(i),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Hl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Hl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function na(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ia(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _r(e.type)&&kr(),null;case 3:return Lo(),pr(mr),pr(gr),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ms(e)||(e.effectTag|=4),Xs(e),null;case 5:Uo(e),n=jo(Bo.current);var o=e.type;if(null!==t&&null!=e.stateNode)$s(t,e,o,i,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!i){if(null===e.stateNode)throw Error(s(166));return null}if(t=jo(Fo.current),Ms(e)){i=e.stateNode,o=e.type;var a=e.memoizedProps;switch(i[An]=e,i[Dn]=a,o){case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(t=0;t<Qt.length;t++)$e(Qt[t],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"form":$e("reset",i),$e("submit",i);break;case"details":$e("toggle",i);break;case"input":xt(i,a),$e("invalid",i),un(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},$e("invalid",i),un(n,"onChange");break;case"textarea":Dt(i,a),$e("invalid",i),un(n,"onChange")}for(var l in sn(o,a),t=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?i.textContent!==u&&(t=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(t=["children",""+u]):S.hasOwnProperty(l)&&null!=u&&un(n,l)}switch(o){case"input":wt(i),Ot(i,a,!0);break;case"textarea":wt(i),Mt(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,t===ln&&(t=Bt(o)),t===ln?"script"===o?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(o,{is:i.is}):(t=l.createElement(o),"select"===o&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,o),t[An]=e,t[Dn]=i,Ys(t,e,!1,!1),e.stateNode=t,l=an(o,i),o){case"iframe":case"object":case"embed":$e("load",t),u=i;break;case"video":case"audio":for(u=0;u<Qt.length;u++)$e(Qt[u],t);u=i;break;case"source":$e("error",t),u=i;break;case"img":case"image":case"link":$e("error",t),$e("load",t),u=i;break;case"form":$e("reset",t),$e("submit",t),u=i;break;case"details":$e("toggle",t),u=i;break;case"input":xt(t,i),u=kt(t,i),$e("invalid",t),un(n,"onChange");break;case"option":u=It(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},u=r({},i,{value:void 0}),$e("invalid",t),un(n,"onChange");break;case"textarea":Dt(t,i),u=At(t,i),$e("invalid",t),un(n,"onChange");break;default:u=i}sn(o,u);var c=u;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?rn(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Rt(t,h):"children"===a?"string"===typeof h?("textarea"!==o||""!==h)&&Ut(t,h):"number"===typeof h&&Ut(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?null!=h&&un(n,a):null!=h&&Q(t,a,h,l))}switch(o){case"input":wt(t),Ot(t,i,!1);break;case"textarea":wt(t),Mt(t);break;case"option":null!=i.value&&t.setAttribute("value",""+mt(i.value));break;case"select":t.multiple=!!i.multiple,null!=(n=i.value)?Ct(t,!!i.multiple,n,!1):null!=i.defaultValue&&Ct(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=cn)}xn(o,i)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Gs(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));n=jo(Bo.current),jo(Fo.current),Ms(e)?(n=e.stateNode,i=e.memoizedProps,n[An]=e,n.nodeValue!==i&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[An]=e,e.stateNode=n)}return null;case 13:return pr(Vo),i=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==i,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Ms(e):(i=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Vo.current)?Ha===Ma&&(Ha=Ba):(Ha!==Ma&&Ha!==Ba||(Ha=ja),0!==$a&&null!==Ra&&(Kl(Ra,Va),Ql(Ra,$a)))),(n||i)&&(e.effectTag|=4),null);case 4:return Lo(),Xs(e),null;case 10:return so(e),null;case 19:if(pr(Vo),null===(i=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(a=i.rendering)){if(o)na(i,!1);else if(Ha!==Ma||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Ho(a))){for(e.effectTag|=64,na(i,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===i.lastEffect&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=e.child;null!==i;)a=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return vr(Vo,1&Vo.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Ho(a))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),na(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(e=e.lastEffect=i.lastEffect)&&(e.nextEffect=null),null}else 2*qr()-i.renderingStartTime>i.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,na(i,!1),e.expirationTime=e.childExpirationTime=n-1);i.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=i.last)?n.sibling=a:e.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=qr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=qr(),n.sibling=null,e=Vo.current,vr(Vo,o?1&e|2:1&e),n):null}throw Error(s(156,e.tag))}function ra(t){switch(t.tag){case 1:_r(t.type)&&kr();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Lo(),pr(mr),pr(gr),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return Uo(t),null;case 13:return pr(Vo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return pr(Vo),null;case 4:return Lo(),null;case 10:return so(t),null;default:return null}}function oa(t,e){return{value:t,source:e,stack:gt(e)}}Ys=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xs=function(){},$s=function(t,e,n,i,o){var s=t.memoizedProps;if(s!==i){var a,l,u=e.stateNode;switch(jo(Fo.current),t=null,n){case"input":s=kt(u,s),i=kt(u,i),t=[];break;case"option":s=It(u,s),i=It(u,i),t=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),t=[];break;case"textarea":s=At(u,s),i=At(u,i),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(u.onclick=cn)}for(a in sn(n,i),n=null,s)if(!i.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(l in u=s[a])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(S.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in i){var c=i[a];if(u=null!=s?s[a]:void 0,i.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(a,c)):"children"===a?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(S.hasOwnProperty(a)?(null!=c&&un(o,a),t||u===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Gs=function(t,e,n,i){n!==i&&(e.effectTag|=4)};var sa="function"===typeof WeakSet?WeakSet:Set;function aa(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=gt(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(r){setTimeout((function(){throw r}))}}function la(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Nl(t,n)}else e.current=null}function ua(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,i=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:to(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(s(163))}function ca(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==e)}}function ha(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function da(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ha(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var i=n.elementType===n.type?e.memoizedProps:to(n.type,e.memoizedProps);t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&mo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}mo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&xn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&je(n)))))}throw Error(s(163))}function fa(t,e,n){switch("function"===typeof Ll&&Ll(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var i=t.next;$r(97<n?97:n,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var r=e;try{n()}catch(o){Nl(r,o)}}t=t.next}while(t!==i)}))}break;case 1:la(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Nl(t,n)}}(e,n);break;case 5:la(e);break;case 4:ba(t,e,n)}}function pa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&pa(e)}function va(t){return 5===t.tag||3===t.tag||4===t.tag}function ya(t){t:{for(var e=t.return;null!==e;){if(va(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:e=e.containerInfo,i=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Ut(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}i?ga(t,n,e):ma(t,n,e)}function ga(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=cn));else if(4!==i&&null!==(t=t.child))for(ga(t,e,n),t=t.sibling;null!==t;)ga(t,e,n),t=t.sibling}function ma(t,e,n){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(ma(t,e,n),t=t.sibling;null!==t;)ma(t,e,n),t=t.sibling}function ba(t,e,n){for(var i,r,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(s(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break t;case 3:case 4:i=i.containerInfo,r=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var l=t,u=o,c=n,h=u;;)if(fa(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break t;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=i,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(fa(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function wa(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ca(3,e);case 1:case 12:case 17:return;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps,r=null!==t?t.memoizedProps:i;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Dn]=i,"input"===t&&"radio"===i.type&&null!=i.name&&St(n,i),an(t,r),e=an(t,i),r=0;r<o.length;r+=2){var a=o[r],l=o[r+1];"style"===a?rn(n,l):"dangerouslySetInnerHTML"===a?Rt(n,l):"children"===a?Ut(n,l):Q(n,a,l,e)}switch(t){case"input":Et(n,i);break;case"textarea":Pt(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(t=i.value)?Ct(n,!!i.multiple,t,!1):e!==!!i.multiple&&(null!=i.defaultValue?Ct(n,!!i.multiple,i.defaultValue,!0):Ct(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,je(e.containerInfo)));case 13:if(n=e,null===e.memoizedState?i=!1:(i=!0,n=e.child,Ka=qr()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=nn("display",r));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void _a(e);case 19:return void _a(e)}throw Error(s(163))}function _a(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new sa),e.forEach((function(e){var i=jl.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}var ka="function"===typeof WeakMap?WeakMap:Map;function xa(t,e,n){(n=po(n,null)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Za||(Za=!0,tl=i),aa(t,e)},n}function Sa(t,e,n){(n=po(n,null)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return aa(t,e),i(r)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===el?el=new Set([this]):el.add(this),aa(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Ea,Oa=Math.ceil,Ta=K.ReactCurrentDispatcher,Ia=K.ReactCurrentOwner,Ca=0,Aa=8,Da=16,Pa=32,Ma=0,Fa=1,Na=2,Ba=3,ja=4,za=5,La=Ca,Ra=null,Ua=null,Va=0,Ha=Ma,Wa=null,qa=1073741823,Ya=1073741823,Xa=null,$a=0,Ga=!1,Ka=0,Qa=500,Ja=null,Za=!1,tl=null,el=null,nl=!1,il=null,rl=90,ol=null,sl=0,al=null,ll=0;function ul(){return(La&(Da|Pa))!==Ca?1073741821-(qr()/10|0):0!==ll?ll:ll=1073741821-(qr()/10|0)}function cl(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var i=Yr();if(0===(4&e))return 99===i?1073741823:1073741822;if((La&Da)!==Ca)return Va;if(null!==n)t=Zr(t,0|n.timeoutMs||5e3,250);else switch(i){case 99:t=1073741823;break;case 98:t=Zr(t,150,100);break;case 97:case 96:t=Zr(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==Ra&&t===Va&&--t,t}function hl(t,e){if(50<sl)throw sl=0,al=null,Error(s(185));if(null!==(t=dl(t,e))){var n=Yr();1073741823===e?(La&Aa)!==Ca&&(La&(Da|Pa))===Ca?yl(t):(pl(t),La===Ca&&Qr()):pl(t),(4&La)===Ca||98!==n&&99!==n||(null===ol?ol=new Map([[t,e]]):(void 0===(n=ol.get(t))||n>e)&&ol.set(t,e))}}function dl(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,r=null;if(null===i&&3===t.tag)r=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Ra===r&&(xl(e),Ha===ja&&Kl(r,Va)),Ql(r,e)),r}function fl(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Gl(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function pl(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Kr(yl.bind(null,t));else{var e=fl(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var i=ul();if(1073741823===e?i=99:1===e||2===e?i=95:i=0>=(i=10*(1073741821-e)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=i)return;n!==zr&&Cr(n)}t.callbackExpirationTime=e,t.callbackPriority=i,e=1073741823===e?Kr(yl.bind(null,t)):Gr(i,vl.bind(null,t),{timeout:10*(1073741821-e)-qr()}),t.callbackNode=e}}}function vl(t,e){if(ll=0,e)return Jl(t,e=ul()),pl(t),null;var n=fl(t);if(0!==n){if(e=t.callbackNode,(La&(Da|Pa))!==Ca)throw Error(s(327));if(Pl(),t===Ra&&n===Va||bl(t,n),null!==Ua){var i=La;La|=Da;for(var r=_l();;)try{El();break}catch(l){wl(t,l)}if(oo(),La=i,Ta.current=r,Ha===Fa)throw e=Wa,bl(t,n),Kl(t,n),pl(t),e;if(null===Ua)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,i=Ha,Ra=null,i){case Ma:case Fa:throw Error(s(345));case Na:Jl(t,2<n?2:n);break;case Ba:if(Kl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Il(r)),1073741823===qa&&10<(r=Ka+Qa-qr())){if(Ga){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,bl(t,n);break}}if(0!==(o=fl(t))&&o!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}t.timeoutHandle=En(Cl.bind(null,t),r);break}Cl(t);break;case ja:if(Kl(t,n),n===(i=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Il(r)),Ga&&(0===(r=t.lastPingedTime)||r>=n)){t.lastPingedTime=n,bl(t,n);break}if(0!==(r=fl(t))&&r!==n)break;if(0!==i&&i!==n){t.lastPingedTime=i;break}if(1073741823!==Ya?i=10*(1073741821-Ya)-qr():1073741823===qa?i=0:(i=10*(1073741821-qa)-5e3,0>(i=(r=qr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Oa(i/1960))-i)&&(i=n)),10<i){t.timeoutHandle=En(Cl.bind(null,t),i);break}Cl(t);break;case za:if(1073741823!==qa&&null!==Xa){o=qa;var a=Xa;if(0>=(i=0|a.busyMinDurationMs)?i=0:(r=0|a.busyDelayMs,i=(o=qr()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Kl(t,n),t.timeoutHandle=En(Cl.bind(null,t),i);break}}Cl(t);break;default:throw Error(s(329))}if(pl(t),t.callbackNode===e)return vl.bind(null,t)}}return null}function yl(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(La&(Da|Pa))!==Ca)throw Error(s(327));if(Pl(),t===Ra&&e===Va||bl(t,e),null!==Ua){var n=La;La|=Da;for(var i=_l();;)try{Sl();break}catch(r){wl(t,r)}if(oo(),La=n,Ta.current=i,Ha===Fa)throw n=Wa,bl(t,e),Kl(t,e),pl(t),n;if(null!==Ua)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ra=null,Cl(t),pl(t)}return null}function gl(t,e){var n=La;La|=1;try{return t(e)}finally{(La=n)===Ca&&Qr()}}function ml(t,e){var n=La;La&=-2,La|=Aa;try{return t(e)}finally{(La=n)===Ca&&Qr()}}function bl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,On(n)),null!==Ua)for(n=Ua.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&kr();break;case 3:Lo(),pr(mr),pr(gr);break;case 5:Uo(i);break;case 4:Lo();break;case 13:case 19:pr(Vo);break;case 10:so(i)}n=n.return}Ra=t,Ua=Hl(t.current,null),Va=e,Ha=Ma,Wa=null,Ya=qa=1073741823,Xa=null,$a=0,Ga=!1}function wl(t,e){for(;;){try{if(oo(),qo.current=ks,Qo)for(var n=$o.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Xo=0,Ko=Go=$o=null,Qo=!1,null===Ua||null===Ua.return)return Ha=Fa,Wa=e,Ua=null;t:{var r=t,o=Ua.return,s=Ua,a=e;if(e=Va,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var l=a;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.expirationTime=u.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&Vo.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var v=h.updateQueue;if(null===v){var y=new Set;y.add(l),h.updateQueue=y}else v.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=po(1073741823,null);g.tag=2,vo(s,g)}s.expirationTime=1073741823;break t}a=void 0,s=e;var m=r.pingCache;if(null===m?(m=r.pingCache=new ka,a=new Set,m.set(l,a)):void 0===(a=m.get(l))&&(a=new Set,m.set(l,a)),!a.has(s)){a.add(s);var b=Bl.bind(null,r,l,s);l.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);a=Error((yt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(s))}Ha!==za&&(Ha=Na),a=oa(a,s),h=o;do{switch(h.tag){case 3:l=a,h.effectTag|=4096,h.expirationTime=e,yo(h,xa(h,l,e));break t;case 1:l=a;var w=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===el||!el.has(_)))){h.effectTag|=4096,h.expirationTime=e,yo(h,Sa(h,l,e));break t}}h=h.return}while(null!==h)}Ua=Tl(Ua)}catch(k){e=k;continue}break}}function _l(){var t=Ta.current;return Ta.current=ks,null===t?ks:t}function kl(t,e){t<qa&&2<t&&(qa=t),null!==e&&t<Ya&&2<t&&(Ya=t,Xa=e)}function xl(t){t>$a&&($a=t)}function Sl(){for(;null!==Ua;)Ua=Ol(Ua)}function El(){for(;null!==Ua&&!Lr();)Ua=Ol(Ua)}function Ol(t){var e=Ea(t.alternate,t,Va);return t.memoizedProps=t.pendingProps,null===e&&(e=Tl(t)),Ia.current=null,e}function Tl(t){Ua=t;do{var e=Ua.alternate;if(t=Ua.return,0===(2048&Ua.effectTag)){if(e=ia(e,Ua,Va),1===Va||1!==Ua.childExpirationTime){for(var n=0,i=Ua.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ua.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ua.firstEffect),null!==Ua.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ua.firstEffect),t.lastEffect=Ua.lastEffect),1<Ua.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ua:t.firstEffect=Ua,t.lastEffect=Ua))}else{if(null!==(e=ra(Ua)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ua.sibling))return e;Ua=t}while(null!==Ua);return Ha===Ma&&(Ha=za),null}function Il(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Cl(t){var e=Yr();return $r(99,Al.bind(null,t,e)),null}function Al(t,e){do{Pl()}while(null!==il);if((La&(Da|Pa))!==Ca)throw Error(s(327));var n=t.finishedWork,i=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=Il(n);if(t.firstPendingTime=r,i<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:i<=t.firstSuspendedTime&&(t.firstSuspendedTime=i-1),i<=t.lastPingedTime&&(t.lastPingedTime=0),i<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ra&&(Ua=Ra=null,Va=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=La;La|=Pa,Ia.current=null,_n=Xe;var a=vn();if(yn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(O){l=null;break t}var d=0,f=-1,p=-1,v=0,y=0,g=a,m=null;e:for(;;){for(var b;g!==l||0!==c&&3!==g.nodeType||(f=d+c),g!==h||0!==u&&3!==g.nodeType||(p=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)m=g,g=b;for(;;){if(g===a)break e;if(m===l&&++v===c&&(f=d),m===h&&++y===u&&(p=d),null!==(b=g.nextSibling))break;m=(g=m).parentNode}g=b}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;kn={activeElementDetached:null,focusedElem:a,selectionRange:l},Xe=!1,Ja=r;do{try{Dl()}catch(O){if(null===Ja)throw Error(s(330));Nl(Ja,O),Ja=Ja.nextEffect}}while(null!==Ja);Ja=r;do{try{for(a=t,l=e;null!==Ja;){var w=Ja.effectTag;if(16&w&&Ut(Ja.stateNode,""),128&w){var _=Ja.alternate;if(null!==_){var k=_.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&w){case 2:ya(Ja),Ja.effectTag&=-3;break;case 6:ya(Ja),Ja.effectTag&=-3,wa(Ja.alternate,Ja);break;case 1024:Ja.effectTag&=-1025;break;case 1028:Ja.effectTag&=-1025,wa(Ja.alternate,Ja);break;case 4:wa(Ja.alternate,Ja);break;case 8:ba(a,c=Ja,l),pa(c)}Ja=Ja.nextEffect}}catch(O){if(null===Ja)throw Error(s(330));Nl(Ja,O),Ja=Ja.nextEffect}}while(null!==Ja);if(k=kn,_=vn(),w=k.focusedElem,l=k.selectionRange,_!==w&&w&&w.ownerDocument&&pn(w.ownerDocument.documentElement,w)){null!==l&&yn(w)&&(_=l.start,void 0===(k=l.end)&&(k=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(k,w.value.length)):(k=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(k=k.getSelection(),c=w.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!k.extend&&a>l&&(c=l,l=a,a=c),c=fn(w,a),h=fn(w,l),c&&h&&(1!==k.rangeCount||k.anchorNode!==c.node||k.anchorOffset!==c.offset||k.focusNode!==h.node||k.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),k.removeAllRanges(),a>l?(k.addRange(_),k.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),k.addRange(_))))),_=[];for(k=w;k=k.parentNode;)1===k.nodeType&&_.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(k=_[w]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Xe=!!_n,kn=_n=null,t.current=n,Ja=r;do{try{for(w=t;null!==Ja;){var x=Ja.effectTag;if(36&x&&da(w,Ja.alternate,Ja),128&x){_=void 0;var S=Ja.ref;if(null!==S){var E=Ja.stateNode;Ja.tag,_=E,"function"===typeof S?S(_):S.current=_}}Ja=Ja.nextEffect}}catch(O){if(null===Ja)throw Error(s(330));Nl(Ja,O),Ja=Ja.nextEffect}}while(null!==Ja);Ja=null,Rr(),La=o}else t.current=n;if(nl)nl=!1,il=t,rl=e;else for(Ja=r;null!==Ja;)e=Ja.nextEffect,Ja.nextEffect=null,Ja=e;if(0===(e=t.firstPendingTime)&&(el=null),1073741823===e?t===al?sl++:(sl=0,al=t):sl=0,"function"===typeof zl&&zl(n.stateNode,i),pl(t),Za)throw Za=!1,t=tl,tl=null,t;return(La&Aa)!==Ca||Qr(),null}function Dl(){for(;null!==Ja;){var t=Ja.effectTag;0!==(256&t)&&ua(Ja.alternate,Ja),0===(512&t)||nl||(nl=!0,Gr(97,(function(){return Pl(),null}))),Ja=Ja.nextEffect}}function Pl(){if(90!==rl){var t=97<rl?97:rl;return rl=90,$r(t,Ml)}}function Ml(){if(null===il)return!1;var t=il;if(il=null,(La&(Da|Pa))!==Ca)throw Error(s(331));var e=La;for(La|=Pa,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ca(5,n),ha(5,n)}}catch(i){if(null===t)throw Error(s(330));Nl(t,i)}n=t.nextEffect,t.nextEffect=null,t=n}return La=e,Qr(),!0}function Fl(t,e,n){vo(t,e=xa(t,e=oa(n,e),1073741823)),null!==(t=dl(t,1073741823))&&pl(t)}function Nl(t,e){if(3===t.tag)Fl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Fl(n,t,e);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===el||!el.has(i))){vo(n,t=Sa(n,t=oa(e,t),1073741823)),null!==(n=dl(n,1073741823))&&pl(n);break}}n=n.return}}function Bl(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),Ra===t&&Va===n?Ha===ja||Ha===Ba&&1073741823===qa&&qr()-Ka<Qa?bl(t,Va):Ga=!0:Gl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,pl(t)))}function jl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=cl(e=ul(),t,null)),null!==(t=dl(t,e))&&pl(t)}Ea=function(t,e,n){var i=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||mr.current)Bs=!0;else{if(i<n){switch(Bs=!1,e.tag){case 3:qs(e),Fs();break;case 5:if(Ro(e),4&e.mode&&1!==n&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:_r(e.type)&&Er(e);break;case 4:zo(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value,r=e.type._context,vr(eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?Qs(t,e,n):(vr(Vo,1&Vo.current),null!==(e=ea(t,e,n))?e.sibling:null);vr(Vo,1&Vo.current);break;case 19:if(i=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(i)return ta(t,e,n);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),vr(Vo,Vo.current),!i)return null}return ea(t,e,n)}Bs=!1}}else Bs=!1;switch(e.expirationTime=0,e.tag){case 2:if(i=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=wr(e,gr.current),lo(e,n),r=ts(null,e,i,t,r,n),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,_r(i)){var o=!0;Er(e)}else o=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ho(e);var a=i.getDerivedStateFromProps;"function"===typeof a&&_o(e,i,a,t),r.updater=ko,e.stateNode=r,r._reactInternalFiber=e,Oo(e,i,t,n),e=Ws(null,e,i,!0,o,n)}else e.tag=0,js(null,e,r,n),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,o=e.tag=function(t){if("function"===typeof t)return Vl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lt)return 11;if(t===ht)return 14}return 2}(r),t=to(r,t),o){case 0:e=Vs(null,e,r,t,n);break t;case 1:e=Hs(null,e,r,t,n);break t;case 11:e=zs(null,e,r,t,n);break t;case 14:e=Ls(null,e,r,to(r.type,t),i,n);break t}throw Error(s(306,r,""))}return e;case 0:return i=e.type,r=e.pendingProps,Vs(t,e,i,r=e.elementType===i?r:to(i,r),n);case 1:return i=e.type,r=e.pendingProps,Hs(t,e,i,r=e.elementType===i?r:to(i,r),n);case 3:if(qs(e),i=e.updateQueue,null===t||null===i)throw Error(s(282));if(i=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,fo(t,e),go(e,i,null,n),(i=e.memoizedState.element)===r)Fs(),e=ea(t,e,n);else{if((r=e.stateNode.hydrate)&&(Ts=Tn(e.stateNode.containerInfo.firstChild),Os=e,r=Is=!0),r)for(n=Po(e,null,i,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else js(t,e,i,n),Fs();e=e.child}return e;case 5:return Ro(e),null===t&&Ds(e),i=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,a=r.children,Sn(i,r)?a=null:null!==o&&Sn(i,o)&&(e.effectTag|=16),Us(t,e),4&e.mode&&1!==n&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(js(t,e,a,n),e=e.child),e;case 6:return null===t&&Ds(e),null;case 13:return Qs(t,e,n);case 4:return zo(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=Do(e,null,i,n):js(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,zs(t,e,i,r=e.elementType===i?r:to(i,r),n);case 7:return js(t,e,e.pendingProps,n),e.child;case 8:case 12:return js(t,e,e.pendingProps.children,n),e.child;case 10:t:{i=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value;var l=e.type._context;if(vr(eo,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=Hi(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(a.children===r.children&&!mr.current){e=ea(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===l.tag&&((c=po(n,null)).tag=2,vo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ao(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}js(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=(o=e.pendingProps).children,lo(e,n),i=i(r=uo(r,o.unstable_observedBits)),e.effectTag|=1,js(t,e,i,n),e.child;case 14:return o=to(r=e.type,e.pendingProps),Ls(t,e,r,o=to(r.type,o),i,n);case 15:return Rs(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:to(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,_r(i)?(t=!0,Er(e)):t=!1,lo(e,n),So(e,i,r),Oo(e,i,r,n),Ws(null,e,i,!0,t,n);case 19:return ta(t,e,n)}throw Error(s(156,e.tag))};var zl=null,Ll=null;function Rl(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ul(t,e,n,i){return new Rl(t,e,n,i)}function Vl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Hl(t,e){var n=t.alternate;return null===n?((n=Ul(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wl(t,e,n,i,r,o){var a=2;if(i=t,"function"===typeof t)Vl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case nt:return ql(n.children,r,o,e);case at:a=8,r|=7;break;case it:a=8,r|=1;break;case rt:return(t=Ul(12,n,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=o,t;case ut:return(t=Ul(13,n,e,r)).type=ut,t.elementType=ut,t.expirationTime=o,t;case ct:return(t=Ul(19,n,e,r)).elementType=ct,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ot:a=10;break t;case st:a=9;break t;case lt:a=11;break t;case ht:a=14;break t;case dt:a=16,i=null;break t;case ft:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Ul(a,n,e,r)).elementType=t,e.type=i,e.expirationTime=o,e}function ql(t,e,n,i){return(t=Ul(7,t,i,e)).expirationTime=n,t}function Yl(t,e,n){return(t=Ul(6,t,null,e)).expirationTime=n,t}function Xl(t,e,n){return(e=Ul(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $l(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Gl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Kl(t,e){var n=t.firstSuspendedTime,i=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(i>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ql(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Jl(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Zl(t,e,n,i){var r=e.current,o=ul(),a=bo.suspense;o=cl(o,r,a);t:if(n){e:{if(te(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(_r(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(_r(u)){n=Sr(n,u,l);break t}}n=l}else n=yr;return null===e.context?e.context=n:e.pendingContext=n,(e=po(o,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),vo(r,e),hl(r,o),o}function tu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function eu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function nu(t,e){eu(t,e),(t=t.alternate)&&eu(t,e)}function iu(t,e,n){var i=new $l(t,e,n=null!=n&&!0===n.hydrate),r=Ul(3,null,null,2===e?7:1===e?3:0);i.current=r,r.stateNode=i,ho(r),t[Pn]=i.current,n&&0!==e&&function(t,e){var n=Zt(e);Te.forEach((function(t){ve(t,e,n)})),Ie.forEach((function(t){ve(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=i}function ru(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ou(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof r){var a=r;r=function(){var t=tu(s);a.call(t)}}Zl(e,s,t,r)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new iu(t,0,e?{hydrate:!0}:void 0)}(n,i),s=o._internalRoot,"function"===typeof r){var l=r;r=function(){var t=tu(s);l.call(t)}}ml((function(){Zl(e,s,t,r)}))}return tu(s)}function su(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ru(e))throw Error(s(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}iu.prototype.render=function(t){Zl(t,this._internalRoot,null,null)},iu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Zl(null,t,null,(function(){e[Pn]=null}))},ye=function(t){if(13===t.tag){var e=Zr(ul(),150,100);hl(t,e),nu(t,e)}},ge=function(t){13===t.tag&&(hl(t,3),nu(t,3))},me=function(t){if(13===t.tag){var e=ul();hl(t,e=cl(e,t,null)),nu(t,e)}},I=function(t,e,n){switch(e){case"input":if(Et(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Bn(i);if(!r)throw Error(s(90));_t(i),Et(i,r)}}}break;case"textarea":Pt(t,n);break;case"select":null!=(e=n.value)&&Ct(t,!!n.multiple,e,!1)}},F=gl,N=function(t,e,n,i,r){var o=La;La|=4;try{return $r(98,t.bind(null,e,n,i,r))}finally{(La=o)===Ca&&Qr()}},B=function(){(La&(1|Da|Pa))===Ca&&(function(){if(null!==ol){var t=ol;ol=null,t.forEach((function(t,e){Jl(e,t),pl(e)})),Qr()}}(),Pl())},j=function(t,e){var n=La;La|=2;try{return t(e)}finally{(La=n)===Ca&&Qr()}};var au={Events:[Fn,Nn,Bn,O,x,Hn,function(t){oe(t,Vn)},P,M,Je,le,Pl,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);zl=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(i){}},Ll=function(t){try{e.onCommitFiberUnmount(n,t)}catch(i){}}}catch(i){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,e.createPortal=su,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if((La&(Da|Pa))!==Ca)throw Error(s(187));var n=La;La|=1;try{return $r(99,t.bind(null,e))}finally{La=n,Qr()}},e.hydrate=function(t,e,n){if(!ru(e))throw Error(s(200));return ou(null,t,e,!0,n)},e.render=function(t,e,n){if(!ru(e))throw Error(s(200));return ou(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ru(t))throw Error(s(40));return!!t._reactRootContainer&&(ml((function(){ou(null,null,t,!1,(function(){t._reactRootContainer=null,t[Pn]=null}))})),!0)},e.unstable_batchedUpdates=gl,e.unstable_createPortal=function(t,e){return su(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ru(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return ou(t,e,n,!1,i)},e.version="16.14.0"},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{"use strict";var i=n(43),r=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),e.Fragment=o("react.fragment")}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,i)&&!l.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:u,ref:c,props:o,_owner:s.current}}e.jsx=u,e.jsxs=u},202:(t,e,n)=>{"use strict";var i=n(123),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}function _(){}function k(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var x=k.prototype=new _;x.constructor=k,i(x,w.prototype),x.isPureReactComponent=!0;var S={current:null},E=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var i,r={},s=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)E.call(e,i)&&!O.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:t,key:s,ref:a,props:r,_owner:S.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var C=/\/+/g,A=[];function D(t,e,n,i){if(A.length){var r=A.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function P(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>A.length&&A.push(t)}function M(t,e,n,i){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var a=!1;if(null===t)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case o:case s:a=!0}}if(a)return n(i,t,""===e?"."+N(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=e+N(r=t[l],l);a+=M(r,u,n,i)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=y&&t[y]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),l=0;!(r=t.next()).done;)a+=M(r=r.value,u=e+N(r,l++),n,i);else if("object"===r)throw n=""+t,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function F(t,e,n){return null==t?0:M(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function B(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?z(t,i,n,(function(t){return t})):null!=t&&(I(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+n)),i.push(t))}function z(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(C,"$&/")+"/"),F(t,j,e=D(e,o,i,r)),P(e)}var L={current:null};function R(){var t=L.current;if(null===t)throw Error(g(321));return t}var U={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:i};e.Children={map:function(t,e,n){if(null==t)return t;var i=[];return z(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;F(t,B,e=D(null,null,e,n)),P(e)},count:function(t){return F(t,(function(){return null}),null)},toArray:function(t){var e=[];return z(t,e,null,(function(t){return t})),e},only:function(t){if(!I(t))throw Error(g(143));return t}},e.Component=w,e.Fragment=a,e.Profiler=u,e.PureComponent=k,e.StrictMode=l,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(g(267,t));var r=i({},t.props),s=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)E.call(e,c)&&!O.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:o,type:t.type,key:s,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return R().useCallback(t,e)},e.useContext=function(t,e){return R().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return R().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return R().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return R().useLayoutEffect(t,e)},e.useMemo=function(t,e){return R().useMemo(t,e)},e.useReducer=function(t,e,n){return R().useReducer(t,e,n)},e.useRef=function(t){return R().useRef(t)},e.useState=function(t){return R().useState(t)},e.version="16.14.0"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";var n,i,r,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,l=null,u=function(){if(null!==a)try{var t=e.unstable_now();a(!0,t),a=null}catch(n){throw setTimeout(u,0),n}},c=Date.now();e.unstable_now=function(){return Date.now()-c},n=function(t){null!==a?setTimeout(n,0,t):(a=t,setTimeout(u,0))},i=function(t,e){l=setTimeout(t,e)},r=function(){clearTimeout(l)},o=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var y=d.now();e.unstable_now=function(){return d.now()-y}}var g=!1,m=null,b=-1,w=5,_=0;o=function(){return e.unstable_now()>=_},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,x=k.port2;k.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();_=t+w;try{m(!0,t)?x.postMessage(null):(g=!1,m=null)}catch(n){throw x.postMessage(null),n}}else g=!1},n=function(t){m=t,g||(g=!0,x.postMessage(null))},i=function(t,n){b=f((function(){t(e.unstable_now())}),n)},r=function(){p(b),b=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var i=n-1>>>1,r=t[i];if(!(void 0!==r&&0<T(r,e)))break t;t[i]=e,t[n]=r,n=i}}function E(t){return void 0===(t=t[0])?null:t}function O(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length;i<r;){var o=2*(i+1)-1,s=t[o],a=o+1,l=t[a];if(void 0!==s&&0>T(s,n))void 0!==l&&0>T(l,s)?(t[i]=l,t[a]=n,i=a):(t[i]=s,t[o]=n,i=o);else{if(!(void 0!==l&&0>T(l,n)))break t;t[i]=l,t[a]=n,i=a}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var I=[],C=[],A=1,D=null,P=3,M=!1,F=!1,N=!1;function B(t){for(var e=E(C);null!==e;){if(null===e.callback)O(C);else{if(!(e.startTime<=t))break;O(C),e.sortIndex=e.expirationTime,S(I,e)}e=E(C)}}function j(t){if(N=!1,B(t),!F)if(null!==E(I))F=!0,n(z);else{var e=E(C);null!==e&&i(j,e.startTime-t)}}function z(t,n){F=!1,N&&(N=!1,r()),M=!0;var s=P;try{for(B(n),D=E(I);null!==D&&(!(D.expirationTime>n)||t&&!o());){var a=D.callback;if(null!==a){D.callback=null,P=D.priorityLevel;var l=a(D.expirationTime<=n);n=e.unstable_now(),"function"===typeof l?D.callback=l:D===E(I)&&O(I),B(n)}else O(I);D=E(I)}if(null!==D)var u=!0;else{var c=E(C);null!==c&&i(j,c.startTime-n),u=!1}return u}finally{D=null,P=s,M=!1}}function L(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var R=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){F||M||(F=!0,n(z))},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return E(I)},e.unstable_next=function(t){switch(P){case 1:case 2:case 3:var e=3;break;default:e=P}var n=P;P=e;try{return t()}finally{P=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=R,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=P;P=t;try{return e()}finally{P=n}},e.unstable_scheduleCallback=function(t,o,s){var a=e.unstable_now();if("object"===typeof s&&null!==s){var l=s.delay;l="number"===typeof l&&0<l?a+l:a,s="number"===typeof s.timeout?s.timeout:L(t)}else s=L(t),l=a;return t={id:A++,callback:o,priorityLevel:t,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>a?(t.sortIndex=l,S(C,t),null===E(I)&&t===E(C)&&(N?r():N=!0,i(j,l-a))):(t.sortIndex=s,S(I,t),F||M||(F=!0,n(z))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();B(t);var n=E(I);return n!==D&&null!==D&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<D.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=P;return function(){var n=P;P=e;try{return t.apply(this,arguments)}finally{P=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)},504:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(579),s=function(t){function e(e){var n=t.call(this,e)||this;return n.state={error:void 0},n}return i(e,t),e.getDerivedStateFromError=function(t){return{error:t}},e.prototype.render=function(){return null!=this.state.error?(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Component Error"},void 0),(0,o.jsx)("span",{children:this.state.error.message},void 0)]},void 0):this.props.children},e}(r(n(43)).default.PureComponent);e.default=s},639:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRenderData=void 0;var l=n(579),u=s(n(43)),c=n(635),h=n(129),d=a(n(504)),f=u.default.createContext(void 0);e.useRenderData=function(){var t=(0,u.useContext)(f);if(null==t)throw new Error("useRenderData() must be used inside <StreamlitProvider />");return t};e.default=function(t){var e=(0,h.useNullableRenderData)();return(0,u.useEffect)((function(){c.Streamlit.setFrameHeight()})),null==e?null:(0,l.jsx)(d.default,{children:(0,l.jsx)(f.Provider,i({value:e},{children:t.children}),void 0)},void 0)}},923:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=e.StreamlitProvider=e.useRenderData=void 0;var r=n(639);Object.defineProperty(e,"useRenderData",{enumerable:!0,get:function(){return r.useRenderData}}),Object.defineProperty(e,"StreamlitProvider",{enumerable:!0,get:function(){return i(r).default}});var o=n(129);Object.defineProperty(e,"useNullableRenderData",{enumerable:!0,get:function(){return o.useNullableRenderData}})},129:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=void 0;var i=n(43),r=n(635);e.useNullableRenderData=function(){var t=(0,i.useState)(),e=t[0],n=t[1];return(0,i.useEffect)((function(){var t=function(t){n(t.detail)};r.Streamlit.events.addEventListener(r.Streamlit.RENDER_EVENT,t),r.Streamlit.setComponentReady();return function(){r.Streamlit.events.removeEventListener(r.Streamlit.RENDER_EVENT,t)}}),[]),e}},635:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ArrowTable:()=>rs,Streamlit:()=>ss,StreamlitComponentBase:()=>us,withStreamlitConnection:()=>cs});var i,r,o,s,a,l,u,c,h,d=n(219),f=n.n(d),p=n(43);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(i||(i={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(r||(r={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(o||(o={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(s||(s={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(a||(a={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(l||(l={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(u||(u={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(c||(c={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(h||(h={}));const[v,y]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[g,m]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[b,w]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),_=t=>"number"===typeof t,k=t=>"boolean"===typeof t,x=t=>"function"===typeof t,S=t=>null!=t&&Object(t)===t,E=t=>S(t)&&x(t.then),O=t=>S(t)&&x(t[Symbol.iterator]),T=t=>S(t)&&x(t[Symbol.asyncIterator]),I=t=>S(t)&&S(t.schema),C=t=>S(t)&&"done"in t&&"value"in t,A=t=>S(t)&&x(t.stat)&&_(t.fd),D=t=>S(t)&&M(t.body),P=t=>"_getDOMStream"in t&&"_getNodeStream"in t,M=t=>S(t)&&x(t.cancel)&&x(t.getReader)&&!P(t),F=t=>S(t)&&x(t.read)&&x(t.pipe)&&k(t.readable)&&!P(t),N=t=>S(t)&&x(t.clear)&&x(t.bytes)&&x(t.position)&&x(t.setPosition)&&x(t.capacity)&&x(t.getBufferIdentifier)&&x(t.createLong);function B(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return"".concat(t);case"string":return'"'.concat(t,'"')}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?"[".concat(t instanceof g||t instanceof b?[...t].map((t=>B(t))):t,"]"):ArrayBuffer.isView(t)?"[".concat(t,"]"):JSON.stringify(t,((t,e)=>"bigint"===typeof e?"".concat(e):e))}function j(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}Object.create;function z(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function R(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof L?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function U(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:L(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function V(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=z(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,r,(e=t[n](e)).done,e.value)}))}}}Object.create;const H=new TextDecoder("utf-8"),W=t=>H.decode(t),q=new TextEncoder,Y=t=>q.encode(t),X="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function $(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,r),s=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,r));return o.set(s,n),t}function G(t,e){const n=function(t){const e=t[0]?[t[0]]:[];let n,i,r,o;for(let s,a,l=0,u=0,c=t.length;++l<c;)s=e[u],a=t[l],!s||!a||s.buffer!==a.buffer||a.byteOffset<s.byteOffset?a&&(e[++u]=a):(({byteOffset:n,byteLength:r}=s),({byteOffset:i,byteLength:o}=a),n+r<i||i+o<n?a&&(e[++u]=a):e[u]=new Uint8Array(s.buffer,n,i-n+o));return e}(t),i=n.reduce(((t,e)=>t+e.byteLength),0);let r,o,s,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,i);for(const c=n.length;++l<c;){if(r=n[l],o=r.subarray(0,Math.min(r.length,u-a)),u<=a+o.length){o.length<r.length?n[l]=r.subarray(o.length):o.length===r.length&&l++,s?$(s,o,a):s=o;break}$(s||(s=new Uint8Array(u)),o,a),a+=o.length}return[s||new Uint8Array(0),n.slice(l),i-(s?s.byteLength:0)]}function K(t,e){let n=C(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?("string"===typeof n&&(n=Y(n)),n instanceof ArrayBuffer||n instanceof X?new t(n):N(n)?K(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const Q=t=>K(Int32Array,t),J=t=>K(Uint8Array,t),Z=t=>(t.next(),t);function*tt(t,e){const n=function*(t){yield t},i="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof X?n(e):O(e)?e:n(e);return yield*Z(function*(e){let n=null;do{n=e.next(yield K(t,n))}while(!n.done)}(i[Symbol.iterator]())),new t}function et(t,e){return R(this,arguments,(function*(){if(E(e))return yield L(yield L(yield*U(V(et(t,yield L(e))))));const n=function(t){return R(this,arguments,(function*(){yield yield L(yield L(t))}))},i="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof X?n(e):O(e)?function(t){return R(this,arguments,(function*(){yield L(yield*U(V(Z(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):T(e)?e:n(e);return yield L(yield*U(V(Z(function(e){return R(this,arguments,(function*(){let n=null;do{n=yield L(e.next(yield yield L(K(t,n))))}while(!n.done)}))}(i[Symbol.asyncIterator]()))))),yield L(new t)}))}function nt(t,e,n){if(0!==t){n=n.slice(0,e+1);for(let i=-1;++i<=e;)n[i]+=t}return n}const it=Symbol.for("isArrowBigNum");function rt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return 0===n.length?Object.setPrototypeOf(K(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...n),this.constructor.prototype)}function ot(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rt.apply(this,e)}function st(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rt.apply(this,e)}function at(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rt.apply(this,e)}function lt(t){const{buffer:e,byteOffset:n,length:i,signed:r}=t,o=new b(e,n,i),s=r&&o[o.length-1]&BigInt(1)<<BigInt(63);let a=s?BigInt(1):BigInt(0),l=BigInt(0);if(s){for(const t of o)a+=~t*(BigInt(1)<<BigInt(32)*l++);a*=BigInt(-1)}else for(const u of o)a+=u*(BigInt(1)<<BigInt(32)*l++);return a}let ut,ct;function ht(t){let e="";const n=new Uint32Array(2);let i=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let o=-1;const s=i.length-1;do{for(n[0]=i[o=0];o<s;)i[o++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+i[o];i[o]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],e="".concat(n[0]).concat(e)}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}rt.prototype[it]=!0,rt.prototype.toJSON=function(){return'"'.concat(ut(this),'"')},rt.prototype.valueOf=function(){return lt(this)},rt.prototype.toString=function(){return ut(this)},rt.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return lt(this);case"string":return ut(this);case"default":return ct(this)}return ut(this)},Object.setPrototypeOf(ot.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(st.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(at.prototype,Object.create(Uint32Array.prototype)),Object.assign(ot.prototype,rt.prototype,{constructor:ot,signed:!0,TypedArray:Int32Array,BigIntArray:g}),Object.assign(st.prototype,rt.prototype,{constructor:st,signed:!1,TypedArray:Uint32Array,BigIntArray:b}),Object.assign(at.prototype,rt.prototype,{constructor:at,signed:!0,TypedArray:Uint32Array,BigIntArray:b}),y?(ct=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:ht(t),ut=t=>8===t.byteLength?"".concat(new t.BigIntArray(t.buffer,t.byteOffset,1)[0]):ht(t)):(ut=ht,ct=ut);class dt{static new(t,e){switch(e){case!0:return new ot(t);case!1:return new st(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case g:return new ot(t)}return 16===t.byteLength?new at(t):new st(t)}static signed(t){return new ot(t)}static unsigned(t){return new st(t)}static decimal(t){return new at(t)}constructor(t,e){return dt.new(t,e)}}var ft,pt,vt,yt,gt,mt,bt,wt,_t,kt,xt,St,Et,Ot,Tt,It,Ct,At,Dt,Pt;class Mt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===c.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===c.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===c.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===c.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===c.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===c.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===c.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===c.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===c.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===c.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===c.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===c.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===c.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===c.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===c.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===c.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===c.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===c.Dictionary}static isDenseUnion(t){return Mt.isUnion(t)&&t.mode===r.Dense}static isSparseUnion(t){return Mt.isUnion(t)&&t.mode===r.Sparse}get typeId(){return c.NONE}}ft=Symbol.toStringTag,Mt[ft]=((Pt=Mt.prototype).children=null,Pt.ArrayType=Array,Pt[Symbol.toStringTag]="DataType");class Ft extends Mt{toString(){return"Null"}get typeId(){return c.Null}}pt=Symbol.toStringTag,Ft[pt]=(t=>t[Symbol.toStringTag]="Null")(Ft.prototype);class Nt extends Mt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return c.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?g:b}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}vt=Symbol.toStringTag,Nt[vt]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Nt.prototype);class Bt extends Nt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends Nt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends Nt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Bt.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends Nt{constructor(){super(!0,64)}get ArrayType(){return g}}.prototype,"ArrayType",{value:g}),Object.defineProperty(class extends Nt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends Nt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Nt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends Nt{constructor(){super(!1,64)}get ArrayType(){return b}}.prototype,"ArrayType",{value:b});class jt extends Mt{constructor(t){super(),this.precision=t}get typeId(){return c.Float}get ArrayType(){switch(this.precision){case o.HALF:return Uint16Array;case o.SINGLE:return Float32Array;case o.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}toString(){return"Float".concat(this.precision<<5||16)}}yt=Symbol.toStringTag,jt[yt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(jt.prototype);Object.defineProperty(class extends jt{constructor(){super(o.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends jt{constructor(){super(o.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends jt{constructor(){super(o.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class zt extends Mt{constructor(){super()}get typeId(){return c.Binary}toString(){return"Binary"}}gt=Symbol.toStringTag,zt[gt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(zt.prototype);class Lt extends Mt{constructor(){super()}get typeId(){return c.Utf8}toString(){return"Utf8"}}mt=Symbol.toStringTag,Lt[mt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Lt.prototype);class Rt extends Mt{constructor(){super()}get typeId(){return c.Bool}toString(){return"Bool"}}bt=Symbol.toStringTag,Rt[bt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Rt.prototype);class Ut extends Mt{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return c.Decimal}toString(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}wt=Symbol.toStringTag,Ut[wt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Ut.prototype);class Vt extends Mt{constructor(t){super(),this.unit=t}get typeId(){return c.Date}toString(){return"Date".concat(32*(this.unit+1),"<").concat(s[this.unit],">")}}_t=Symbol.toStringTag,Vt[_t]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Vt.prototype);class Ht extends Mt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return c.Time}toString(){return"Time".concat(this.bitWidth,"<").concat(a[this.unit],">")}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return g}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}kt=Symbol.toStringTag,Ht[kt]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Ht.prototype);class Wt extends Mt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return c.Timestamp}toString(){return"Timestamp<".concat(a[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}xt=Symbol.toStringTag,Wt[xt]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Wt.prototype);class qt extends Mt{constructor(t){super(),this.unit=t}get typeId(){return c.Interval}toString(){return"Interval<".concat(l[this.unit],">")}}St=Symbol.toStringTag,qt[St]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(qt.prototype);class Yt extends Mt{constructor(t){super(),this.children=[t]}get typeId(){return c.List}toString(){return"List<".concat(this.valueType,">")}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Et=Symbol.toStringTag,Yt[Et]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Yt.prototype);class Xt extends Mt{constructor(t){super(),this.children=t}get typeId(){return c.Struct}toString(){return"Struct<{".concat(this.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}Ot=Symbol.toStringTag,Xt[Ot]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Xt.prototype);class $t extends Mt{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,n)=>(t[e]=n)&&t||t),Object.create(null))}get typeId(){return c.Union}toString(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((t=>"".concat(t.type))).join(" | "),">")}}Tt=Symbol.toStringTag,$t[Tt]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))($t.prototype);class Gt extends Mt{constructor(t){super(),this.byteWidth=t}get typeId(){return c.FixedSizeBinary}toString(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}It=Symbol.toStringTag,Gt[It]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Gt.prototype);class Kt extends Mt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return c.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}Ct=Symbol.toStringTag,Kt[Ct]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Kt.prototype);class Qt extends Mt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return c.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return"Map<{".concat(this.children[0].type.children.map((t=>"".concat(t.name,":").concat(t.type))).join(", "),"}>")}}At=Symbol.toStringTag,Qt[At]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Qt.prototype);const Jt=(Zt=-1,()=>++Zt);var Zt;class te extends Mt{constructor(t,e,n,i){super(),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=null==n?Jt():"number"===typeof n?n:n.low}get typeId(){return c.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}function ee(t){const e=t;switch(t.typeId){case c.Decimal:return t.bitWidth/32;case c.Timestamp:return 2;case c.Date:case c.Interval:return 1+e.unit;case c.FixedSizeList:return e.listSize;case c.FixedSizeBinary:return e.byteWidth;default:return 1}}Dt=Symbol.toStringTag,te[Dt]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(te.prototype);class ne{visitMany(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.map(((t,e)=>this.visit(t,...n.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return ie(t,e,n);if("string"===typeof e&&e in c)return ie(t,c[e],n);if(e&&e instanceof Mt)return ie(t,re(e),n);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Mt)return ie(t,re(e.type),n);return ie(t,c.NONE,n)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return ie(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ie(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=null;switch(e){case c.Null:i=t.visitNull;break;case c.Bool:i=t.visitBool;break;case c.Int:i=t.visitInt;break;case c.Int8:i=t.visitInt8||t.visitInt;break;case c.Int16:i=t.visitInt16||t.visitInt;break;case c.Int32:i=t.visitInt32||t.visitInt;break;case c.Int64:i=t.visitInt64||t.visitInt;break;case c.Uint8:i=t.visitUint8||t.visitInt;break;case c.Uint16:i=t.visitUint16||t.visitInt;break;case c.Uint32:i=t.visitUint32||t.visitInt;break;case c.Uint64:i=t.visitUint64||t.visitInt;break;case c.Float:i=t.visitFloat;break;case c.Float16:i=t.visitFloat16||t.visitFloat;break;case c.Float32:i=t.visitFloat32||t.visitFloat;break;case c.Float64:i=t.visitFloat64||t.visitFloat;break;case c.Utf8:i=t.visitUtf8;break;case c.Binary:i=t.visitBinary;break;case c.FixedSizeBinary:i=t.visitFixedSizeBinary;break;case c.Date:i=t.visitDate;break;case c.DateDay:i=t.visitDateDay||t.visitDate;break;case c.DateMillisecond:i=t.visitDateMillisecond||t.visitDate;break;case c.Timestamp:i=t.visitTimestamp;break;case c.TimestampSecond:i=t.visitTimestampSecond||t.visitTimestamp;break;case c.TimestampMillisecond:i=t.visitTimestampMillisecond||t.visitTimestamp;break;case c.TimestampMicrosecond:i=t.visitTimestampMicrosecond||t.visitTimestamp;break;case c.TimestampNanosecond:i=t.visitTimestampNanosecond||t.visitTimestamp;break;case c.Time:i=t.visitTime;break;case c.TimeSecond:i=t.visitTimeSecond||t.visitTime;break;case c.TimeMillisecond:i=t.visitTimeMillisecond||t.visitTime;break;case c.TimeMicrosecond:i=t.visitTimeMicrosecond||t.visitTime;break;case c.TimeNanosecond:i=t.visitTimeNanosecond||t.visitTime;break;case c.Decimal:i=t.visitDecimal;break;case c.List:i=t.visitList;break;case c.Struct:i=t.visitStruct;break;case c.Union:i=t.visitUnion;break;case c.DenseUnion:i=t.visitDenseUnion||t.visitUnion;break;case c.SparseUnion:i=t.visitSparseUnion||t.visitUnion;break;case c.Dictionary:i=t.visitDictionary;break;case c.Interval:i=t.visitInterval;break;case c.IntervalDayTime:i=t.visitIntervalDayTime||t.visitInterval;break;case c.IntervalYearMonth:i=t.visitIntervalYearMonth||t.visitInterval;break;case c.FixedSizeList:i=t.visitFixedSizeList;break;case c.Map:i=t.visitMap}if("function"===typeof i)return i;if(!n)return()=>null;throw new Error("Unrecognized type '".concat(c[e],"'"))}function re(t){switch(t.typeId){case c.Null:return c.Null;case c.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?c.Int8:c.Uint8;case 16:return n?c.Int16:c.Uint16;case 32:return n?c.Int32:c.Uint32;case 64:return n?c.Int64:c.Uint64}return c.Int}case c.Float:switch(t.precision){case o.HALF:return c.Float16;case o.SINGLE:return c.Float32;case o.DOUBLE:return c.Float64}return c.Float;case c.Binary:return c.Binary;case c.Utf8:return c.Utf8;case c.Bool:return c.Bool;case c.Decimal:return c.Decimal;case c.Time:switch(t.unit){case a.SECOND:return c.TimeSecond;case a.MILLISECOND:return c.TimeMillisecond;case a.MICROSECOND:return c.TimeMicrosecond;case a.NANOSECOND:return c.TimeNanosecond}return c.Time;case c.Timestamp:switch(t.unit){case a.SECOND:return c.TimestampSecond;case a.MILLISECOND:return c.TimestampMillisecond;case a.MICROSECOND:return c.TimestampMicrosecond;case a.NANOSECOND:return c.TimestampNanosecond}return c.Timestamp;case c.Date:switch(t.unit){case s.DAY:return c.DateDay;case s.MILLISECOND:return c.DateMillisecond}return c.Date;case c.Interval:switch(t.unit){case l.DAY_TIME:return c.IntervalDayTime;case l.YEAR_MONTH:return c.IntervalYearMonth}return c.Interval;case c.Map:return c.Map;case c.List:return c.List;case c.Struct:return c.Struct;case c.Union:switch(t.mode){case r.Dense:return c.DenseUnion;case r.Sparse:return c.SparseUnion}return c.Union;case c.FixedSizeBinary:return c.FixedSizeBinary;case c.FixedSizeList:return c.FixedSizeList;case c.Dictionary:return c.Dictionary}throw new Error("Unrecognized type '".concat(c[t.typeId],"'"))}ne.prototype.visitInt8=null,ne.prototype.visitInt16=null,ne.prototype.visitInt32=null,ne.prototype.visitInt64=null,ne.prototype.visitUint8=null,ne.prototype.visitUint16=null,ne.prototype.visitUint32=null,ne.prototype.visitUint64=null,ne.prototype.visitFloat16=null,ne.prototype.visitFloat32=null,ne.prototype.visitFloat64=null,ne.prototype.visitDateDay=null,ne.prototype.visitDateMillisecond=null,ne.prototype.visitTimestampSecond=null,ne.prototype.visitTimestampMillisecond=null,ne.prototype.visitTimestampMicrosecond=null,ne.prototype.visitTimestampNanosecond=null,ne.prototype.visitTimeSecond=null,ne.prototype.visitTimeMillisecond=null,ne.prototype.visitTimeMicrosecond=null,ne.prototype.visitTimeNanosecond=null,ne.prototype.visitDenseUnion=null,ne.prototype.visitSparseUnion=null,ne.prototype.visitIntervalDayTime=null,ne.prototype.visitIntervalYearMonth=null;const oe=new Float64Array(1),se=new Uint32Array(oe.buffer);function ae(t){const e=(31744&t)>>10,n=(1023&t)/1024,i=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return i*(n?Number.NaN:1/0);case 0:return i*(n?6103515625e-14*n:0)}return i*Math.pow(2,e-15)*(1+n)}class le extends ne{}function ue(t){return(e,n,i)=>{if(e.setValid(n,null!=i))return t(e,n,i)}}const ce=(t,e,n)=>{t[e]=Math.trunc(n%4294967296),t[e+1]=Math.trunc(n/4294967296)},he=(t,e,n,i)=>{if(n+1<e.length){const{[n]:r,[n+1]:o}=e;t.set(i.subarray(0,o-r),r)}},de=(t,e,n)=>{let{values:i}=t;i[e]=n},fe=(t,e,n)=>{let{values:i}=t;i[e]=n},pe=(t,e,n)=>{let{values:i}=t;i[e]=function(t){if(t!==t)return 32256;oe[0]=t;const e=(2147483648&se[1])>>16&65535;let n=2146435072&se[1],i=0;return n>=1089470464?se[0]>0?n=31744:(n=(2080374784&n)>>16,i=(1048575&se[1])>>10):n<=1056964608?(i=1048576+(1048575&se[1]),i=1048576+(i<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,i=512+(1048575&se[1])>>10),e|n|65535&i}(n)},ve=(t,e,n)=>{let{values:i}=t;((t,e,n)=>{t[e]=Math.trunc(n/864e5)})(i,e,n.valueOf())},ye=(t,e,n)=>{let{values:i}=t;ce(i,2*e,n.valueOf())},ge=(t,e,n)=>{let{values:i}=t;return ce(i,2*e,n/1e3)},me=(t,e,n)=>{let{values:i}=t;return ce(i,2*e,n)},be=(t,e,n)=>{let{values:i}=t;return((t,e,n)=>{t[e]=Math.trunc(1e3*n%4294967296),t[e+1]=Math.trunc(1e3*n/4294967296)})(i,2*e,n)},we=(t,e,n)=>{let{values:i}=t;return((t,e,n)=>{t[e]=Math.trunc(1e6*n%4294967296),t[e+1]=Math.trunc(1e6*n/4294967296)})(i,2*e,n)},_e=(t,e,n)=>{let{values:i}=t;i[e]=n},ke=(t,e,n)=>{let{values:i}=t;i[e]=n},xe=(t,e,n)=>{let{values:i}=t;i[e]=n},Se=(t,e,n)=>{let{values:i}=t;i[e]=n},Ee=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];Ce.visit(r,t.valueOffsets[e],n)},Oe=(t,e,n)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];Ce.visit(r,e,n)},Te=(t,e,n)=>{let{values:i}=t;i.set(n.subarray(0,2),2*e)},Ie=(t,e,n)=>{let{values:i}=t;i[e]=12*n[0]+n[1]%12};le.prototype.visitBool=ue(((t,e,n)=>{let{offset:i,values:r}=t;const o=i+e;n?r[o>>3]|=1<<o%8:r[o>>3]&=~(1<<o%8)})),le.prototype.visitInt=ue(de),le.prototype.visitInt8=ue(de),le.prototype.visitInt16=ue(de),le.prototype.visitInt32=ue(de),le.prototype.visitInt64=ue(de),le.prototype.visitUint8=ue(de),le.prototype.visitUint16=ue(de),le.prototype.visitUint32=ue(de),le.prototype.visitUint64=ue(de),le.prototype.visitFloat=ue(((t,e,n)=>{switch(t.type.precision){case o.HALF:return pe(t,e,n);case o.SINGLE:case o.DOUBLE:return fe(t,e,n)}})),le.prototype.visitFloat16=ue(pe),le.prototype.visitFloat32=ue(fe),le.prototype.visitFloat64=ue(fe),le.prototype.visitUtf8=ue(((t,e,n)=>{let{values:i,valueOffsets:r}=t;he(i,r,e,Y(n))})),le.prototype.visitBinary=ue(((t,e,n)=>{let{values:i,valueOffsets:r}=t;return he(i,r,e,n)})),le.prototype.visitFixedSizeBinary=ue(((t,e,n)=>{let{stride:i,values:r}=t;r.set(n.subarray(0,i),i*e)})),le.prototype.visitDate=ue(((t,e,n)=>{t.type.unit===s.DAY?ve(t,e,n):ye(t,e,n)})),le.prototype.visitDateDay=ue(ve),le.prototype.visitDateMillisecond=ue(ye),le.prototype.visitTimestamp=ue(((t,e,n)=>{switch(t.type.unit){case a.SECOND:return ge(t,e,n);case a.MILLISECOND:return me(t,e,n);case a.MICROSECOND:return be(t,e,n);case a.NANOSECOND:return we(t,e,n)}})),le.prototype.visitTimestampSecond=ue(ge),le.prototype.visitTimestampMillisecond=ue(me),le.prototype.visitTimestampMicrosecond=ue(be),le.prototype.visitTimestampNanosecond=ue(we),le.prototype.visitTime=ue(((t,e,n)=>{switch(t.type.unit){case a.SECOND:return _e(t,e,n);case a.MILLISECOND:return ke(t,e,n);case a.MICROSECOND:return xe(t,e,n);case a.NANOSECOND:return Se(t,e,n)}})),le.prototype.visitTimeSecond=ue(_e),le.prototype.visitTimeMillisecond=ue(ke),le.prototype.visitTimeMicrosecond=ue(xe),le.prototype.visitTimeNanosecond=ue(Se),le.prototype.visitDecimal=ue(((t,e,n)=>{let{values:i,stride:r}=t;i.set(n.subarray(0,r),r*e)})),le.prototype.visitList=ue(((t,e,n)=>{const i=t.children[0],r=t.valueOffsets,o=Ce.getVisitFn(i);if(Array.isArray(n))for(let s=-1,a=r[e],l=r[e+1];a<l;)o(i,a++,n[++s]);else for(let s=-1,a=r[e],l=r[e+1];a<l;)o(i,a++,n.get(++s))})),le.prototype.visitStruct=ue(((t,e,n)=>{const i=t.type.children.map((t=>Ce.getVisitFn(t.type))),r=n instanceof Map?(o=e,s=n,(t,e,n,i)=>e&&t(e,o,s.get(n.name))):n instanceof Xn?((t,e)=>(n,i,r,o)=>i&&n(i,t,e.get(o)))(e,n):Array.isArray(n)?((t,e)=>(n,i,r,o)=>i&&n(i,t,e[o]))(e,n):((t,e)=>(n,i,r,o)=>i&&n(i,t,e[r.name]))(e,n);var o,s;t.type.children.forEach(((e,n)=>r(i[n],t.children[n],e,n)))})),le.prototype.visitUnion=ue(((t,e,n)=>{t.type.mode===r.Dense?Ee(t,e,n):Oe(t,e,n)})),le.prototype.visitDenseUnion=ue(Ee),le.prototype.visitSparseUnion=ue(Oe),le.prototype.visitDictionary=ue(((t,e,n)=>{var i;null===(i=t.dictionary)||void 0===i||i.set(t.values[e],n)})),le.prototype.visitInterval=ue(((t,e,n)=>{t.type.unit===l.DAY_TIME?Te(t,e,n):Ie(t,e,n)})),le.prototype.visitIntervalDayTime=ue(Te),le.prototype.visitIntervalYearMonth=ue(Ie),le.prototype.visitFixedSizeList=ue(((t,e,n)=>{const{stride:i}=t,r=t.children[0],o=Ce.getVisitFn(r);if(Array.isArray(n))for(let s=-1,a=e*i;++s<i;)o(r,a+s,n[s]);else for(let s=-1,a=e*i;++s<i;)o(r,a+s,n.get(s))})),le.prototype.visitMap=ue(((t,e,n)=>{const i=t.children[0],{valueOffsets:r}=t,o=Ce.getVisitFn(i);let{[e]:s,[e+1]:a}=r;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(o(i,s,u),++s>=a)break}));const Ce=new le,Ae=Symbol.for("parent"),De=Symbol.for("rowIndex");class Pe{constructor(t,e){return this[Ae]=t,this[De]=e,new Proxy(this,new Fe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[De],e=this[Ae],n=e.type.children,i={};for(let r=-1,o=n.length;++r<o;)i[n[r].name]=nn.visit(e.children[r],t);return i}toString(){return"{".concat([...this].map((t=>{let[e,n]=t;return"".concat(B(e),": ").concat(B(n))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Me(this[Ae],this[De])}}class Me{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,nn.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Pe.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ae]:{writable:!0,enumerable:!1,configurable:!1,value:null},[De]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Fe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ae].type.children.map((t=>t.name))}has(t,e){return-1!==t[Ae].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Ae].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Ae].type.children.findIndex((t=>t.name===e));if(-1!==n){const i=nn.visit(t[Ae].children[n],t[De]);return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[Ae].type.children.findIndex((t=>t.name===e));return-1!==i?(Ce.visit(t[Ae].children[i],t[De],n),Reflect.set(t,e,n)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,n)}}class Ne extends ne{}function Be(t){return(e,n)=>e.getValid(n)?t(e,n):null}const je=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),ze=t=>new Date(t),Le=(t,e,n)=>{if(n+1>=e.length)return null;const i=e[n],r=e[n+1];return t.subarray(i,r)},Re=(t,e)=>{let{values:n}=t;return((t,e)=>ze(((t,e)=>864e5*t[e])(t,e)))(n,e)},Ue=(t,e)=>{let{values:n}=t;return((t,e)=>ze(je(t,e)))(n,2*e)},Ve=(t,e)=>{let{stride:n,values:i}=t;return i[n*e]},He=(t,e)=>{let{values:n}=t;return n[e]},We=(t,e)=>{let{values:n}=t;return 1e3*je(n,2*e)},qe=(t,e)=>{let{values:n}=t;return je(n,2*e)},Ye=(t,e)=>{let{values:n}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(n,2*e)},Xe=(t,e)=>{let{values:n}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(n,2*e)},$e=(t,e)=>{let{values:n}=t;return n[e]},Ge=(t,e)=>{let{values:n}=t;return n[e]},Ke=(t,e)=>{let{values:n}=t;return n[e]},Qe=(t,e)=>{let{values:n}=t;return n[e]},Je=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return nn.visit(i,t.valueOffsets[e])},Ze=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];return nn.visit(i,e)},tn=(t,e)=>{let{values:n}=t;return n.subarray(2*e,2*(e+1))},en=(t,e)=>{let{values:n}=t;const i=n[e],r=new Int32Array(2);return r[0]=Math.trunc(i/12),r[1]=Math.trunc(i%12),r};Ne.prototype.visitNull=Be(((t,e)=>null)),Ne.prototype.visitBool=Be(((t,e)=>{let{offset:n,values:i}=t;const r=n+e;return 0!==(i[r>>3]&1<<r%8)})),Ne.prototype.visitInt=Be(((t,e)=>{let{values:n}=t;return n[e]})),Ne.prototype.visitInt8=Be(Ve),Ne.prototype.visitInt16=Be(Ve),Ne.prototype.visitInt32=Be(Ve),Ne.prototype.visitInt64=Be(He),Ne.prototype.visitUint8=Be(Ve),Ne.prototype.visitUint16=Be(Ve),Ne.prototype.visitUint32=Be(Ve),Ne.prototype.visitUint64=Be(He),Ne.prototype.visitFloat=Be(((t,e)=>{let{type:n,values:i}=t;return n.precision!==o.HALF?i[e]:ae(i[e])})),Ne.prototype.visitFloat16=Be(((t,e)=>{let{stride:n,values:i}=t;return ae(i[n*e])})),Ne.prototype.visitFloat32=Be(Ve),Ne.prototype.visitFloat64=Be(Ve),Ne.prototype.visitUtf8=Be(((t,e)=>{let{values:n,valueOffsets:i}=t;const r=Le(n,i,e);return null!==r?W(r):null})),Ne.prototype.visitBinary=Be(((t,e)=>{let{values:n,valueOffsets:i}=t;return Le(n,i,e)})),Ne.prototype.visitFixedSizeBinary=Be(((t,e)=>{let{stride:n,values:i}=t;return i.subarray(n*e,n*(e+1))})),Ne.prototype.visitDate=Be(((t,e)=>t.type.unit===s.DAY?Re(t,e):Ue(t,e))),Ne.prototype.visitDateDay=Be(Re),Ne.prototype.visitDateMillisecond=Be(Ue),Ne.prototype.visitTimestamp=Be(((t,e)=>{switch(t.type.unit){case a.SECOND:return We(t,e);case a.MILLISECOND:return qe(t,e);case a.MICROSECOND:return Ye(t,e);case a.NANOSECOND:return Xe(t,e)}})),Ne.prototype.visitTimestampSecond=Be(We),Ne.prototype.visitTimestampMillisecond=Be(qe),Ne.prototype.visitTimestampMicrosecond=Be(Ye),Ne.prototype.visitTimestampNanosecond=Be(Xe),Ne.prototype.visitTime=Be(((t,e)=>{switch(t.type.unit){case a.SECOND:return $e(t,e);case a.MILLISECOND:return Ge(t,e);case a.MICROSECOND:return Ke(t,e);case a.NANOSECOND:return Qe(t,e)}})),Ne.prototype.visitTimeSecond=Be($e),Ne.prototype.visitTimeMillisecond=Be(Ge),Ne.prototype.visitTimeMicrosecond=Be(Ke),Ne.prototype.visitTimeNanosecond=Be(Qe),Ne.prototype.visitDecimal=Be(((t,e)=>{let{values:n,stride:i}=t;return dt.decimal(n.subarray(i*e,i*(e+1)))})),Ne.prototype.visitList=Be(((t,e)=>{const{valueOffsets:n,stride:i,children:r}=t,{[e*i]:o,[e*i+1]:s}=n,a=r[0].slice(o,s-o);return new Xn([a])})),Ne.prototype.visitStruct=Be(((t,e)=>new Pe(t,e))),Ne.prototype.visitUnion=Be(((t,e)=>t.type.mode===r.Dense?Je(t,e):Ze(t,e))),Ne.prototype.visitDenseUnion=Be(Je),Ne.prototype.visitSparseUnion=Be(Ze),Ne.prototype.visitDictionary=Be(((t,e)=>{var n;return null===(n=t.dictionary)||void 0===n?void 0:n.get(t.values[e])})),Ne.prototype.visitInterval=Be(((t,e)=>t.type.unit===l.DAY_TIME?tn(t,e):en(t,e))),Ne.prototype.visitIntervalDayTime=Be(tn),Ne.prototype.visitIntervalYearMonth=Be(en),Ne.prototype.visitFixedSizeList=Be(((t,e)=>{const{stride:n,children:i}=t,r=i[0].slice(e*n,n);return new Xn([r])})),Ne.prototype.visitMap=Be(((t,e)=>{const{valueOffsets:n,children:i}=t,{[e]:r,[e+1]:o}=n,s=i[0];return new sn(s.slice(r,o-r))}));const nn=new Ne,rn=Symbol.for("keys"),on=Symbol.for("vals");class sn{constructor(t){return this[rn]=new Xn([t.children[0]]).memoize(),this[on]=t.children[1],new Proxy(this,new ln)}[Symbol.iterator](){return new an(this[rn],this[on])}get size(){return this[rn].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[rn],e=this[on],n={};for(let i=-1,r=t.length;++i<r;)n[t.get(i)]=nn.visit(e,i);return n}toString(){return"{".concat([...this].map((t=>{let[e,n]=t;return"".concat(B(e),": ").concat(B(n))})).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class an{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),nn.visit(this.vals,t)]})}}class ln{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[rn].toArray().map(String)}has(t,e){return t[rn].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[rn].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[rn].indexOf(e);if(-1!==n){const i=nn.visit(Reflect.get(t,on),n);return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[rn].indexOf(e);return-1!==i?(Ce.visit(Reflect.get(t,on),i,n),Reflect.set(t,e,n)):!!Reflect.has(t,e)&&Reflect.set(t,e,n)}}let un;function cn(t,e,n,i){const{length:r=0}=t;let o="number"!==typeof e?0:e,s="number"!==typeof n?r:n;return o<0&&(o=(o%r+r)%r),s<0&&(s=(s%r+r)%r),s<o&&(un=o,o=s,s=un),s>r&&(s=r),i?i(t,o,s):[o,s]}Object.defineProperties(sn.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[rn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[on]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const hn=t=>t!==t;function dn(t){if("object"!==typeof t||null===t)return hn(t)?hn:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let n=0;const i=t.length;if(i!==e.length)return!1;if(i>0)do{if(t[n]!==e[n])return!1}while(++n<i);return!0}(t,e):t instanceof Map?function(t){let e=-1;const n=[];for(const i of t.values())n[++e]=dn(i);return fn(n)}(t):Array.isArray(t)?function(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=dn(t[n]);return fn(e)}(t):t instanceof Xn?function(t){const e=[];for(let n=-1,i=t.length;++n<i;)e[n]=dn(t.get(n));return fn(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Object.keys(t);if(!e&&0===n.length)return()=>!1;const i=[];for(let r=-1,o=n.length;++r<o;)i[r]=dn(t[n[r]]);return fn(i,n)}(t,!0)}function fn(t,e){return n=>{if(!n||"object"!==typeof n)return!1;switch(n.constructor){case Array:return function(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e[i]))return!1;return!0}(t,n);case Map:return pn(t,n,n.keys());case sn:case Pe:case Object:case void 0:return pn(t,n,e||Object.keys(n))}return n instanceof Xn&&function(t,e){const n=t.length;if(e.length!==n)return!1;for(let i=-1;++i<n;)if(!t[i](e.get(i)))return!1;return!0}(t,n)}}function pn(t,e,n){const i=n[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let s=0;const a=t.length;let l=o.next(),u=i.next(),c=r.next();for(;s<a&&!u.done&&!c.done&&!l.done&&(u.value===c.value&&t[s](l.value));++s,u=i.next(),c=r.next(),l=o.next());return!!(s===a&&u.done&&c.done&&l.done)||(i.return&&i.return(),r.return&&r.return(),o.return&&o.return(),!1)}class vn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function yn(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function gn(t){return t.reduce(((t,e,n)=>(t[n+1]=t[n]+e.length,t)),new Uint32Array(t.length+1))}function mn(t,e,n,i){const r=[];for(let o=-1,s=t.length;++o<s;){const s=t[o],a=e[o],{length:l}=s;if(a>=i)break;if(n>=a+l)continue;if(a>=n&&a+l<=i){r.push(s);continue}const u=Math.max(0,n-a),c=Math.min(i-a,l);r.push(s.slice(u,c-u))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function bn(t,e,n,i){let r=0,o=0,s=e.length-1;do{if(r>=s-1)return n<e[s]?i(t,r,n-e[r]):null;o=r+Math.trunc(.5*(s-r)),n<e[o]?s=o:r=o}while(r<s)}function wn(t,e){return t.getValid(e)}function _n(t){function e(e,n,i){return t(e[n],i)}return function(t){return bn(this.data,this._offsets,t,e)}}function kn(t){let e;function n(n,i,r){return t(n[i],r,e)}return function(t,i){const r=this.data;e=i;const o=bn(r,this._offsets,t,n);return e=void 0,o}}function xn(t){let e;function n(n,i,r){let o=r,s=0,a=0;for(let l=i-1,u=n.length;++l<u;){const i=n[l];if(~(s=t(i,e,o)))return a+s;o=0,a+=i.length}return-1}return function(t,i){e=t;const r=this.data,o="number"!==typeof i?n(r,0,0):bn(r,this._offsets,i,n);return e=void 0,o}}function Sn(t,e,n,i){return 0!==(n&1<<i)}function En(t,e,n,i){return(n&1<<i)>>i}function On(t,e,n){const i=n.byteLength+7&-8;if(t>0||n.byteLength<i){const r=new Uint8Array(i);return r.set(t%8===0?n.subarray(t>>3):Tn(new In(n,t,e,null,Sn)).subarray(0,i)),r}return n}function Tn(t){const e=[];let n=0,i=0,r=0;for(const s of t)s&&(r|=1<<i),8===++i&&(e[n++]=r,r=i=0);(0===n||i>0)&&(e[n++]=r);const o=new Uint8Array(e.length+7&-8);return o.set(e),o}class In{constructor(t,e,n,i,r){this.bytes=t,this.length=n,this.context=i,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Cn(t,e,n){if(n-e<=0)return 0;if(n-e<8){let i=0;for(const r of new In(t,e,n-e,t,En))i+=r;return i}const i=n>>3<<3,r=e+(e%8===0?0:8-e%8);return Cn(t,e,r)+Cn(t,i,n)+function(t,e,n){let i=0,r=Math.trunc(e);const o=new DataView(t.buffer,t.byteOffset,t.byteLength),s=void 0===n?t.byteLength:r+n;for(;s-r>=4;)i+=An(o.getUint32(r)),r+=4;for(;s-r>=2;)i+=An(o.getUint16(r)),r+=2;for(;s-r>=1;)i+=An(o.getUint8(r)),r+=1;return i}(t,r>>3,i-r>>3)}function An(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Dn extends ne{}function Pn(t,e,n){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let i=0;for(const r of new In(n,t.offset+(e||0),t.length,n,Sn)){if(!r)return i;++i}return-1}(t,n);const i=nn.getVisitFn(t),r=dn(e);for(let o=(n||0)-1,s=t.length;++o<s;)if(r(i(t,o)))return o;return-1}function Mn(t,e,n){const i=nn.getVisitFn(t),r=dn(e);for(let o=(n||0)-1,s=t.length;++o<s;)if(r(i(t,o)))return o;return-1}Dn.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Dn.prototype.visitBool=Pn,Dn.prototype.visitInt=Pn,Dn.prototype.visitInt8=Pn,Dn.prototype.visitInt16=Pn,Dn.prototype.visitInt32=Pn,Dn.prototype.visitInt64=Pn,Dn.prototype.visitUint8=Pn,Dn.prototype.visitUint16=Pn,Dn.prototype.visitUint32=Pn,Dn.prototype.visitUint64=Pn,Dn.prototype.visitFloat=Pn,Dn.prototype.visitFloat16=Pn,Dn.prototype.visitFloat32=Pn,Dn.prototype.visitFloat64=Pn,Dn.prototype.visitUtf8=Pn,Dn.prototype.visitBinary=Pn,Dn.prototype.visitFixedSizeBinary=Pn,Dn.prototype.visitDate=Pn,Dn.prototype.visitDateDay=Pn,Dn.prototype.visitDateMillisecond=Pn,Dn.prototype.visitTimestamp=Pn,Dn.prototype.visitTimestampSecond=Pn,Dn.prototype.visitTimestampMillisecond=Pn,Dn.prototype.visitTimestampMicrosecond=Pn,Dn.prototype.visitTimestampNanosecond=Pn,Dn.prototype.visitTime=Pn,Dn.prototype.visitTimeSecond=Pn,Dn.prototype.visitTimeMillisecond=Pn,Dn.prototype.visitTimeMicrosecond=Pn,Dn.prototype.visitTimeNanosecond=Pn,Dn.prototype.visitDecimal=Pn,Dn.prototype.visitList=Pn,Dn.prototype.visitStruct=Pn,Dn.prototype.visitUnion=Pn,Dn.prototype.visitDenseUnion=Mn,Dn.prototype.visitSparseUnion=Mn,Dn.prototype.visitDictionary=Pn,Dn.prototype.visitInterval=Pn,Dn.prototype.visitIntervalDayTime=Pn,Dn.prototype.visitIntervalYearMonth=Pn,Dn.prototype.visitFixedSizeList=Pn,Dn.prototype.visitMap=Pn;const Fn=new Dn;class Nn extends ne{}function Bn(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===c.Timestamp||e instanceof Nt&&64!==e.bitWidth||e instanceof Ht&&64!==e.bitWidth||e instanceof jt&&e.precision!==o.HALF))return new vn(t.data.length,(e=>{const n=t.data[e];return n.values.subarray(0,n.length)[Symbol.iterator]()}));let n=0;return new vn(t.data.length,(e=>{const i=t.data[e].length,r=t.slice(n,n+i);return n+=i,new jn(r)}))}class jn{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Nn.prototype.visitNull=Bn,Nn.prototype.visitBool=Bn,Nn.prototype.visitInt=Bn,Nn.prototype.visitInt8=Bn,Nn.prototype.visitInt16=Bn,Nn.prototype.visitInt32=Bn,Nn.prototype.visitInt64=Bn,Nn.prototype.visitUint8=Bn,Nn.prototype.visitUint16=Bn,Nn.prototype.visitUint32=Bn,Nn.prototype.visitUint64=Bn,Nn.prototype.visitFloat=Bn,Nn.prototype.visitFloat16=Bn,Nn.prototype.visitFloat32=Bn,Nn.prototype.visitFloat64=Bn,Nn.prototype.visitUtf8=Bn,Nn.prototype.visitBinary=Bn,Nn.prototype.visitFixedSizeBinary=Bn,Nn.prototype.visitDate=Bn,Nn.prototype.visitDateDay=Bn,Nn.prototype.visitDateMillisecond=Bn,Nn.prototype.visitTimestamp=Bn,Nn.prototype.visitTimestampSecond=Bn,Nn.prototype.visitTimestampMillisecond=Bn,Nn.prototype.visitTimestampMicrosecond=Bn,Nn.prototype.visitTimestampNanosecond=Bn,Nn.prototype.visitTime=Bn,Nn.prototype.visitTimeSecond=Bn,Nn.prototype.visitTimeMillisecond=Bn,Nn.prototype.visitTimeMicrosecond=Bn,Nn.prototype.visitTimeNanosecond=Bn,Nn.prototype.visitDecimal=Bn,Nn.prototype.visitList=Bn,Nn.prototype.visitStruct=Bn,Nn.prototype.visitUnion=Bn,Nn.prototype.visitDenseUnion=Bn,Nn.prototype.visitSparseUnion=Bn,Nn.prototype.visitDictionary=Bn,Nn.prototype.visitInterval=Bn,Nn.prototype.visitIntervalDayTime=Bn,Nn.prototype.visitIntervalYearMonth=Bn,Nn.prototype.visitFixedSizeList=Bn,Nn.prototype.visitMap=Bn;const zn=new Nn,Ln=(t,e)=>t+e;class Rn extends ne{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===a.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,n)=>t+Hn.visit(n,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,n)=>t+Hn.visit(n,e)),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+((null===(n=t.dictionary)||void 0===n?void 0:n.getByteLength(t.values[e]))||0)}}const Un=(t,e)=>{let{type:n,children:i,typeIds:r,valueOffsets:o}=t;const s=n.typeIdToChildIndex[r[e]];return 8+Hn.visit(i[s],o[e])},Vn=(t,e)=>{let{children:n}=t;return 4+Hn.visitMany(n,n.map((()=>e))).reduce(Ln,0)};Rn.prototype.visitUtf8=(t,e)=>{let{valueOffsets:n}=t;return n[e+1]-n[e]+8},Rn.prototype.visitBinary=(t,e)=>{let{valueOffsets:n}=t;return n[e+1]-n[e]+8},Rn.prototype.visitList=(t,e)=>{let{valueOffsets:n,stride:i,children:r}=t;const o=r[0],{[e*i]:s}=n,{[e*i+1]:a}=n,l=Hn.getVisitFn(o.type),u=o.slice(s,a-s);let c=8;for(let h=-1,d=a-s;++h<d;)c+=l(u,h);return c},Rn.prototype.visitFixedSizeList=(t,e)=>{let{stride:n,children:i}=t;const r=i[0],o=r.slice(e*n,n),s=Hn.getVisitFn(r.type);let a=0;for(let l=-1,u=o.length;++l<u;)a+=s(o,l);return a},Rn.prototype.visitUnion=(t,e)=>t.type.mode===r.Dense?Un(t,e):Vn(t,e),Rn.prototype.visitDenseUnion=Un,Rn.prototype.visitSparseUnion=Vn;const Hn=new Rn;var Wn;const qn={},Yn={};class Xn{constructor(t){var e,n,i;const r=t[0]instanceof Xn?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Gn))))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:n,byteLength:i}=qn[o.typeId],s=r[0];this.isValid=t=>wn(s,t),this.get=e=>t(s,e),this.set=(t,n)=>e(s,t,n),this.indexOf=t=>n(s,t),this.getByteLength=t=>i(s,t),this._offsets=[0,s.length];break}default:Object.setPrototypeOf(this,Yn[o.typeId]),this._offsets=gn(r)}this.data=r,this.type=o,this.stride=ee(o),this.numChildren=null!==(i=null===(n=o.children)||void 0===n?void 0:n.length)&&void 0!==i?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=yn(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}get VectorName(){return"".concat(c[this.type.typeId],"Vector")}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return zn.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Xn(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Xn(cn(this,t,e,((t,e,n)=>{let{data:i,_offsets:r}=t;return mn(i,r,e,n)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:i,ArrayType:r}=this;switch(t.typeId){case c.Int:case c.Float:case c.Decimal:case c.Time:case c.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,n*i);default:return e.reduce(((t,e)=>{let{values:n,length:r}=e;return t.array.set(n.subarray(0,r*i),t.offset),t.offset+=r*i,t}),{array:new r(n*i),offset:0}).array}}return[...this]}toString(){return"[".concat([...this].join(","),"]")}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Xn(this.data.map((e=>{let{children:n}=e;return n[t]}))):null}get isMemoized(){return!!Mt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Mt.isDictionary(this.type)){const t=new $n(this.data[0].dictionary),e=this.data.map((e=>{const n=e.clone();return n.dictionary=t,n}));return new Xn(e)}return new $n(this)}unmemoize(){if(Mt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const n=e.clone();return n.dictionary=t,n}));return new Xn(e)}return this}}Wn=Symbol.toStringTag,Xn[Wn]=(t=>{t.type=Mt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(c).map((t=>c[t])).filter((t=>"number"===typeof t&&t!==c.NONE));for(const n of e){const e=nn.getVisitFnByTypeId(n),i=Ce.getVisitFnByTypeId(n),r=Fn.getVisitFnByTypeId(n),o=Hn.getVisitFnByTypeId(n);qn[n]={get:e,set:i,indexOf:r,byteLength:o},Yn[n]=Object.create(t,{isValid:{value:_n(wn)},get:{value:_n(nn.getVisitFnByTypeId(n))},set:{value:kn(Ce.getVisitFnByTypeId(n))},indexOf:{value:xn(Fn.getVisitFnByTypeId(n))},getByteLength:{value:_n(Hn.getVisitFnByTypeId(n))}})}return"Vector"})(Xn.prototype);class $n extends Xn{constructor(t){super(t.data);const e=this.get,n=this.set,i=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const n=r[t];if(void 0!==n)return n;const i=e.call(this,t);return r[t]=i,i}}),Object.defineProperty(this,"set",{value(t,e){n.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new $n(i.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Xn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Gn{constructor(t,e,n,i,r){let o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),r instanceof Gn?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=ee(t),r&&((o=r[0])&&(this.valueOffsets=o),(o=r[1])&&(this.values=o),(o=r[2])&&(this.nullBitmap=o),(o=r[3])&&(this.typeIds=o))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:i,typeIds:r}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),i&&(t+=i.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Cn(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:n,offset:i}=this,r=i+t>>3,o=(i+t)%8,s=n[r]>>o&1;return e?0===s&&(n[r]|=1<<o,this._nullCount=this.nullCount+1):1===s&&(n[r]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Gn(t,e,n,i,r,o,this.dictionary)}slice(t,e){const{stride:n,typeId:i,children:r}=this,o=+(0===this._nullCount)-1,s=16===i?n:1,a=this._sliceBuffers(t,e,n,i);return this.clone(this.type,this.offset+t,e,o,a,0===r.length||this.valueOffsets?r:this._sliceChildren(r,s*t,s*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===c.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);i[e>>3]=(1<<e-(-8&e))-1,n>0&&i.set(On(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[h.VALIDITY]=i,this.clone(this.type,0,t,n+(t-e),r)}_sliceBuffers(t,e,n,i){let r;const{buffers:o}=this;return(r=o[h.TYPE])&&(o[h.TYPE]=r.subarray(t,t+e)),(r=o[h.OFFSET])&&(o[h.OFFSET]=r.subarray(t,t+e+1))||(r=o[h.DATA])&&(o[h.DATA]=6===i?r:r.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map((t=>t.slice(e,n)))}}Gn.prototype.children=Object.freeze([]);class Kn extends ne{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:n=0,length:i=0}=t;return new Gn(e,n,i,0)}visitBool(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length>>3,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitInt(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitFloat(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length,nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitUtf8(t){const{type:e,offset:n=0}=t,i=J(t.data),r=J(t.nullBitmap),o=Q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,s,a,[o,i,r])}visitBinary(t){const{type:e,offset:n=0}=t,i=J(t.data),r=J(t.nullBitmap),o=Q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,s,a,[o,i,r])}visitFixedSizeBinary(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length/ee(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitDate(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length/ee(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitTimestamp(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length/ee(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitTime(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length/ee(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitDecimal(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length/ee(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitList(t){const{type:e,offset:n=0,child:i}=t,r=J(t.nullBitmap),o=Q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,s,a,[o,void 0,r],[i])}visitStruct(t){const{type:e,offset:n=0,children:i=[]}=t,r=J(t.nullBitmap),{length:o=i.reduce(((t,e)=>{let{length:n}=e;return Math.max(t,n)}),0),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,void 0,r],i)}visitUnion(t){const{type:e,offset:n=0,children:i=[]}=t,r=J(t.nullBitmap),o=K(e.ArrayType,t.typeIds),{length:s=o.length,nullCount:a=(t.nullBitmap?-1:0)}=t;if(Mt.isSparseUnion(e))return new Gn(e,n,s,a,[void 0,void 0,r,o],i);const l=Q(t.valueOffsets);return new Gn(e,n,s,a,[l,void 0,r,o],i)}visitDictionary(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.indices.ArrayType,t.data),{dictionary:o=new Xn([(new Kn).visit({type:e.dictionary})])}=t,{length:s=r.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,s,a,[void 0,r,i],[],o)}visitInterval(t){const{type:e,offset:n=0}=t,i=J(t.nullBitmap),r=K(e.ArrayType,t.data),{length:o=r.length/ee(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,r,i])}visitFixedSizeList(t){const{type:e,offset:n=0,child:i=(new Kn).visit({type:e.valueType})}=t,r=J(t.nullBitmap),{length:o=i.length/ee(e),nullCount:s=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,o,s,[void 0,void 0,r],[i])}visitMap(t){const{type:e,offset:n=0,child:i=(new Kn).visit({type:e.childType})}=t,r=J(t.nullBitmap),o=Q(t.valueOffsets),{length:s=o.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Gn(e,n,s,a,[o,void 0,r],[i])}}function Qn(t){return(new Kn).visit(t)}class Jn{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,n||(n=ei(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return"Schema<{ ".concat(this.fields.map(((t,e)=>"".concat(e,": ").concat(t))).join(", ")," }>")}select(t){const e=new Set(t),n=this.fields.filter((t=>e.has(t.name)));return new Jn(n,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Jn(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e[0]instanceof Jn?e[0]:Array.isArray(e[0])?new Jn(e[0]):new Jn(e),r=[...this.fields],o=ti(ti(new Map,this.metadata),i.metadata),s=i.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:ti(ti(new Map,r[e].metadata),t.metadata)}))&&!1})),a=ei(s,new Map);return new Jn([...r,...s],o,new Map([...this.dictionaries,...a]))}}Jn.prototype.fields=null,Jn.prototype.metadata=null,Jn.prototype.dictionaries=null;class Zn{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=n,this.metadata=i||new Map}static new(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[i,r,o,s]=e;return e[0]&&"object"===typeof e[0]&&(({name:i}=e[0]),void 0===r&&(r=e[0].type),void 0===o&&(o=e[0].nullable),void 0===s&&(s=e[0].metadata)),new Zn("".concat(i),r,o,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return"".concat(this.name,": ").concat(this.type)}clone(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let[i,r,o,s]=e;return e[0]&&"object"===typeof e[0]?({name:i=this.name,type:r=this.type,nullable:o=this.nullable,metadata:s=this.metadata}=e[0]):[i=this.name,r=this.type,o=this.nullable,s=this.metadata]=e,Zn.new(i,r,o,s)}}function ti(t,e){return new Map([...t||new Map,...e||new Map])}function ei(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let n=-1,i=t.length;++n<i;){const i=t[n].type;if(Mt.isDictionary(i))if(e.has(i.id)){if(e.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(i.id,i.dictionary);i.children&&i.children.length>0&&ei(i.children,e)}return e}Zn.prototype.type=null,Zn.prototype.name=null,Zn.prototype.nullable=null,Zn.prototype.metadata=null;class ni extends ne{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,n)=>this.compareFields(t,e[n])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function ii(t,e){return e instanceof t.constructor}function ri(t,e){return t===e||ii(t,e)}function oi(t,e){return t===e||ii(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function si(t,e){return t===e||ii(t,e)&&t.precision===e.precision}function ai(t,e){return t===e||ii(t,e)&&t.unit===e.unit}function li(t,e){return t===e||ii(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function ui(t,e){return t===e||ii(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function ci(t,e){return t===e||ii(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,n)=>t===e.typeIds[n]))&&di.compareManyFields(t.children,e.children)}function hi(t,e){return t===e||ii(t,e)&&t.unit===e.unit}ni.prototype.visitNull=ri,ni.prototype.visitBool=ri,ni.prototype.visitInt=oi,ni.prototype.visitInt8=oi,ni.prototype.visitInt16=oi,ni.prototype.visitInt32=oi,ni.prototype.visitInt64=oi,ni.prototype.visitUint8=oi,ni.prototype.visitUint16=oi,ni.prototype.visitUint32=oi,ni.prototype.visitUint64=oi,ni.prototype.visitFloat=si,ni.prototype.visitFloat16=si,ni.prototype.visitFloat32=si,ni.prototype.visitFloat64=si,ni.prototype.visitUtf8=ri,ni.prototype.visitBinary=ri,ni.prototype.visitFixedSizeBinary=function(t,e){return t===e||ii(t,e)&&t.byteWidth===e.byteWidth},ni.prototype.visitDate=ai,ni.prototype.visitDateDay=ai,ni.prototype.visitDateMillisecond=ai,ni.prototype.visitTimestamp=li,ni.prototype.visitTimestampSecond=li,ni.prototype.visitTimestampMillisecond=li,ni.prototype.visitTimestampMicrosecond=li,ni.prototype.visitTimestampNanosecond=li,ni.prototype.visitTime=ui,ni.prototype.visitTimeSecond=ui,ni.prototype.visitTimeMillisecond=ui,ni.prototype.visitTimeMicrosecond=ui,ni.prototype.visitTimeNanosecond=ui,ni.prototype.visitDecimal=ri,ni.prototype.visitList=function(t,e){return t===e||ii(t,e)&&t.children.length===e.children.length&&di.compareManyFields(t.children,e.children)},ni.prototype.visitStruct=function(t,e){return t===e||ii(t,e)&&t.children.length===e.children.length&&di.compareManyFields(t.children,e.children)},ni.prototype.visitUnion=ci,ni.prototype.visitDenseUnion=ci,ni.prototype.visitSparseUnion=ci,ni.prototype.visitDictionary=function(t,e){return t===e||ii(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&di.visit(t.indices,e.indices)&&di.visit(t.dictionary,e.dictionary)},ni.prototype.visitInterval=hi,ni.prototype.visitIntervalDayTime=hi,ni.prototype.visitIntervalYearMonth=hi,ni.prototype.visitFixedSizeList=function(t,e){return t===e||ii(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&di.compareManyFields(t.children,e.children)},ni.prototype.visitMap=function(t,e){return t===e||ii(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&di.compareManyFields(t.children,e.children)};const di=new ni;function fi(t,e){return di.compareSchemas(t,e)}var pi,vi;class yi{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Jn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Qn({nullCount:0,type:new Xt(this.schema.fields),children:this.schema.fields.map((t=>Qn({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Gn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=gi(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:n,children:i,length:r}=Object.keys(t).reduce(((e,n,i)=>(e.children[i]=t[n],e.length=Math.max(e.length,t[n].length),e.fields[i]=Zn.new({name:n,type:t[n].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),o=new Jn(n),s=Qn({type:new Xt(n),length:r,children:i,nullCount:0});[this.schema,this.data]=gi(o,s.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=mi(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return nn.visit(this.data,t)}set(t,e){return Ce.visit(this.data,t,e)}indexOf(t,e){return Fn.visit(this.data,t,e)}getByteLength(t){return Hn.visit(this.data,t)}[Symbol.iterator](){return zn.visit(new Xn([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new ki(this.schema,[this,...e])}slice(t,e){const[n]=new Xn([this.data]).slice(t,e).data;return new yi(this.schema,n)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Xn([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let n=this.schema,i=this.data;if(t>-1&&t<this.numCols){e||(e=new Xn([Qn({type:new Ft,length:this.numRows})]));const r=n.fields.slice(),o=i.children.slice(),s=r[t].clone({type:e.type});[r[t],o[t]]=[s,e.data[0]],n=new Jn(r,new Map(this.schema.metadata)),i=Qn({type:new Xt(r),children:o})}return new yi(n,i)}select(t){const e=this.schema.select(t),n=new Xt(e.fields),i=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(i[t]=this.data.children[t])}return new yi(e,Qn({type:n,length:this.numRows,children:i}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map((t=>this.data.children[t])).filter(Boolean),i=Qn({type:new Xt(e.fields),length:this.numRows,children:n});return new yi(e,i)}}function gi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var i;const r=[...t.fields],o=[...e],s=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const t=e[a];t&&t.length===n||(r[a]=l.clone({nullable:!0}),o[a]=null!==(i=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(n))&&void 0!==i?i:Qn({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(s)}))}return[t.assign(r),Qn({type:new Xt(r),length:n,children:o})]}function mi(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let i=-1,r=t.length;++i<r;){const r=t[i].type,o=e[i];if(Mt.isDictionary(r))if(n.has(r.id)){if(n.get(r.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else o.dictionary&&n.set(r.id,o.dictionary);r.children&&r.children.length>0&&mi(r.children,o.children,n)}return n}pi=Symbol.toStringTag,yi[pi]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(yi.prototype);class bi extends yi{constructor(t){const e=t.fields.map((t=>Qn({type:t.type})));super(t,Qn({type:new Xt(t.fields),nullCount:0,children:e}))}}function wi(t,e){return function(t,e){const n=[...t.fields],i=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let o=0,s=0,a=-1;const l=e.length;let u,c=[];for(;r.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),s=Math.min(s,u?u.length:s);Number.isFinite(s)&&(c=_i(n,s,c,e,r),s>0&&(i[o++]=Qn({type:new Xt(n),length:s,nullCount:0,children:c.slice()})))}return[t=t.assign(n),i.map((e=>new yi(t,e)))]}(t,e.map((t=>t.data.concat())))}function _i(t,e,n,i,r){var o;const s=(e+63&-64)>>3;for(let a=-1,l=i.length;++a<l;){const l=n[a],u=null===l||void 0===l?void 0:l.length;if(u>=e)u===e?n[a]=l:(n[a]=l.slice(0,e),r.numBatches=Math.max(r.numBatches,i[a].unshift(l.slice(e,u-e))));else{const i=t[a];t[a]=i.clone({nullable:!0}),n[a]=null!==(o=null===l||void 0===l?void 0:l._changeLengthAndBackfillNullBitmap(e))&&void 0!==o?o:Qn({type:i.type,length:e,nullCount:e,nullBitmap:new Uint8Array(s)})}}return n}class ki{constructor(){for(var t,e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(0===i.length)return this.batches=[],this.schema=new Jn([]),this._offsets=[0],this;let o,s;i[0]instanceof Jn&&(o=i.shift()),i[i.length-1]instanceof Uint32Array&&(s=i.pop());const a=t=>{if(t){if(t instanceof yi)return[t];if(t instanceof ki)return t.batches;if(t instanceof Gn){if(t.type instanceof Xt)return[new yi(new Jn(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>a(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>a(t)));if("object"===typeof t){const e=Object.keys(t),n=e.map((e=>new Xn([t[e]]))),i=new Jn(e.map(((t,e)=>new Zn(String(t),n[e].type)))),[,r]=wi(i,n);return 0===r.length?[new yi(t)]:r}}}return[]},l=i.flatMap((t=>a(t)));if(o=null!==(e=null!==o&&void 0!==o?o:null===(t=l[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Jn([]),!(o instanceof Jn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of l){if(!(u instanceof yi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!fi(o,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=o,this.batches=l,this._offsets=null!==s&&void 0!==s?s:gn(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=yn(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?zn.visit(new Xn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}concat(){const t=this.schema;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const r=this.data.concat(n.flatMap((t=>{let{data:e}=t;return e})));return new ki(t,r.map((e=>new yi(t,e))))}slice(t,e){const n=this.schema;[t,e]=cn({length:this.numRows},t,e);const i=mn(this.data,this._offsets,t,e);return new ki(n,i.map((t=>new yi(n,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:n}=this.schema.fields[t],i=Qn({type:n,length:0,nullCount:0});e.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Xn(e)}return null}setChild(t,e){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let n=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Xn([Qn({type:new Ft,length:this.numRows})]));const r=n.fields.slice(),o=r[t].clone({type:e.type}),s=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],s[t]]=[o,e],[n,i]=wi(n,s)}return new ki(n,i)}select(t){const e=this.schema.fields.reduce(((t,e,n)=>t.set(e.name,n)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map((e=>e.selectAt(t)));return new ki(e,n)}assign(t){const e=this.schema.fields,[n,i]=t.schema.fields.reduce(((t,n,i)=>{const[r,o]=t,s=e.findIndex((t=>t.name===n.name));return~s?o[s]=i:r.push(i),t}),[[],[]]),r=this.schema.assign(t.schema),o=[...e.map(((t,e)=>[e,i[e]])).map((e=>{let[n,i]=e;return void 0===i?this.getChildAt(n):t.getChildAt(i)})),...n.map((e=>t.getChildAt(e)))].filter(Boolean);return new ki(...wi(r,o))}}vi=Symbol.toStringTag,ki[vi]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=_n(wn),t.get=_n(nn.getVisitFn(c.Struct)),t.set=kn(Ce.getVisitFn(c.Struct)),t.indexOf=xn(Fn.getVisitFn(c.Struct)),t.getByteLength=_n(Hn.getVisitFn(c.Struct)),"Table"))(ki.prototype);class xi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}const Si=new Int32Array(2),Ei=new Float32Array(Si.buffer),Oi=new Float64Array(Si.buffer),Ti=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class Ii{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?Ii.ZERO:new Ii(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var Ci,Ai,Di,Pi,Mi;Ii.ZERO=new Ii(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(Ci||(Ci={}));class Fi{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Fi(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Ii(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Ii(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Si[0]=this.readInt32(t),Ei[0]}readFloat64(t){return Si[Ti?0:1]=this.readInt32(t),Si[Ti?1:0]=this.readInt32(t+4),Oi[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Ei[0]=e,this.writeInt32(t,Si[0])}writeFloat64(t,e){Oi[0]=e,this.writeInt32(t,Si[Ti?0:1]),this.writeInt32(t+4,Si[Ti?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let i="",r=0;if(t+=4,e===Ci.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;r<n;){let e;const n=this.readUint8(t+r++);if(n<192)e=n;else{const i=this.readUint8(t+r++);if(n<224)e=(31&n)<<6|63&i;else{const o=this.readUint8(t+r++);if(n<240)e=(15&n)<<12|(63&i)<<6|63&o;else{e=(7&n)<<18|(63&i)<<12|(63&o)<<6|63&this.readUint8(t+r++)}}}e<65536?i+=String.fromCharCode(e):(e-=65536,i+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return i}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return Ii.create(t,e)}createScalarList(t,e){const n=[];for(let i=0;i<e;++i)null!==t(i)&&n.push(t(i));return n}createObjList(t,e){const n=[];for(let i=0;i<e;++i){const e=t(i);null!==e&&n.push(e.unpack())}return n}}class Ni{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=Fi.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<n+t+e;){const t=this.bb.capacity();this.bb=Ni.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,i=Fi.allocate(n);return i.setPosition(n-e),i.bytes().set(t.bytes(),n-e),i}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const n=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const i=2*(n+2);this.addInt16(i);let r=0;const o=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(t)){for(let e=2;e<i;e+=2)if(this.bb.readInt16(o+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const i=n?4:0;if(e){const t=e;if(this.prep(this.minalign,8+i),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,i=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(i+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let n=0;for(;n<t.length;){let i;const r=t.charCodeAt(n++);if(r<55296||r>=56320)i=r;else{i=(r<<10)+t.charCodeAt(n++)+-56613888}i<128?e.push(i):(i<2048?e.push(i>>6&31|192):(i<65536?e.push(i>>12&15|224):e.push(i>>18&7|240,i>>12&63|128),e.push(i>>6&63|128)),e.push(63&i|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let n=0,i=this.space,r=this.bb.bytes();n<e.length;n++)r[i++]=e[n];return this.endVector()}createLong(t,e){return Ii.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const i=t[n];if(null===i)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(i))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Bi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Bi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Bi).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return Bi.startKeyValue(t),Bi.addKey(t,e),Bi.addValue(t,n),Bi.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Ai||(Ai={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(Di||(Di={})),function(t){t[t.DenseArray=0]="DenseArray"}(Pi||(Pi={}));class ji{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new ji).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new ji).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return ji.startInt(t),ji.addBitWidth(t,e),ji.addIsSigned(t,n),ji.endInt(t)}}class zi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new zi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new zi).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new ji).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Pi.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Pi.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(Mi||(Mi={}));class Li{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Li).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new Li).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Mi.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new zi).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new Li).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new Bi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Mi.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Ri{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Ri).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Ri).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Di.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Li).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Bi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Di.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,i,r){return Ri.startSchema(t),Ri.addEndianness(t,e),Ri.addFields(t,n),Ri.addCustomMetadata(t,i),Ri.addFeatures(t,r),Ri.endSchema(t)}}class Ui{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Ui).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Ui).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ai.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ri).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new xi).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new xi).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Bi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Ai.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var Vi=Ii,Hi=Ni,Wi=Fi;class qi{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.V4,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(t){t=new Wi(J(t));const e=Ui.getRootAsFooter(t),n=Jn.decode(e.schema());return new Yi(n,e)}static encode(t){const e=new Hi,n=Jn.encode(e,t.schema);Ui.startRecordBatchesVector(e,t.numRecordBatches);for(const i of[...t.recordBatches()].slice().reverse())Xi.encode(e,i);const r=e.endVector();Ui.startDictionariesVector(e,t.numDictionaries);for(const i of[...t.dictionaryBatches()].slice().reverse())Xi.encode(e,i);const o=e.endVector();return Ui.startFooter(e),Ui.addSchema(e,n),Ui.addVersion(e,i.V4),Ui.addRecordBatches(e,r),Ui.addDictionaries(e,o),Ui.finishFooterBuffer(e,Ui.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Yi extends qi{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Xi.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Xi.decode(e)}return null}}class Xi{constructor(t,e,n){this.metaDataLength=t,this.offset="number"===typeof n?n:n.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Xi(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,i=new Vi(e.offset,0),r=new Vi(e.bodyLength,0);return xi.createBlock(t,i,n,r)}}const $i={fromIterable:t=>Gi(function*(t){let e,n,i,r,o=!1,s=[],a=0;function l(){return"peek"===i?G(s,r)[0]:([n,s,a]=G(s,r),n)}({cmd:i,size:r}=yield null);const u=(c=t,tt(Uint8Array,c))[Symbol.iterator]();var c;try{do{if(({done:e,value:n}=Number.isNaN(r-a)?u.next():u.next(r-a)),!e&&n.byteLength>0&&(s.push(n),a+=n.byteLength),e||r<=a)do{({cmd:i,size:r}=yield l())}while(r<a)}while(!e)}catch(h){(o=!0)&&"function"===typeof u.throw&&u.throw(h)}finally{!1===o&&"function"===typeof u.return&&u.return(null)}return null}(t)),fromAsyncIterable:t=>Gi(function(t){return R(this,arguments,(function*(){let e,n,i,r,o=!1,s=[],a=0;function l(){return"peek"===i?G(s,r)[0]:([n,s,a]=G(s,r),n)}({cmd:i,size:r}=yield yield L(null));const u=(c=t,et(Uint8Array,c))[Symbol.asyncIterator]();var c;try{do{if(({done:e,value:n}=Number.isNaN(r-a)?yield L(u.next()):yield L(u.next(r-a))),!e&&n.byteLength>0&&(s.push(n),a+=n.byteLength),e||r<=a)do{({cmd:i,size:r}=yield yield L(l()))}while(r<a)}while(!e)}catch(h){(o=!0)&&"function"===typeof u.throw&&(yield L(u.throw(h)))}finally{!1===o&&"function"===typeof u.return&&(yield L(u.return(new Uint8Array(0))))}return yield L(null)}))}(t)),fromDOMStream:t=>Gi(function(t){return R(this,arguments,(function*(){let e,n,i,r=!1,o=!1,s=[],a=0;function l(){return"peek"===n?G(s,i)[0]:([e,s,a]=G(s,i),e)}({cmd:n,size:i}=yield yield L(null));const u=new Ki(t);try{do{if(({done:r,value:e}=Number.isNaN(i-a)?yield L(u.read()):yield L(u.read(i-a))),!r&&e.byteLength>0&&(s.push(J(e)),a+=e.byteLength),r||i<=a)do{({cmd:n,size:i}=yield yield L(l()))}while(i<a)}while(!r)}catch(c){(o=!0)&&(yield L(u.cancel(c)))}finally{!1===o?yield L(u.cancel()):t.locked&&u.releaseLock()}return yield L(null)}))}(t)),fromNodeStream:t=>Gi(function(t){return R(this,arguments,(function*(){const e=[];let n,i,r,o="error",s=!1,a=null,l=0,u=[];function c(){return"peek"===n?G(u,i)[0]:([r,u,l]=G(u,i),r)}if(({cmd:n,size:i}=yield yield L(null)),t.isTTY)return yield yield L(new Uint8Array(0)),yield L(null);try{e[0]=Qi(t,"end"),e[1]=Qi(t,"error");do{if(e[2]=Qi(t,"readable"),[o,a]=yield L(Promise.race(e.map((t=>t[2])))),"error"===o)break;if((s="end"===o)||(Number.isFinite(i-l)?(r=J(t.read(i-l)),r.byteLength<i-l&&(r=J(t.read()))):r=J(t.read()),r.byteLength>0&&(u.push(r),l+=r.byteLength)),s||i<=l)do{({cmd:n,size:i}=yield yield L(c()))}while(i<l)}while(!s)}finally{yield L(h(e,"error"===o?a:null))}return yield L(null);function h(e,n){return r=u=null,new Promise(((i,r)=>{for(const[n,s]of e)t.off(n,s);try{const e=t.destroy;e&&e.call(t,n),n=void 0}catch(o){n=o||n}finally{null!=n?r(n):i()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Gi=t=>(t.next(),t);class Ki{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return j(this,void 0,void 0,(function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch((()=>{}))),n&&n.locked&&this.releaseLock()}))}read(t){return j(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=J(e)),e}))}}const Qi=(t,e)=>{const n=t=>i([e,t]);let i;return[e,n,new Promise((r=>(i=r)&&t.once(e,n)))]};const Ji=Object.freeze({done:!0,value:void 0});class Zi{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class tr{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class er extends tr{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return j(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Ji);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return $i.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return $i.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return j(this,void 0,void 0,(function*(){return yield this.abort(t),Ji}))}return(t){return j(this,void 0,void 0,(function*(){return yield this.close(),Ji}))}read(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Ji)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class nr extends er{write(t){if((t=J(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?W(this.toUint8Array(!0)):this.toUint8Array(!1).then(W)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?G(this._values)[0]:(()=>j(this,void 0,void 0,(function*(){var t,e;const n=[];let i=0;try{for(var r,o=V(this);!(r=yield o.next()).done;){const t=r.value;n.push(t),i+=t.byteLength}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=o.return)&&(yield e.call(o))}finally{if(t)throw t.error}}return G(n,i)[0]})))()}}class ir{constructor(t){t&&(this.source=new or($i.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class rr{constructor(t){t instanceof rr?this.source=t.source:t instanceof nr?this.source=new sr($i.fromAsyncIterable(t)):F(t)?this.source=new sr($i.fromNodeStream(t)):M(t)?this.source=new sr($i.fromDOMStream(t)):D(t)?this.source=new sr($i.fromDOMStream(t.body)):O(t)?this.source=new sr($i.fromIterable(t)):(E(t)||T(t))&&(this.source=new sr($i.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class or{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Ji)}return(t){return Object.create(this.source.return&&this.source.return(t)||Ji)}}class sr{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return j(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return j(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return j(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return j(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Ji;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return j(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Ji;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class ar extends ir{constructor(t,e){super(),this.position=0,this.buffer=J(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:i}=this;return e&&i<n?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,i+Math.min(n-i,t)),e.subarray(i,this.position)):null}readAt(t,e){const n=this.buffer,i=Math.min(this.size,t+e);return n?n.subarray(t,i):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class lr extends rr{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>j(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return j(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}))}seek(t){return j(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return j(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:i}=this;if(e&&i<n){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=i,o=0,s=0;const a=Math.min(n,r+Math.min(n-r,t)),l=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=s)<a&&(o+=s)<l.byteLength;)({bytesRead:s}=yield e.read(l,o,l.byteLength-o,r));return l}return null}))}readAt(t,e){return j(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:n,size:i}=this;if(n&&t+e<i){const r=Math.min(i,t+e),o=new Uint8Array(r-t);return(yield n.read(o,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return j(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return j(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return j(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function ur(t){return t<0&&(t=4294967295+t+1),"0x".concat(t.toString(16))}const cr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class hr{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let i=e[3]*n[3];this.buffer[0]=65535&i;let r=i>>>16;return i=e[2]*n[3],r+=i,i=e[3]*n[2]>>>0,r+=i,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<i?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return"".concat(ur(this.buffer[1])," ").concat(ur(this.buffer[0]))}}class dr extends hr{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const n=t.length,i=new dr(e);for(let r=0;r<n;){const e=8<n-r?8:n-r,o=new dr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),s=new dr(new Uint32Array([cr[e],0]));i.times(s),i.plus(o),r+=e}return i}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,i=t.length;++n<i;)dr.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new dr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new dr(new Uint32Array(t.buffer)).plus(e)}}class fr extends hr{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,n=t.buffer[1]|0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const n=t.startsWith("-"),i=t.length,r=new fr(e);for(let o=n?1:0;o<i;){const e=8<i-o?8:i-o,n=new fr(new Uint32Array([Number.parseInt(t.slice(o,o+e),10),0])),s=new fr(new Uint32Array([cr[e],0]));r.times(s),r.plus(n),o+=e}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,i=t.length;++n<i;)fr.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new fr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new fr(new Uint32Array(t.buffer)).plus(e)}}class pr{constructor(t){this.buffer=t}high(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new dr(new Uint32Array([this.buffer[3],0])),n=new dr(new Uint32Array([this.buffer[2],0])),i=new dr(new Uint32Array([this.buffer[1],0])),r=new dr(new Uint32Array([this.buffer[0],0])),o=new dr(new Uint32Array([t.buffer[3],0])),s=new dr(new Uint32Array([t.buffer[2],0])),a=new dr(new Uint32Array([t.buffer[1],0])),l=new dr(new Uint32Array([t.buffer[0],0]));let u=dr.multiply(r,l);this.buffer[0]=u.low();const c=new dr(new Uint32Array([u.high(),0]));u=dr.multiply(i,l),c.plus(u),u=dr.multiply(r,a),c.plus(u),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(u)?1:0,this.buffer[2]=c.high();return new dr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(dr.multiply(n,l)).plus(dr.multiply(i,a)).plus(dr.multiply(r,s)),this.buffer[3]+=dr.multiply(e,l).plus(dr.multiply(n,a)).plus(dr.multiply(i,s)).plus(dr.multiply(r,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return"".concat(ur(this.buffer[3])," ").concat(ur(this.buffer[2])," ").concat(ur(this.buffer[1])," ").concat(ur(this.buffer[0]))}static multiply(t,e){return new pr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new pr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const n=t.startsWith("-"),i=t.length,r=new pr(e);for(let o=n?1:0;o<i;){const e=8<i-o?8:i-o,n=new pr(new Uint32Array([Number.parseInt(t.slice(o,o+e),10),0,0,0])),s=new pr(new Uint32Array([cr[e],0,0,0]));r.times(s),r.plus(n),o+=e}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let n=-1,i=t.length;++n<i;)pr.from(t[n],new Uint32Array(e.buffer,e.byteOffset+16*n,4));return e}}class vr extends ne{constructor(t,e,n,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=i}visit(t){return super.visit(t instanceof Zn?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e})}visitBool(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===r.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Qn({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class yr extends vr{constructor(t,e,n,i){super(new Uint8Array(0),e,n,i),this.sources=t}readNullBitmap(t,e){let{offset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Tn(this.sources[n])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:n}=this;return Mt.isTimestamp(t)||(Mt.isInt(t)||Mt.isTime(t))&&64===t.bitWidth||Mt.isDate(t)&&t.unit===s.MILLISECOND?K(Uint8Array,fr.convertArray(n[e])):Mt.isDecimal(t)?K(Uint8Array,pr.convertArray(n[e])):Mt.isBinary(t)||Mt.isFixedSizeBinary(t)?function(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)n[i>>1]=Number.parseInt(e.slice(i,i+2),16);return n}(n[e]):Mt.isBool(t)?Tn(n[e]):Mt.isUtf8(t)?Y(n[e].join("")):K(Uint8Array,K(t.ArrayType,n[e].map((t=>+t))))}}var gr,mr,br,wr,_r,kr,xr,Sr;!function(t){t[t.BUFFER=0]="BUFFER"}(gr||(gr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(mr||(mr={}));class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):mr.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):gr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,mr.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,gr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return Er.startBodyCompression(t),Er.addCodec(t,e),Er.addMethod(t,n),Er.endBodyCompression(t)}}class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new Ir).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Tr).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Or).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new Er).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ir).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(br||(br={}));class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):br.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,br.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Ar.startFloatingPoint(t),Ar.addPrecision(t,e),Ar.endFloatingPoint(t)}}class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,i){return Dr.startDecimal(t),Dr.addPrecision(t,e),Dr.addScale(t,n),Dr.addBitWidth(t,i),Dr.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(wr||(wr={}));class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Pr.startDate(t),Pr.addUnit(t,e),Pr.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(_r||(_r={}));class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Mr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return Mr.startTime(t),Mr.addUnit(t,e),Mr.addBitWidth(t,n),Mr.endTime(t)}}class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return Fr.startTimestamp(t),Fr.addUnit(t,e),Fr.addTimezone(t,n),Fr.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(kr||(kr={}));class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):kr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,kr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Nr.startInterval(t),Nr.addUnit(t,e),Nr.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(xr||(xr={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xr.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,xr.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return Br.startUnion(t),Br.addMode(t,e),Br.addTypeIds(t,n),Br.endUnion(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return jr.startFixedSizeBinary(t),jr.addByteWidth(t,e),jr.endFixedSizeBinary(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return zr.startFixedSizeList(t),zr.addListSize(t,e),zr.endFixedSizeList(t)}}class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Lr.startMap(t),Lr.addKeysSorted(t,e),Lr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Sr||(Sr={}));class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ai.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Sr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Bi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Ai.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Sr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,i,r,o){return Rr.startMessage(t),Rr.addVersion(t,e),Rr.addHeaderType(t,n),Rr.addHeader(t,i),Rr.addBodyLength(t,r),Rr.addCustomMetadata(t,o),Rr.endMessage(t)}}class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Ur.startNull(t),Ur.endNull(t)}}class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Vr.startBinary(t),Vr.endBinary(t)}}class Hr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Hr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new Hr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Hr.startBool(t),Hr.endBool(t)}}class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Wr.startUtf8(t),Wr.endUtf8(t)}}class qr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new qr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new qr).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return qr.startList(t),qr.endList(t)}}class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Yr.startStruct_(t),Yr.endStruct_(t)}}var Xr=Ii;const $r=new class extends ne{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Ur.startNull(e),Ur.endNull(e)}visitInt(t,e){return ji.startInt(e),ji.addBitWidth(e,t.bitWidth),ji.addIsSigned(e,t.isSigned),ji.endInt(e)}visitFloat(t,e){return Ar.startFloatingPoint(e),Ar.addPrecision(e,t.precision),Ar.endFloatingPoint(e)}visitBinary(t,e){return Vr.startBinary(e),Vr.endBinary(e)}visitBool(t,e){return Hr.startBool(e),Hr.endBool(e)}visitUtf8(t,e){return Wr.startUtf8(e),Wr.endUtf8(e)}visitDecimal(t,e){return Dr.startDecimal(e),Dr.addScale(e,t.scale),Dr.addPrecision(e,t.precision),Dr.addBitWidth(e,t.bitWidth),Dr.endDecimal(e)}visitDate(t,e){return Pr.startDate(e),Pr.addUnit(e,t.unit),Pr.endDate(e)}visitTime(t,e){return Mr.startTime(e),Mr.addUnit(e,t.unit),Mr.addBitWidth(e,t.bitWidth),Mr.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return Fr.startTimestamp(e),Fr.addUnit(e,t.unit),void 0!==n&&Fr.addTimezone(e,n),Fr.endTimestamp(e)}visitInterval(t,e){return Nr.startInterval(e),Nr.addUnit(e,t.unit),Nr.endInterval(e)}visitList(t,e){return qr.startList(e),qr.endList(e)}visitStruct(t,e){return Yr.startStruct_(e),Yr.endStruct_(e)}visitUnion(t,e){Br.startTypeIdsVector(e,t.typeIds.length);const n=Br.createTypeIdsVector(e,t.typeIds);return Br.startUnion(e),Br.addMode(e,t.mode),Br.addTypeIds(e,n),Br.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return zi.startDictionaryEncoding(e),zi.addId(e,new Xr(t.id,0)),zi.addIsOrdered(e,t.isOrdered),void 0!==n&&zi.addIndexType(e,n),zi.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return jr.startFixedSizeBinary(e),jr.addByteWidth(e,t.byteWidth),jr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return zr.startFixedSizeList(e),zr.addListSize(e,t.listSize),zr.endFixedSizeList(e)}visitMap(t,e){return Lr.startMap(e),Lr.addKeysSorted(e,t.keysSorted),Lr.endMap(e)}};function Gr(t){return new so(t.count,Qr(t.columns),Jr(t.columns))}function Kr(t,e){return(t.children||[]).filter(Boolean).map((t=>Zn.fromJSON(t,e)))}function Qr(t){return(t||[]).reduce(((t,e)=>{return[...t,new uo(e.count,(n=e.VALIDITY,(n||[]).reduce(((t,e)=>t+ +(0===e)),0))),...Qr(e.children)];var n}),[])}function Jr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let n=-1,i=(t||[]).length;++n<i;){const i=t[n];i.VALIDITY&&e.push(new lo(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new lo(e.length,i.TYPE.length)),i.OFFSET&&e.push(new lo(e.length,i.OFFSET.length)),i.DATA&&e.push(new lo(e.length,i.DATA.length)),e=Jr(i.children,e)}return e}function Zr(t){return new Map(Object.entries(t||{}))}function to(t){return new Nt(t.isSigned,t.bitWidth)}function eo(t,e){const n=t.type.name;switch(n){case"NONE":case"null":return new Ft;case"binary":return new zt;case"utf8":return new Lt;case"bool":return new Rt;case"list":return new Yt((e||[])[0]);case"struct":case"struct_":return new Xt(e||[])}switch(n){case"int":{const e=t.type;return new Nt(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new jt(o[e.precision])}case"decimal":{const e=t.type;return new Ut(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Vt(s[e.unit])}case"time":{const e=t.type;return new Ht(a[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new Wt(a[e.unit],e.timezone)}case"interval":{const e=t.type;return new qt(l[e.unit])}case"union":{const n=t.type;return new $t(r[n.mode],n.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new Gt(e.byteWidth)}case"fixedsizelist":{const n=t.type;return new Kt(n.listSize,(e||[])[0])}case"map":{const n=t.type;return new Qt((e||[])[0],n.keysSorted)}}throw new Error('Unrecognized type: "'.concat(n,'"'))}var no=Ii,io=Ni,ro=Fi;class oo{constructor(t,e,n,i){this._version=e,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const n=new oo(0,i.V4,e);return n._createHeader=function(t,e){return()=>{switch(e){case u.Schema:return Jn.fromJSON(t);case u.RecordBatch:return so.fromJSON(t);case u.DictionaryBatch:return ao.fromJSON(t)}throw new Error("Unrecognized Message type: { name: ".concat(u[e],", type: ").concat(e," }"))}}(t,e),n}static decode(t){t=new ro(J(t));const e=Rr.getRootAsMessage(t),n=e.bodyLength(),i=e.version(),r=e.headerType(),o=new oo(n,i,r);return o._createHeader=function(t,e){return()=>{switch(e){case u.Schema:return Jn.decode(t.header(new Ri));case u.RecordBatch:return so.decode(t.header(new Ir),t.version());case u.DictionaryBatch:return ao.decode(t.header(new Cr),t.version())}throw new Error("Unrecognized Message type: { name: ".concat(u[e],", type: ").concat(e," }"))}}(e,r),o}static encode(t){const e=new io;let n=-1;return t.isSchema()?n=Jn.encode(e,t.header()):t.isRecordBatch()?n=so.encode(e,t.header()):t.isDictionaryBatch()&&(n=ao.encode(e,t.header())),Rr.startMessage(e),Rr.addVersion(e,i.V4),Rr.addHeader(e,n),Rr.addHeaderType(e,t.headerType),Rr.addBodyLength(e,new no(t.bodyLength,0)),Rr.finishMessageBuffer(e,Rr.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Jn)return new oo(0,i.V4,u.Schema,t);if(t instanceof so)return new oo(e,i.V4,u.RecordBatch,t);if(t instanceof ao)return new oo(e,i.V4,u.DictionaryBatch,t);throw new Error("Unrecognized Message header: ".concat(t))}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===u.Schema}isRecordBatch(){return this.headerType===u.RecordBatch}isDictionaryBatch(){return this.headerType===u.DictionaryBatch}}class so{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ao{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=n,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class lo{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class uo{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function co(t,e){const n=[];for(let i,r=-1,o=-1,s=t.childrenLength();++r<s;)(i=t.children(r))&&(n[++o]=Zn.decode(i,e));return n}function ho(t){const e=new Map;if(t)for(let n,i,r=-1,o=Math.trunc(t.customMetadataLength());++r<o;)(n=t.customMetadata(r))&&null!=(i=n.key())&&e.set(i,n.value());return e}function fo(t){return new Nt(t.isSigned(),t.bitWidth())}function po(t,e){const n=t.typeType();switch(n){case Mi.NONE:case Mi.Null:return new Ft;case Mi.Binary:return new zt;case Mi.Utf8:return new Lt;case Mi.Bool:return new Rt;case Mi.List:return new Yt((e||[])[0]);case Mi.Struct_:return new Xt(e||[])}switch(n){case Mi.Int:{const e=t.type(new ji);return new Nt(e.isSigned(),e.bitWidth())}case Mi.FloatingPoint:{const e=t.type(new Ar);return new jt(e.precision())}case Mi.Decimal:{const e=t.type(new Dr);return new Ut(e.scale(),e.precision(),e.bitWidth())}case Mi.Date:{const e=t.type(new Pr);return new Vt(e.unit())}case Mi.Time:{const e=t.type(new Mr);return new Ht(e.unit(),e.bitWidth())}case Mi.Timestamp:{const e=t.type(new Fr);return new Wt(e.unit(),e.timezone())}case Mi.Interval:{const e=t.type(new Nr);return new qt(e.unit())}case Mi.Union:{const n=t.type(new Br);return new $t(n.mode(),n.typeIdsArray()||[],e||[])}case Mi.FixedSizeBinary:{const e=t.type(new jr);return new Gt(e.byteWidth())}case Mi.FixedSizeList:{const n=t.type(new zr);return new Kt(n.listSize(),(e||[])[0])}case Mi.Map:{const n=t.type(new Lr);return new Qt((e||[])[0],n.keysSorted())}}throw new Error('Unrecognized type: "'.concat(Mi[n],'" (').concat(n,")"))}Zn.encode=function(t,e){let n=-1,i=-1,r=-1;const o=e.type;let s=e.typeId;Mt.isDictionary(o)?(s=o.dictionary.typeId,r=$r.visit(o,t),i=$r.visit(o.dictionary,t)):i=$r.visit(o,t);const a=(o.children||[]).map((e=>Zn.encode(t,e))),l=Li.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?Li.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[n,i]=e;const r=t.createString("".concat(n)),o=t.createString("".concat(i));return Bi.startKeyValue(t),Bi.addKey(t,r),Bi.addValue(t,o),Bi.endKeyValue(t)}))):-1;e.name&&(n=t.createString(e.name));Li.startField(t),Li.addType(t,i),Li.addTypeType(t,s),Li.addChildren(t,l),Li.addNullable(t,!!e.nullable),-1!==n&&Li.addName(t,n);-1!==r&&Li.addDictionary(t,r);-1!==u&&Li.addCustomMetadata(t,u);return Li.endField(t)},Zn.decode=function(t,e){let n,i,r,o,s,a;e&&(a=t.dictionary())?e.has(n=a.id().low)?(o=(o=a.indexType())?fo(o):new Bt,s=new te(e.get(n),o,n,a.isOrdered()),i=new Zn(t.name(),s,t.nullable(),ho(t))):(o=(o=a.indexType())?fo(o):new Bt,e.set(n,r=po(t,co(t,e))),s=new te(r,o,n,a.isOrdered()),i=new Zn(t.name(),s,t.nullable(),ho(t))):(r=po(t,co(t,e)),i=new Zn(t.name(),r,t.nullable(),ho(t)));return i||null},Zn.fromJSON=function(t,e){let n,i,r,o,s,a;return e&&(o=t.dictionary)?e.has(n=o.id)?(i=(i=o.indexType)?to(i):new Bt,a=new te(e.get(n),i,n,o.isOrdered),r=new Zn(t.name,a,t.nullable,Zr(t.customMetadata))):(i=(i=o.indexType)?to(i):new Bt,e.set(n,s=eo(t,Kr(t,e))),a=new te(s,i,n,o.isOrdered),r=new Zn(t.name,a,t.nullable,Zr(t.customMetadata))):(s=eo(t,Kr(t,e)),r=new Zn(t.name,s,t.nullable,Zr(t.customMetadata))),r||null},Jn.encode=function(t,e){const n=e.fields.map((e=>Zn.encode(t,e)));Ri.startFieldsVector(t,n.length);const i=Ri.createFieldsVector(t,n),r=e.metadata&&e.metadata.size>0?Ri.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[n,i]=e;const r=t.createString("".concat(n)),o=t.createString("".concat(i));return Bi.startKeyValue(t),Bi.addKey(t,r),Bi.addValue(t,o),Bi.endKeyValue(t)}))):-1;Ri.startSchema(t),Ri.addFields(t,i),Ri.addEndianness(t,vo?Di.Little:Di.Big),-1!==r&&Ri.addCustomMetadata(t,r);return Ri.endSchema(t)},Jn.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const n=function(t,e){const n=[];for(let i,r=-1,o=-1,s=t.fieldsLength();++r<s;)(i=t.fields(r))&&(n[++o]=Zn.decode(i,e));return n}(t,e);return new Jn(n,ho(t),e)},Jn.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Jn(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>Zn.fromJSON(t,e)))}(t,e),Zr(t.customMetadata),e)},so.encode=function(t,e){const n=e.nodes||[],i=e.buffers||[];Ir.startNodesVector(t,n.length);for(const s of n.slice().reverse())uo.encode(t,s);const r=t.endVector();Ir.startBuffersVector(t,i.length);for(const s of i.slice().reverse())lo.encode(t,s);const o=t.endVector();return Ir.startRecordBatch(t),Ir.addLength(t,new no(e.length,0)),Ir.addNodes(t,r),Ir.addBuffers(t,o),Ir.endRecordBatch(t)},so.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.V4;if(null!==t.compression())throw new Error("Record batch compression not implemented");return new so(t.length(),function(t){const e=[];for(let n,i=-1,r=-1,o=t.nodesLength();++i<o;)(n=t.nodes(i))&&(e[++r]=uo.decode(n));return e}(t),function(t,e){const n=[];for(let r,o=-1,s=-1,a=t.buffersLength();++o<a;)(r=t.buffers(o))&&(e<i.V4&&(r.bb_pos+=8*(o+1)),n[++s]=lo.decode(r));return n}(t,e))},so.fromJSON=Gr,ao.encode=function(t,e){const n=so.encode(t,e.data);return Cr.startDictionaryBatch(t),Cr.addId(t,new no(e.id,0)),Cr.addIsDelta(t,e.isDelta),Cr.addData(t,n),Cr.endDictionaryBatch(t)},ao.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.V4;return new ao(so.decode(t.data(),e),t.id(),t.isDelta())},ao.fromJSON=function(t){return new ao(Gr(t.data),t.id,t.isDelta)},uo.encode=function(t,e){return Tr.createFieldNode(t,new no(e.length,0),new no(e.nullCount,0))},uo.decode=function(t){return new uo(t.length(),t.nullCount())},lo.encode=function(t,e){return Or.createBuffer(t,new no(e.offset,0),new no(e.length,0))},lo.decode=function(t){return new lo(t.offset(),t.length())};const vo=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),yo=t=>"Expected ".concat(u[t]," Message in stream, but was null or length 0."),go=t=>"Header pointer of flatbuffer-encoded ".concat(u[t]," Message is null or length 0."),mo=(t,e)=>"Expected to read ".concat(t," metadata bytes, but only read ").concat(e,"."),bo=(t,e)=>"Expected to read ".concat(t," bytes for message body, but only read ").concat(e,".");class wo{constructor(t){this.source=t instanceof ir?t:new ir(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Ji:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(yo(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=J(this.source.read(t));if(e.byteLength<t)throw new Error(bo(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=u.Schema,n=this.readMessage(e),i=null===n||void 0===n?void 0:n.header();if(t&&!i)throw new Error(go(e));return i}readMetadataLength(){const t=this.source.read(xo),e=t&&new Fi(t),n=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===n,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return Ji;if(e.byteLength<t)throw new Error(mo(t,e.byteLength));return{done:!1,value:oo.decode(e)}}}class _o{constructor(t,e){this.source=t instanceof rr?t:A(t)?new lr(t,e):new rr(t)}[Symbol.asyncIterator](){return this}next(){return j(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Ji:t}))}throw(t){return j(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return j(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return j(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(yo(t));return e.value}))}readMessageBody(t){return j(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=J(yield this.source.read(t));if(e.byteLength<t)throw new Error(bo(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return j(this,void 0,void 0,(function*(){const e=u.Schema,n=yield this.readMessage(e),i=null===n||void 0===n?void 0:n.header();if(t&&!i)throw new Error(go(e));return i}))}readMetadataLength(){return j(this,void 0,void 0,(function*(){const t=yield this.source.read(xo),e=t&&new Fi(t),n=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===n,value:n}}))}readMetadata(t){return j(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Ji;if(e.byteLength<t)throw new Error(mo(t,e.byteLength));return{done:!1,value:oo.decode(e)}}))}}class ko extends wo{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Zi?t:new Zi(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:oo.fromJSON(t.schema,u.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:oo.fromJSON(e,u.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:oo.fromJSON(e,u.RecordBatch)}}return this._body=[],Ji}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,n)=>[...e,...n.VALIDITY&&[n.VALIDITY]||[],...n.TYPE&&[n.TYPE]||[],...n.OFFSET&&[n.OFFSET]||[],...n.DATA&&[n.DATA]||[],...t(n.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(yo(t));return e.value}readSchema(){const t=u.Schema,e=this.readMessage(t),n=null===e||void 0===e?void 0:e.header();if(!e||!n)throw new Error(go(t));return n}}const xo=4,So="ARROW1",Eo=new Uint8Array(6);for(let hs=0;hs<6;hs+=1)Eo[hs]=So.codePointAt(hs);function Oo(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=-1,i=Eo.length;++n<i;)if(Eo[n]!==t[e+n])return!1;return!0}const To=Eo.length,Io=To+xo,Co=2*To+xo;class Ao extends tr{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return E(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return $i.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return $i.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Ao?t:I(t)?function(t){return new Do(new Ro(t))}(t):A(t)?function(t){return j(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),n=new lr(t,e);return e>=Co&&Oo(yield n.readAt(0,To+7&-8))?new Fo(new Lo(n)):new Po(new jo(n))}))}(t):E(t)?(()=>j(this,void 0,void 0,(function*(){return yield Ao.from(yield t)})))():D(t)||M(t)||F(t)||T(t)?function(t){return j(this,void 0,void 0,(function*(){const e=yield t.peek(To+7&-8);return e&&e.byteLength>=4?Oo(e)?new Mo(new zo(yield t.read())):new Po(new jo(t)):new Po(new jo(function(){return R(this,arguments,(function*(){}))}()))}))}(new rr(t)):function(t){const e=t.peek(To+7&-8);return e&&e.byteLength>=4?Oo(e)?new Mo(new zo(t.read())):new Do(new Bo(t)):new Do(new Bo(function*(){}()))}(new ir(t))}static readAll(t){return t instanceof Ao?t.isSync()?Vo(t):Ho(t):I(t)||ArrayBuffer.isView(t)||O(t)||C(t)?Vo(t):Ho(t)}}class Do extends Ao{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return R(this,arguments,(function*(){yield L(yield*U(V(this[Symbol.iterator]())))}))}}class Po extends Ao{constructor(t){super(t),this._impl=t}readAll(){var t,e;return j(this,void 0,void 0,(function*(){const n=new Array;try{for(var i,r=V(this);!(i=yield r.next()).done;){const t=i.value;n.push(t)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return n}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Mo extends Do{constructor(t){super(t),this._impl=t}}class Fo extends Po{constructor(t){super(t),this._impl=t}}class No{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),i=Qn({type:new Xt(this.schema.fields),length:t.length,children:n});return new yi(this.schema,i)}_loadDictionaryBatch(t,e){const{id:n,isDelta:i}=t,{dictionaries:r,schema:o}=this,s=r.get(n);if(i||!s){const r=o.dictionaries.get(n),a=this._loadVectors(t.data,e,[r]);return(s&&i?s.concat(new Xn(a)):new Xn(a)).memoize()}return s.memoize()}_loadVectors(t,e,n){return new vr(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class Bo extends No{constructor(t,e){super(e),this._reader=I(t)?new ko(this._handle=t):new wo(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Uo(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Ji}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Ji}next(){if(this.closed)return Ji;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),i=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),i=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new bi(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class jo extends No{constructor(t,e){super(e),this._reader=new _o(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return j(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return j(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=Uo(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return j(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Ji}))}return(t){return j(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Ji}))}next(){return j(this,void 0,void 0,(function*(){if(this.closed)return Ji;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),i=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),i=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new bi(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return j(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class zo extends Bo{constructor(t,e){super(t instanceof ar?t:new ar(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(u.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}_readDictionaryBatch(t){var e;const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(u.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,i)}}}_readFooter(){const{_handle:t}=this,e=t.size-Io,n=t.readInt32(e),i=t.readAt(e-n,n);return qi.decode(i)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class Lo extends jo{constructor(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r="number"!==typeof n[0]?n.shift():void 0,o=n[0]instanceof Map?n.shift():void 0;super(t instanceof lr?t:new lr(t,r),o)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return j(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return j(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(u.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}))}_readDictionaryBatch(t){var e;return j(this,void 0,void 0,(function*(){const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(u.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,i)}}}))}_readFooter(){return j(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Io,n=yield t.readInt32(e),i=yield t.readAt(e-n,n);return qi.decode(i)}))}_readNextMessageAndValidate(t){return j(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class Ro extends Bo{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new yr(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function Uo(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*Vo(t){const e=Ao.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Ho(t){return R(this,arguments,(function*(){const e=yield L(Ao.from(t));try{if(!(yield L(e.open({autoDestroy:!1}))).closed)do{yield yield L(e)}while(!(yield L(e.reset().open())).closed)}finally{yield L(e.cancel())}}))}class Wo extends ne{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof yi?e.data.children:e.data)),e=new Wo;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.visitMany(t(i)),e}visit(t){if(t instanceof Xn)return this.visitMany(t.data),this;const{type:e}=t;if(!Mt.isDictionary(e)){const{length:n,nullCount:i}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Mt.isNull(e)||qo.call(this,i<=0?new Uint8Array(0):On(t.offset,n,t.nullBitmap)),this.nodes.push(new uo(n,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function qo(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new lo(this._byteLength,e)),this._byteLength+=e,this}function Yo(t){return qo.call(this,t.values.subarray(0,t.length*t.stride))}function Xo(t){const{length:e,values:n,valueOffsets:i}=t,r=i[0],o=i[e],s=Math.min(o-r,n.byteLength-r);return qo.call(this,nt(-i[0],e,i)),qo.call(this,n.subarray(r,r+s)),this}function $o(t){const{length:e,valueOffsets:n}=t;return n&&qo.call(this,nt(n[0],e,n)),this.visit(t.children[0])}function Go(t){return this.visitMany(t.type.children.map(((e,n)=>t.children[n])).filter(Boolean))[0]}Wo.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?qo.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?qo.call(this,On(t.offset,t.length,e)):qo.call(this,Tn(t.values))},Wo.prototype.visitInt=Yo,Wo.prototype.visitFloat=Yo,Wo.prototype.visitUtf8=Xo,Wo.prototype.visitBinary=Xo,Wo.prototype.visitFixedSizeBinary=Yo,Wo.prototype.visitDate=Yo,Wo.prototype.visitTimestamp=Yo,Wo.prototype.visitTime=Yo,Wo.prototype.visitDecimal=Yo,Wo.prototype.visitList=$o,Wo.prototype.visitStruct=Go,Wo.prototype.visitUnion=function(t){const{type:e,length:n,typeIds:i,valueOffsets:o}=t;if(qo.call(this,i),e.mode===r.Sparse)return Go.call(this,t);if(e.mode===r.Dense){if(t.offset<=0)return qo.call(this,o),Go.call(this,t);{const r=i.reduce(((t,e)=>Math.max(t,e)),i[0]),s=new Int32Array(r+1),a=new Int32Array(r+1).fill(-1),l=new Int32Array(n),u=nt(-o[0],n,o);for(let t,e,o=-1;++o<n;)-1===(e=a[t=i[o]])&&(e=a[t]=u[t]),l[o]=u[o]-e,++s[t];qo.call(this,l);for(let i,o=-1,c=e.children.length;++o<c;)if(i=t.children[o]){const t=e.typeIds[o],r=Math.min(n,s[t]);this.visit(i.slice(a[t],r))}}}return this},Wo.prototype.visitInterval=Yo,Wo.prototype.visitFixedSizeList=$o,Wo.prototype.visitMap=$o;class Ko extends tr{constructor(t){super(),this._position=0,this._started=!1,this._sink=new nr,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,S(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return E(t)?t.then((t=>this.writeAll(t))):T(t)?ts(this,t):Zo(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n;return t===this._sink||t instanceof nr?this._sink=t:(this._sink=new nr,t&&(S(n=t)&&x(n.abort)&&x(n.getWriter)&&!P(n))?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>S(t)&&x(t.end)&&x(t.write)&&k(t.writable)&&!P(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&fi(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof ki&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof yi&&!(e=t.schema))return this.finish()&&void 0;if(e&&!fi(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof yi?t instanceof bi||this._writeRecordBatch(t):t instanceof ki?this.writeAll(t.batches):O(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,n=oo.encode(t),i=n.byteLength,r=this._writeLegacyIpcFormat?4:8,o=i+r+e&~e,s=o-i-r;return t.headerType===u.RecordBatch?this._recordBatchBlocks.push(new Xi(o,t.bodyLength,this._position)):t.headerType===u.DictionaryBatch&&this._dictionaryBlocks.push(new Xi(o,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-r)),i>0&&this._write(n),this._writePadding(s)}_write(t){if(this._started){const e=J(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(oo.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Eo)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:i,buffers:r}=Wo.assemble(t),o=new so(t.numRows,n,i),s=oo.from(o,e);return this._writeDictionaries(t)._writeMessage(s)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:i,nodes:r,bufferRegions:o,buffers:s}=Wo.assemble(new Xn([t])),a=new so(t.length,r,o),l=new ao(a,e,n),u=oo.from(l,i);return this._writeMessage(u)._writeBodyBuffers(s)}_writeBodyBuffers(t){let e,n,i;for(let r=-1,o=t.length;++r<o;)(e=t[r])&&(n=e.byteLength)>0&&(this._write(e),(i=(n+7&-8)-n)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(n=null===n||void 0===n?void 0:n.slice(t)).length>0)for(const i of n.data)this._writeDictionaryBatch(i,e,t>0),t+=i.length}return this}}class Qo extends Ko{static writeAll(t,e){const n=new Qo(e);return E(t)?t.then((t=>n.writeAll(t))):T(t)?ts(n,t):Zo(n,t)}}class Jo extends Ko{static writeAll(t){const e=new Jo;return E(t)?t.then((t=>e.writeAll(t))):T(t)?ts(e,t):Zo(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=qi.encode(new qi(t,i.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Zo(t,e){let n=e;e instanceof ki&&(n=e.batches,t.reset(void 0,e.schema));for(const i of n)t.write(i);return t.finish()}function ts(t,e){var n,i,r,o;return j(this,void 0,void 0,(function*(){try{for(n=V(e);!(i=yield n.next()).done;){const e=i.value;t.write(e)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}return t.finish()}))}function es(t){const e=Ao.from(t);return E(e)?e.then((t=>es(t))):e.isAsync()?e.readAll().then((t=>new ki(t))):new ki(e.readAll())}function ns(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Qo:Jo).writeAll(t).toUint8Array(!0)}var is,rs=function(){function t(t,e,n,i){var r=this;this.getCell=function(t,e){var n=t<r.headerRows&&e<r.headerColumns,i=t>=r.headerRows&&e<r.headerColumns,o=t<r.headerRows&&e>=r.headerColumns;if(n){var s=["blank"];return e>0&&s.push("level"+t),{type:"blank",classNames:s.join(" "),content:""}}if(o)return{type:"columns",classNames:(s=["col_heading","level"+t,"col"+(l=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,l,t)};if(i){s=["row_heading","level"+e,"row"+(a=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(a),classNames:s.join(" "),content:r.getContent(r.indexTable,a,e)}}s=["data","row"+(a=t-r.headerRows),"col"+(l=e-r.headerColumns)];var a,l,u=r.styler?r.getContent(r.styler.displayValuesTable,a,l):r.getContent(r.dataTable,a,l);return{type:"data",id:"T_".concat(r.uuid,"row").concat(a,"_col").concat(l),classNames:s.join(" "),content:u}},this.getContent=function(t,e,n){var i=t.getChildAt(n);return null===i?"":r.getColumnTypeId(t,n)===c.Timestamp?r.nanosToDate(i.get(e)):i.get(e)},this.dataTable=es(t),this.indexTable=es(e),this.columnsTable=es(n),this.styler=i?{caption:i.caption,displayValuesTable:es(i.displayValues),styles:i.styles,uuid:i.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:ns(this.dataTable),index:ns(this.indexTable),columns:ns(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),os=function(){return os=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},os.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(is||(is={}));var ss=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(is.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(is.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var n;e instanceof rs?(n="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(n){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(n="bytes",e=new Uint8Array(e)):n="json":(n="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(is.SET_COMPONENT_VALUE,{value:e,dataType:n})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var n=e.args;null==n&&(console.error("Got null args in onRenderMessage. This should never happen"),n={});var i=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};n=os(os({},n),i);var r=Boolean(e.disabled),o=e.theme;o&&as(o);var s={disabled:r,args:n,theme:o},a=new CustomEvent(t.RENDER_EVENT,{detail:s});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var n=e.map((function(e){var n=e.key,i=e.value;return[n,t.toArrowTable(i)]}));return Object.fromEntries(n)},t.toArrowTable=function(t){var e,n=(e=t.data).data,i=e.index,r=e.columns,o=e.styler;return new rs(n,i,r,o)},t.sendBackMsg=function(t,e){window.parent.postMessage(os({isStreamlitMessage:!0,type:t},e),"*")},t}(),as=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ls(e,t),e.prototype.componentDidMount=function(){ss.setFrameHeight()},e.prototype.componentDidUpdate=function(){ss.setFrameHeight()},e}(p.PureComponent);function cs(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return n.componentDidMount=function(){ss.events.addEventListener(ss.RENDER_EVENT,n.onRenderEvent),ss.setComponentReady()},n.componentDidUpdate=function(){null!=n.state.componentError&&ss.setFrameHeight()},n.componentWillUnmount=function(){ss.events.removeEventListener(ss.RENDER_EVENT,n.onRenderEvent)},n.onRenderEvent=function(t){n.setState({renderData:t.detail})},n.state={renderData:void 0,componentError:void 0},n}return ls(n,e),n.prototype.render=function(){return null!=this.state.componentError?p.createElement("div",null,p.createElement("h1",null,"Component Error"),p.createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:p.createElement(t,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},n.getDerivedStateFromError=function(t){return{componentError:t}},n}(p.PureComponent);return f()(e,t)}},114:function(t,e,n){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},r={exports:{}},o=function(t){return t&&t.Math==Math&&t},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i&&i)||function(){return this}()||Function("return this")(),a=function(t){try{return!!t()}catch(e){return!0}},l=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),u=l,c=Function.prototype,h=c.apply,d=c.call,f="object"==typeof Reflect&&Reflect.apply||(u?d.bind(h):function(){return d.apply(h,arguments)}),p=l,v=Function.prototype,y=v.bind,g=v.call,m=p&&y.bind(g,g),b=p?function(t){return t&&m(t)}:function(t){return t&&function(){return g.apply(t,arguments)}},w=function(t){return"function"==typeof t},_={},k=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),x=l,S=Function.prototype.call,E=x?S.bind(S):function(){return S.apply(S,arguments)},O={},T={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,C=I&&!T.call({1:2},1);O.f=C?function(t){var e=I(this,t);return!!e&&e.enumerable}:T;var A,D,P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=b,F=M({}.toString),N=M("".slice),B=function(t){return N(F(t),8,-1)},j=b,z=a,L=B,R=s.Object,U=j("".split),V=z((function(){return!R("z").propertyIsEnumerable(0)}))?function(t){return"String"==L(t)?U(t,""):R(t)}:R,H=s.TypeError,W=function(t){if(void 0==t)throw H("Can't call method on "+t);return t},q=V,Y=W,X=function(t){return q(Y(t))},$=w,G=function(t){return"object"==typeof t?null!==t:$(t)},K={},Q=K,J=s,Z=w,tt=function(t){return Z(t)?t:void 0},et=function(t,e){return arguments.length<2?tt(Q[t])||tt(J[t]):Q[t]&&Q[t][e]||J[t]&&J[t][e]},nt=b({}.isPrototypeOf),it=et("navigator","userAgent")||"",rt=s,ot=it,st=rt.process,at=rt.Deno,lt=st&&st.versions||at&&at.version,ut=lt&&lt.v8;ut&&(D=(A=ut.split("."))[0]>0&&A[0]<4?1:+(A[0]+A[1])),!D&&ot&&(!(A=ot.match(/Edge\/(\d+)/))||A[1]>=74)&&(A=ot.match(/Chrome\/(\d+)/))&&(D=+A[1]);var ct=D,ht=ct,dt=a,ft=!!Object.getOwnPropertySymbols&&!dt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ht&&ht<41})),pt=ft&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,vt=et,yt=w,gt=nt,mt=pt,bt=s.Object,wt=mt?function(t){return"symbol"==typeof t}:function(t){var e=vt("Symbol");return yt(e)&&gt(e.prototype,bt(t))},_t=s.String,kt=function(t){try{return _t(t)}catch(e){return"Object"}},xt=w,St=kt,Et=s.TypeError,Ot=function(t){if(xt(t))return t;throw Et(St(t)+" is not a function")},Tt=Ot,It=function(t,e){var n=t[e];return null==n?void 0:Tt(n)},Ct=E,At=w,Dt=G,Pt=s.TypeError,Mt=function(t,e){var n,i;if("string"===e&&At(n=t.toString)&&!Dt(i=Ct(n,t)))return i;if(At(n=t.valueOf)&&!Dt(i=Ct(n,t)))return i;if("string"!==e&&At(n=t.toString)&&!Dt(i=Ct(n,t)))return i;throw Pt("Can't convert object to primitive value")},Ft={exports:{}},Nt=s,Bt=Object.defineProperty,jt=function(t,e){try{Bt(Nt,t,{value:e,configurable:!0,writable:!0})}catch(n){Nt[t]=e}return e},zt="__core-js_shared__",Lt=s[zt]||jt(zt,{}),Rt=Lt;(Ft.exports=function(t,e){return Rt[t]||(Rt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ut=W,Vt=s.Object,Ht=function(t){return Vt(Ut(t))},Wt=Ht,qt=b({}.hasOwnProperty),Yt=Object.hasOwn||function(t,e){return qt(Wt(t),e)},Xt=b,$t=0,Gt=Math.random(),Kt=Xt(1..toString),Qt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Kt(++$t+Gt,36)},Jt=s,Zt=Ft.exports,te=Yt,ee=Qt,ne=ft,ie=pt,re=Zt("wks"),oe=Jt.Symbol,se=oe&&oe.for,ae=ie?oe:oe&&oe.withoutSetter||ee,le=function(t){if(!te(re,t)||!ne&&"string"!=typeof re[t]){var e="Symbol."+t;ne&&te(oe,t)?re[t]=oe[t]:re[t]=ie&&se?se(e):ae(e)}return re[t]},ue=E,ce=G,he=wt,de=It,fe=Mt,pe=le,ve=s.TypeError,ye=pe("toPrimitive"),ge=function(t,e){if(!ce(t)||he(t))return t;var n,i=de(t,ye);if(i){if(void 0===e&&(e="default"),n=ue(i,t,e),!ce(n)||he(n))return n;throw ve("Can't convert object to primitive value")}return void 0===e&&(e="number"),fe(t,e)},me=wt,be=function(t){var e=ge(t,"string");return me(e)?e:e+""},we=G,_e=s.document,ke=we(_e)&&we(_e.createElement),xe=function(t){return ke?_e.createElement(t):{}},Se=a,Ee=xe,Oe=!k&&!Se((function(){return 7!=Object.defineProperty(Ee("div"),"a",{get:function(){return 7}}).a})),Te=k,Ie=E,Ce=O,Ae=P,De=X,Pe=be,Me=Yt,Fe=Oe,Ne=Object.getOwnPropertyDescriptor;_.f=Te?Ne:function(t,e){if(t=De(t),e=Pe(e),Fe)try{return Ne(t,e)}catch(n){}if(Me(t,e))return Ae(!Ie(Ce.f,t,e),t[e])};var Be=a,je=w,ze=/#|\.prototype\./,Le=function(t,e){var n=Ue[Re(t)];return n==He||n!=Ve&&(je(e)?Be(e):!!e)},Re=Le.normalize=function(t){return String(t).replace(ze,".").toLowerCase()},Ue=Le.data={},Ve=Le.NATIVE="N",He=Le.POLYFILL="P",We=Le,qe=Ot,Ye=l,Xe=b(b.bind),$e=function(t,e){return qe(t),void 0===e?t:Ye?Xe(t,e):function(){return t.apply(e,arguments)}},Ge={},Ke=a,Qe=k&&Ke((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Je=s,Ze=G,tn=Je.String,en=Je.TypeError,nn=function(t){if(Ze(t))return t;throw en(tn(t)+" is not an object")},rn=k,on=Oe,sn=Qe,an=nn,ln=be,un=s.TypeError,cn=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,dn="enumerable",fn="configurable",pn="writable";Ge.f=rn?sn?function(t,e,n){if(an(t),e=ln(e),an(n),"function"===typeof t&&"prototype"===e&&"value"in n&&pn in n&&!n[pn]){var i=hn(t,e);i&&i[pn]&&(t[e]=n.value,n={configurable:fn in n?n[fn]:i[fn],enumerable:dn in n?n[dn]:i[dn],writable:!1})}return cn(t,e,n)}:cn:function(t,e,n){if(an(t),e=ln(e),an(n),on)try{return cn(t,e,n)}catch(i){}if("get"in n||"set"in n)throw un("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var vn=Ge,yn=P,gn=k?function(t,e,n){return vn.f(t,e,yn(1,n))}:function(t,e,n){return t[e]=n,t},mn=s,bn=f,wn=b,_n=w,kn=_.f,xn=We,Sn=K,En=$e,On=gn,Tn=Yt,In=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return bn(t,this,arguments)};return e.prototype=t.prototype,e},Cn=function(t,e){var n,i,r,o,s,a,l,u,c=t.target,h=t.global,d=t.stat,f=t.proto,p=h?mn:d?mn[c]:(mn[c]||{}).prototype,v=h?Sn:Sn[c]||On(Sn,c,{})[c],y=v.prototype;for(r in e)n=!xn(h?r:c+(d?".":"#")+r,t.forced)&&p&&Tn(p,r),s=v[r],n&&(a=t.noTargetGet?(u=kn(p,r))&&u.value:p[r]),o=n&&a?a:e[r],n&&typeof s==typeof o||(l=t.bind&&n?En(o,mn):t.wrap&&n?In(o):f&&_n(o)?wn(o):o,(t.sham||o&&o.sham||s&&s.sham)&&On(l,"sham",!0),On(v,r,l),f&&(Tn(Sn,i=c+"Prototype")||On(Sn,i,{}),On(Sn[i],r,o),t.real&&y&&!y[r]&&On(y,r,o)))},An=Cn,Dn=k,Pn=Ge.f;An({target:"Object",stat:!0,forced:Object.defineProperty!==Pn,sham:!Dn},{defineProperty:Pn});var Mn=K.Object,Fn=r.exports=function(t,e,n){return Mn.defineProperty(t,e,n)};Mn.defineProperty.sham&&(Fn.sham=!0);var Nn=r.exports,Bn=Nn;function jn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Bn(t,i.key,i)}}function zn(t,e,n){return e&&jn(t.prototype,e),n&&jn(t,n),Bn(t,"prototype",{writable:!1}),t}function Ln(t,e,n){return e in t?Bn(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rn=b([].slice),Un=b,Vn=Ot,Hn=G,Wn=Yt,qn=Rn,Yn=l,Xn=s.Function,$n=Un([].concat),Gn=Un([].join),Kn={},Qn=function(t,e,n){if(!Wn(Kn,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Kn[e]=Xn("C,a","return new C("+Gn(i,",")+")")}return Kn[e](t,n)},Jn=Yn?Xn.bind:function(t){var e=Vn(this),n=e.prototype,i=qn(arguments,1),r=function(){var n=$n(i,qn(arguments));return this instanceof r?Qn(e,n.length,n):e.apply(t,n)};return Hn(n)&&(r.prototype=n),r},Zn=Jn;Cn({target:"Function",proto:!0,forced:Function.bind!==Zn},{bind:Zn});var ti=K,ei=function(t){return ti[t+"Prototype"]},ni=ei("Function").bind,ii=nt,ri=ni,oi=Function.prototype,si=function(t){var e=t.bind;return t===oi||ii(oi,t)&&e===oi.bind?ri:e},ai=Math.ceil,li=Math.floor,ui=function(t){var e=+t;return e!==e||0===e?0:(e>0?li:ai)(e)},ci=ui,hi=Math.min,di=function(t){return t>0?hi(ci(t),9007199254740991):0},fi=function(t){return di(t.length)},pi=Ot,vi=Ht,yi=V,gi=fi,mi=s.TypeError,bi=function(t){return function(e,n,i,r){pi(n);var o=vi(e),s=yi(o),a=gi(o),l=t?a-1:0,u=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,t?l<0:a<=l)throw mi("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},wi={left:bi(!1),right:bi(!0)},_i=a,ki=function(t,e){var n=[][t];return!!n&&_i((function(){n.call(null,e||function(){return 1},1)}))},xi="process"==B(s.process),Si=Cn,Ei=wi.left,Oi=ct,Ti=xi,Ii=ki("reduce"),Ci=!Ti&&Oi>79&&Oi<83;Si({target:"Array",proto:!0,forced:!Ii||Ci},{reduce:function(t){var e=arguments.length;return Ei(this,t,e,e>1?arguments[1]:void 0)}});var Ai=ei("Array").reduce,Di=nt,Pi=Ai,Mi=Array.prototype,Fi=function(t){var e=t.reduce;return t===Mi||Di(Mi,t)&&e===Mi.reduce?Pi:e},Ni=B,Bi=Array.isArray||function(t){return"Array"==Ni(t)},ji=le("toStringTag"),zi={};zi[ji]="z";var Li="[object z]"===String(zi),Ri=s,Ui=Li,Vi=w,Hi=B,Wi=le("toStringTag"),qi=Ri.Object,Yi="Arguments"==Hi(function(){return arguments}()),Xi=function(t,e){try{return t[e]}catch(n){}},$i=Ui?Hi:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Xi(e=qi(t),Wi))?n:Yi?Hi(e):"Object"==(i=Hi(e))&&Vi(e.callee)?"Arguments":i},Gi=w,Ki=Lt,Qi=b(Function.toString);Gi(Ki.inspectSource)||(Ki.inspectSource=function(t){return Qi(t)});var Ji=Ki.inspectSource,Zi=b,tr=a,er=w,nr=$i,ir=Ji,rr=function(){},or=[],sr=et("Reflect","construct"),ar=/^\s*(?:class|function)\b/,lr=Zi(ar.exec),ur=!ar.exec(rr),cr=function(t){if(!er(t))return!1;try{return sr(rr,or,t),!0}catch(e){return!1}},hr=function(t){if(!er(t))return!1;switch(nr(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ur||!!lr(ar,ir(t))}catch(e){return!0}};hr.sham=!0;var dr=!sr||tr((function(){var t;return cr(cr.call)||!cr(Object)||!cr((function(){t=!0}))||t}))?hr:cr,fr=s,pr=Bi,vr=dr,yr=G,gr=le("species"),mr=fr.Array,br=function(t){var e;return pr(t)&&(e=t.constructor,(vr(e)&&(e===mr||pr(e.prototype))||yr(e)&&null===(e=e[gr]))&&(e=void 0)),void 0===e?mr:e},wr=function(t,e){return new(br(t))(0===e?0:e)},_r=$e,kr=V,xr=Ht,Sr=fi,Er=wr,Or=b([].push),Tr=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,s=7==t,a=5==t||o;return function(l,u,c,h){for(var d,f,p=xr(l),v=kr(p),y=_r(u,c),g=Sr(v),m=0,b=h||Er,w=e?b(l,g):n||s?b(l,0):void 0;g>m;m++)if((a||m in v)&&(f=y(d=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Or(w,d)}else switch(t){case 4:return!1;case 7:Or(w,d)}return o?-1:i||r?r:w}},Ir={forEach:Tr(0),map:Tr(1),filter:Tr(2),some:Tr(3),every:Tr(4),find:Tr(5),findIndex:Tr(6),filterReject:Tr(7)},Cr=a,Ar=ct,Dr=le("species"),Pr=function(t){return Ar>=51||!Cr((function(){var e=[];return(e.constructor={})[Dr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Mr=Cn,Fr=Ir.filter,Nr=Pr("filter");Mr({target:"Array",proto:!0,forced:!Nr},{filter:function(t){return Fr(this,t,arguments.length>1?arguments[1]:void 0)}});var Br=ei("Array").filter,jr=nt,zr=Br,Lr=Array.prototype,Rr=function(t){var e=t.filter;return t===Lr||jr(Lr,t)&&e===Lr.filter?zr:e},Ur=Cn,Vr=Ir.map,Hr=Pr("map");Ur({target:"Array",proto:!0,forced:!Hr},{map:function(t){return Vr(this,t,arguments.length>1?arguments[1]:void 0)}});var Wr=ei("Array").map,qr=nt,Yr=Wr,Xr=Array.prototype,$r=function(t){var e=t.map;return t===Xr||qr(Xr,t)&&e===Xr.map?Yr:e},Gr=Bi,Kr=fi,Qr=$e,Jr=s.TypeError,Zr=function(t,e,n,i,r,o,s,a){for(var l,u,c=r,h=0,d=!!s&&Qr(s,a);h<i;){if(h in n){if(l=d?d(n[h],h,e):n[h],o>0&&Gr(l))u=Kr(l),c=Zr(t,e,l,u,c,o-1)-1;else{if(c>=9007199254740991)throw Jr("Exceed the acceptable array length");t[c]=l}c++}h++}return c},to=Zr,eo=Ot,no=Ht,io=fi,ro=wr;Cn({target:"Array",proto:!0},{flatMap:function(t){var e,n=no(this),i=io(n);return eo(t),(e=ro(n,0)).length=to(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var oo=ei("Array").flatMap,so=nt,ao=oo,lo=Array.prototype,uo=function(t){var e=t.flatMap;return t===lo||so(lo,t)&&e===lo.flatMap?ao:e};function co(t){return new yo(t)}var ho,fo,po,vo=function(){function t(n,i,r){var o,s,a;e(this,t),Ln(this,"_source",void 0),Ln(this,"_transformers",void 0),Ln(this,"_target",void 0),Ln(this,"_listeners",{add:si(o=this._add).call(o,this),remove:si(s=this._remove).call(s,this),update:si(a=this._update).call(a,this)}),this._source=n,this._transformers=i,this._target=r}return zn(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var e;return Fi(e=this._transformers).call(e,(function(t,e){return e(t)}),t)}},{key:"_add",value:function(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}},{key:"_update",value:function(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}},{key:"_remove",value:function(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}]),t}(),yo=function(){function t(n){e(this,t),Ln(this,"_source",void 0),Ln(this,"_transformers",[]),this._source=n}return zn(t,[{key:"filter",value:function(t){return this._transformers.push((function(e){return Rr(e).call(e,t)})),this}},{key:"map",value:function(t){return this._transformers.push((function(e){return $r(e).call(e,t)})),this}},{key:"flatMap",value:function(t){return this._transformers.push((function(e){return uo(e).call(e,t)})),this}},{key:"to",value:function(t){return new vo(this._source,this._transformers,t)}}]),t}(),go=$i,mo=s.String,bo=function(t){if("Symbol"===go(t))throw TypeError("Cannot convert a Symbol value to a string");return mo(t)},wo=b,_o=ui,ko=bo,xo=W,So=wo("".charAt),Eo=wo("".charCodeAt),Oo=wo("".slice),To=function(t){return function(e,n){var i,r,o=ko(xo(e)),s=_o(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=Eo(o,s))<55296||i>56319||s+1===a||(r=Eo(o,s+1))<56320||r>57343?t?So(o,s):i:t?Oo(o,s,s+2):r-56320+(i-55296<<10)+65536}},Io={codeAt:To(!1),charAt:To(!0)},Co=w,Ao=Ji,Do=s.WeakMap,Po=Co(Do)&&/native code/.test(Ao(Do)),Mo=Ft.exports,Fo=Qt,No=Mo("keys"),Bo=function(t){return No[t]||(No[t]=Fo(t))},jo={},zo=Po,Lo=s,Ro=b,Uo=G,Vo=gn,Ho=Yt,Wo=Lt,qo=Bo,Yo=jo,Xo="Object already initialized",$o=Lo.TypeError,Go=Lo.WeakMap,Ko=function(t){return po(t)?fo(t):ho(t,{})},Qo=function(t){return function(e){var n;if(!Uo(e)||(n=fo(e)).type!==t)throw $o("Incompatible receiver, "+t+" required");return n}};if(zo||Wo.state){var Jo=Wo.state||(Wo.state=new Go),Zo=Ro(Jo.get),ts=Ro(Jo.has),es=Ro(Jo.set);ho=function(t,e){if(ts(Jo,t))throw new $o(Xo);return e.facade=t,es(Jo,t,e),e},fo=function(t){return Zo(Jo,t)||{}},po=function(t){return ts(Jo,t)}}else{var ns=qo("state");Yo[ns]=!0,ho=function(t,e){if(Ho(t,ns))throw new $o(Xo);return e.facade=t,Vo(t,ns,e),e},fo=function(t){return Ho(t,ns)?t[ns]:{}},po=function(t){return Ho(t,ns)}}var is={set:ho,get:fo,has:po,enforce:Ko,getterFor:Qo},rs=k,os=Yt,ss=Function.prototype,as=rs&&Object.getOwnPropertyDescriptor,ls=os(ss,"name"),us=ls&&"something"===function(){}.name,cs=ls&&(!rs||rs&&as(ss,"name").configurable),hs={EXISTS:ls,PROPER:us,CONFIGURABLE:cs},ds={},fs=ui,ps=Math.max,vs=Math.min,ys=function(t,e){var n=fs(t);return n<0?ps(n+e,0):vs(n,e)},gs=X,ms=ys,bs=fi,ws=function(t){return function(e,n,i){var r,o=gs(e),s=bs(o),a=ms(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},_s={includes:ws(!0),indexOf:ws(!1)},ks=b,xs=Yt,Ss=X,Es=_s.indexOf,Os=jo,Ts=ks([].push),Is=function(t,e){var n,i=Ss(t),r=0,o=[];for(n in i)!xs(Os,n)&&xs(i,n)&&Ts(o,n);for(;e.length>r;)xs(i,n=e[r++])&&(~Es(o,n)||Ts(o,n));return o},Cs=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],As=Is,Ds=Cs,Ps=Object.keys||function(t){return As(t,Ds)},Ms=k,Fs=Qe,Ns=Ge,Bs=nn,js=X,zs=Ps;ds.f=Ms&&!Fs?Object.defineProperties:function(t,e){Bs(t);for(var n,i=js(e),r=zs(e),o=r.length,s=0;o>s;)Ns.f(t,n=r[s++],i[n]);return t};var Ls,Rs=et("document","documentElement"),Us=nn,Vs=ds,Hs=Cs,Ws=jo,qs=Rs,Ys=xe,Xs=">",$s="<",Gs="prototype",Ks="script",Qs=Bo("IE_PROTO"),Js=function(){},Zs=function(t){return $s+Ks+Xs+t+$s+"/"+Ks+Xs},ta=function(t){t.write(Zs("")),t.close();var e=t.parentWindow.Object;return t=null,e},ea=function(){var t,e=Ys("iframe"),n="java"+Ks+":";return e.style.display="none",qs.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Zs("document.F=Object")),t.close(),t.F},na=function(){try{Ls=new ActiveXObject("htmlfile")}catch(e){}na="undefined"!=typeof document?document.domain&&Ls?ta(Ls):ea():ta(Ls);for(var t=Hs.length;t--;)delete na[Gs][Hs[t]];return na()};Ws[Qs]=!0;var ia,ra,oa,sa=Object.create||function(t,e){var n;return null!==t?(Js[Gs]=Us(t),n=new Js,Js[Gs]=null,n[Qs]=t):n=na(),void 0===e?n:Vs.f(n,e)},aa=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),la=s,ua=Yt,ca=w,ha=Ht,da=aa,fa=Bo("IE_PROTO"),pa=la.Object,va=pa.prototype,ya=da?pa.getPrototypeOf:function(t){var e=ha(t);if(ua(e,fa))return e[fa];var n=e.constructor;return ca(n)&&e instanceof n?n.prototype:e instanceof pa?va:null},ga=gn,ma=function(t,e,n,i){i&&i.enumerable?t[e]=n:ga(t,e,n)},ba=a,wa=w,_a=sa,ka=ya,xa=ma,Sa=le("iterator"),Ea=!1;[].keys&&("next"in(oa=[].keys())?(ra=ka(ka(oa)))!==Object.prototype&&(ia=ra):Ea=!0),ia=void 0==ia||ba((function(){var t={};return ia[Sa].call(t)!==t}))?{}:_a(ia),wa(ia[Sa])||xa(ia,Sa,(function(){return this}));var Oa={IteratorPrototype:ia,BUGGY_SAFARI_ITERATORS:Ea},Ta=$i,Ia=Li?{}.toString:function(){return"[object "+Ta(this)+"]"},Ca=Li,Aa=Ge.f,Da=gn,Pa=Yt,Ma=Ia,Fa=le("toStringTag"),Na=function(t,e,n,i){if(t){var r=n?t:t.prototype;Pa(r,Fa)||Aa(r,Fa,{configurable:!0,value:e}),i&&!Ca&&Da(r,"toString",Ma)}},Ba={},ja=Oa.IteratorPrototype,za=sa,La=P,Ra=Na,Ua=Ba,Va=function(){return this},Ha=function(t,e,n,i){var r=e+" Iterator";return t.prototype=za(ja,{next:La(+!i,n)}),Ra(t,r,!1,!0),Ua[r]=Va,t},Wa=s,qa=w,Ya=Wa.String,Xa=Wa.TypeError,$a=b,Ga=nn,Ka=function(t){if("object"==typeof t||qa(t))return t;throw Xa("Can't set "+Ya(t)+" as a prototype")},Qa=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=$a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return Ga(n),Ka(i),e?t(n,i):n.__proto__=i,n}}():void 0),Ja=Cn,Za=E,tl=Ha,el=ya,nl=Na,il=ma,rl=le,ol=Ba,sl=Oa,al=hs.PROPER,ll=sl.BUGGY_SAFARI_ITERATORS,ul=rl("iterator"),cl="keys",hl="values",dl="entries",fl=function(){return this},pl=function(t,e,n,i,r,o,s){tl(n,e,i);var a,l,u,c=function(t){if(t===r&&v)return v;if(!ll&&t in f)return f[t];switch(t){case cl:case hl:case dl:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[ul]||f["@@iterator"]||r&&f[r],v=!ll&&p||c(r),y="Array"==e&&f.entries||p;if(y&&(a=el(y.call(new t)))!==Object.prototype&&a.next&&(nl(a,h,!0,!0),ol[h]=fl),al&&r==hl&&p&&p.name!==hl&&(d=!0,v=function(){return Za(p,this)}),r)if(l={values:c(hl),keys:o?v:c(cl),entries:c(dl)},s)for(u in l)(ll||d||!(u in f))&&il(f,u,l[u]);else Ja({target:e,proto:!0,forced:ll||d},l);return s&&f[ul]!==v&&il(f,ul,v,{name:r}),ol[e]=v,l},vl=Io.charAt,yl=bo,gl=is,ml=pl,bl="String Iterator",wl=gl.set,_l=gl.getterFor(bl);ml(String,"String",(function(t){wl(this,{type:bl,string:yl(t),index:0})}),(function(){var t,e=_l(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=vl(n,i),e.index+=t.length,{value:t,done:!1})}));var kl=E,xl=nn,Sl=It,El=function(t,e,n){var i,r;xl(t);try{if(!(i=Sl(t,"return"))){if("throw"===e)throw n;return n}i=kl(i,t)}catch(o){r=!0,i=o}if("throw"===e)throw n;if(r)throw i;return xl(i),n},Ol=nn,Tl=El,Il=function(t,e,n,i){try{return i?e(Ol(n)[0],n[1]):e(n)}catch(r){Tl(t,"throw",r)}},Cl=Ba,Al=le("iterator"),Dl=Array.prototype,Pl=function(t){return void 0!==t&&(Cl.Array===t||Dl[Al]===t)},Ml=be,Fl=Ge,Nl=P,Bl=function(t,e,n){var i=Ml(e);i in t?Fl.f(t,i,Nl(0,n)):t[i]=n},jl=$i,zl=It,Ll=Ba,Rl=le("iterator"),Ul=function(t){if(void 0!=t)return zl(t,Rl)||zl(t,"@@iterator")||Ll[jl(t)]},Vl=E,Hl=Ot,Wl=nn,ql=kt,Yl=Ul,Xl=s.TypeError,$l=function(t,e){var n=arguments.length<2?Yl(t):e;if(Hl(n))return Wl(Vl(n,t));throw Xl(ql(t)+" is not iterable")},Gl=$e,Kl=E,Ql=Ht,Jl=Il,Zl=Pl,tu=dr,eu=fi,nu=Bl,iu=$l,ru=Ul,ou=s.Array,su=function(t){var e=Ql(t),n=tu(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=Gl(r,i>2?arguments[2]:void 0));var s,a,l,u,c,h,d=ru(e),f=0;if(!d||this==ou&&Zl(d))for(s=eu(e),a=n?new this(s):ou(s);s>f;f++)h=o?r(e[f],f):e[f],nu(a,f,h);else for(c=(u=iu(e,d)).next,a=n?new this:[];!(l=Kl(c,u)).done;f++)h=o?Jl(u,r,[l.value,f],!0):l.value,nu(a,f,h);return a.length=f,a},au=le("iterator"),lu=!1;try{var uu=0,cu={next:function(){return{done:!!uu++}},return:function(){lu=!0}};cu[au]=function(){return this},Array.from(cu,(function(){throw 2}))}catch(ux){}var hu=Cn,du=su,fu=!function(t,e){if(!lu)return!1;var n=!1;try{var i={};i[au]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(ux){}return n}((function(t){Array.from(t)}));hu({target:"Array",stat:!0,forced:fu},{from:du});var pu=K.Array.from,vu=pu,yu=X,gu=Ba,mu=is;Ge.f;var bu=pl,wu="Array Iterator",_u=mu.set,ku=mu.getterFor(wu);bu(Array,"Array",(function(t,e){_u(this,{type:wu,target:yu(t),index:0,kind:e})}),(function(){var t=ku(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),gu.Arguments=gu.Array;var xu=Ul,Su={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Eu=s,Ou=$i,Tu=gn,Iu=Ba,Cu=le("toStringTag");for(var Au in Su){var Du=Eu[Au],Pu=Du&&Du.prototype;Pu&&Ou(Pu)!==Cu&&Tu(Pu,Cu,Au),Iu[Au]=Iu.Array}var Mu=xu,Fu={},Nu=Is,Bu=Cs.concat("length","prototype");Fu.f=Object.getOwnPropertyNames||function(t){return Nu(t,Bu)};var ju={},zu=ys,Lu=fi,Ru=Bl,Uu=s.Array,Vu=Math.max,Hu=function(t,e,n){for(var i=Lu(t),r=zu(e,i),o=zu(void 0===n?i:n,i),s=Uu(Vu(o-r,0)),a=0;r<o;r++,a++)Ru(s,a,t[r]);return s.length=a,s},Wu=B,qu=X,Yu=Fu.f,Xu=Hu,$u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Gu=function(t){try{return Yu(t)}catch(ux){return Xu($u)}};ju.f=function(t){return $u&&"Window"==Wu(t)?Gu(t):Yu(qu(t))};var Ku={};Ku.f=Object.getOwnPropertySymbols;var Qu={},Ju=le;Qu.f=Ju;var Zu=K,tc=Yt,ec=Qu,nc=Ge.f,ic=function(t){var e=Zu.Symbol||(Zu.Symbol={});tc(e,t)||nc(e,t,{value:ec.f(t)})},rc=Cn,oc=s,sc=et,ac=f,lc=E,uc=b,cc=k,hc=ft,dc=a,fc=Yt,pc=Bi,vc=w,yc=G,gc=nt,mc=wt,bc=nn,wc=Ht,_c=X,kc=be,xc=bo,Sc=P,Ec=sa,Oc=Ps,Tc=Fu,Ic=ju,Cc=Ku,Ac=_,Dc=Ge,Pc=ds,Mc=O,Fc=Rn,Nc=ma,Bc=Ft.exports,jc=Bo,zc=jo,Lc=Qt,Rc=le,Uc=Qu,Vc=ic,Hc=Na,Wc=is,qc=Ir.forEach,Yc=jc("hidden"),Xc="Symbol",$c="prototype",Gc=Rc("toPrimitive"),Kc=Wc.set,Qc=Wc.getterFor(Xc),Jc=Object[$c],Zc=oc.Symbol,th=Zc&&Zc[$c],eh=oc.TypeError,nh=oc.QObject,ih=sc("JSON","stringify"),rh=Ac.f,oh=Dc.f,sh=Ic.f,ah=Mc.f,lh=uc([].push),uh=Bc("symbols"),ch=Bc("op-symbols"),hh=Bc("string-to-symbol-registry"),dh=Bc("symbol-to-string-registry"),fh=Bc("wks"),ph=!nh||!nh[$c]||!nh[$c].findChild,vh=cc&&dc((function(){return 7!=Ec(oh({},"a",{get:function(){return oh(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=rh(Jc,e);i&&delete Jc[e],oh(t,e,n),i&&t!==Jc&&oh(Jc,e,i)}:oh,yh=function(t,e){var n=uh[t]=Ec(th);return Kc(n,{type:Xc,tag:t,description:e}),cc||(n.description=e),n},gh=function(t,e,n){t===Jc&&gh(ch,e,n),bc(t);var i=kc(e);return bc(n),fc(uh,i)?(n.enumerable?(fc(t,Yc)&&t[Yc][i]&&(t[Yc][i]=!1),n=Ec(n,{enumerable:Sc(0,!1)})):(fc(t,Yc)||oh(t,Yc,Sc(1,{})),t[Yc][i]=!0),vh(t,i,n)):oh(t,i,n)},mh=function(t,e){bc(t);var n=_c(e),i=Oc(n).concat(xh(n));return qc(i,(function(e){cc&&!lc(wh,n,e)||gh(t,e,n[e])})),t},bh=function(t,e){return void 0===e?Ec(t):mh(Ec(t),e)},wh=function(t){var e=kc(t),n=lc(ah,this,e);return!(this===Jc&&fc(uh,e)&&!fc(ch,e))&&(!(n||!fc(this,e)||!fc(uh,e)||fc(this,Yc)&&this[Yc][e])||n)},_h=function(t,e){var n=_c(t),i=kc(e);if(n!==Jc||!fc(uh,i)||fc(ch,i)){var r=rh(n,i);return!r||!fc(uh,i)||fc(n,Yc)&&n[Yc][i]||(r.enumerable=!0),r}},kh=function(t){var e=sh(_c(t)),n=[];return qc(e,(function(t){fc(uh,t)||fc(zc,t)||lh(n,t)})),n},xh=function(t){var e=t===Jc,n=sh(e?ch:_c(t)),i=[];return qc(n,(function(t){!fc(uh,t)||e&&!fc(Jc,t)||lh(i,uh[t])})),i};if(hc||(Zc=function(){if(gc(th,this))throw eh("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?xc(arguments[0]):void 0,e=Lc(t),n=function(t){this===Jc&&lc(n,ch,t),fc(this,Yc)&&fc(this[Yc],e)&&(this[Yc][e]=!1),vh(this,e,Sc(1,t))};return cc&&ph&&vh(Jc,e,{configurable:!0,set:n}),yh(e,t)},Nc(th=Zc[$c],"toString",(function(){return Qc(this).tag})),Nc(Zc,"withoutSetter",(function(t){return yh(Lc(t),t)})),Mc.f=wh,Dc.f=gh,Pc.f=mh,Ac.f=_h,Tc.f=Ic.f=kh,Cc.f=xh,Uc.f=function(t){return yh(Rc(t),t)},cc&&oh(th,"description",{configurable:!0,get:function(){return Qc(this).description}})),rc({global:!0,wrap:!0,forced:!hc,sham:!hc},{Symbol:Zc}),qc(Oc(fh),(function(t){Vc(t)})),rc({target:Xc,stat:!0,forced:!hc},{for:function(t){var e=xc(t);if(fc(hh,e))return hh[e];var n=Zc(e);return hh[e]=n,dh[n]=e,n},keyFor:function(t){if(!mc(t))throw eh(t+" is not a symbol");if(fc(dh,t))return dh[t]},useSetter:function(){ph=!0},useSimple:function(){ph=!1}}),rc({target:"Object",stat:!0,forced:!hc,sham:!cc},{create:bh,defineProperty:gh,defineProperties:mh,getOwnPropertyDescriptor:_h}),rc({target:"Object",stat:!0,forced:!hc},{getOwnPropertyNames:kh,getOwnPropertySymbols:xh}),rc({target:"Object",stat:!0,forced:dc((function(){Cc.f(1)}))},{getOwnPropertySymbols:function(t){return Cc.f(wc(t))}}),ih){var Sh=!hc||dc((function(){var t=Zc();return"[null]"!=ih([t])||"{}"!=ih({a:t})||"{}"!=ih(Object(t))}));rc({target:"JSON",stat:!0,forced:Sh},{stringify:function(t,e,n){var i=Fc(arguments),r=e;if((yc(e)||void 0!==t)&&!mc(t))return pc(e)||(e=function(t,e){if(vc(r)&&(e=lc(r,this,t,e)),!mc(e))return e}),i[1]=e,ac(ih,null,i)}})}if(!th[Gc]){var Eh=th.valueOf;Nc(th,Gc,(function(t){return lc(Eh,this)}))}Hc(Zc,Xc),zc[Yc]=!0;var Oh=K.Object.getOwnPropertySymbols,Th={exports:{}},Ih=Cn,Ch=a,Ah=X,Dh=_.f,Ph=k,Mh=Ch((function(){Dh(1)}));Ih({target:"Object",stat:!0,forced:!Ph||Mh,sham:!Ph},{getOwnPropertyDescriptor:function(t,e){return Dh(Ah(t),e)}});var Fh=K.Object,Nh=Th.exports=function(t,e){return Fh.getOwnPropertyDescriptor(t,e)};Fh.getOwnPropertyDescriptor.sham&&(Nh.sham=!0);var Bh=Th.exports,jh=et,zh=Fu,Lh=Ku,Rh=nn,Uh=b([].concat),Vh=jh("Reflect","ownKeys")||function(t){var e=zh.f(Rh(t)),n=Lh.f;return n?Uh(e,n(t)):e},Hh=Vh,Wh=X,qh=_,Yh=Bl;Cn({target:"Object",stat:!0,sham:!k},{getOwnPropertyDescriptors:function(t){for(var e,n,i=Wh(t),r=qh.f,o=Hh(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&Yh(s,e,n);return s}});var Xh=K.Object.getOwnPropertyDescriptors,$h={exports:{}},Gh=Cn,Kh=k,Qh=ds.f;Gh({target:"Object",stat:!0,forced:Object.defineProperties!==Qh,sham:!Kh},{defineProperties:Qh});var Jh=K.Object,Zh=$h.exports=function(t,e){return Jh.defineProperties(t,e)};Jh.defineProperties.sham&&(Zh.sham=!0);var td=$h.exports,ed=Nn;Cn({target:"Array",stat:!0},{isArray:Bi});var nd=K.Array.isArray,id=nd;function rd(t){if(id(t))return t}var od=Cn,sd=s,ad=a,ld=Bi,ud=G,cd=Ht,hd=fi,dd=Bl,fd=wr,pd=Pr,vd=ct,yd=le("isConcatSpreadable"),gd=9007199254740991,md="Maximum allowed index exceeded",bd=sd.TypeError,wd=vd>=51||!ad((function(){var t=[];return t[yd]=!1,t.concat()[0]!==t})),_d=pd("concat"),kd=function(t){if(!ud(t))return!1;var e=t[yd];return void 0!==e?!!e:ld(t)};od({target:"Array",proto:!0,forced:!wd||!_d},{concat:function(t){var e,n,i,r,o,s=cd(this),a=fd(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(kd(o=-1===e?s:arguments[e])){if(l+(r=hd(o))>gd)throw bd(md);for(n=0;n<r;n++,l++)n in o&&dd(a,l,o[n])}else{if(l>=gd)throw bd(md);dd(a,l++,o)}return a.length=l,a}}),ic("asyncIterator"),ic("hasInstance"),ic("isConcatSpreadable"),ic("iterator"),ic("match"),ic("matchAll"),ic("replace"),ic("search"),ic("species"),ic("split"),ic("toPrimitive"),ic("toStringTag"),ic("unscopables"),Na(s.JSON,"JSON",!0);var xd=K.Symbol,Sd=xd;ic("asyncDispose"),ic("dispose"),ic("matcher"),ic("metadata"),ic("observable"),ic("patternMatch"),ic("replaceAll");var Ed=Sd;function Od(t,e){var n=null==t?null:"undefined"!==typeof Ed&&Mu(t)||t["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(l){a=!0,r=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}var Td=Cn,Id=s,Cd=Bi,Ad=dr,Dd=G,Pd=ys,Md=fi,Fd=X,Nd=Bl,Bd=le,jd=Rn,zd=Pr("slice"),Ld=Bd("species"),Rd=Id.Array,Ud=Math.max;Td({target:"Array",proto:!0,forced:!zd},{slice:function(t,e){var n,i,r,o=Fd(this),s=Md(o),a=Pd(t,s),l=Pd(void 0===e?s:e,s);if(Cd(o)&&(n=o.constructor,(Ad(n)&&(n===Rd||Cd(n.prototype))||Dd(n)&&null===(n=n[Ld]))&&(n=void 0),n===Rd||void 0===n))return jd(o,a,l);for(i=new(void 0===n?Rd:n)(Ud(l-a,0)),r=0;a<l;a++,r++)a in o&&Nd(i,r,o[a]);return i.length=r,i}});var Vd=ei("Array").slice,Hd=nt,Wd=Vd,qd=Array.prototype,Yd=function(t){var e=t.slice;return t===qd||Hd(qd,t)&&e===qd.slice?Wd:e},Xd=Yd,$d=pu;function Gd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Kd(t,e){var n;if(t){if("string"===typeof t)return Gd(t,e);var i=Xd(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?$d(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Gd(t,e):void 0}}function Qd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jd(t,e){return rd(t)||Od(t,e)||Kd(t,e)||Qd()}var Zd=Qu.f("iterator"),tf=Zd;function ef(t){return ef="function"==typeof Ed&&"symbol"==typeof tf?function(t){return typeof t}:function(t){return t&&"function"==typeof Ed&&t.constructor===Ed&&t!==Ed.prototype?"symbol":typeof t},ef(t)}function nf(t){if(id(t))return Gd(t)}function rf(t){if("undefined"!==typeof Ed&&null!=Mu(t)||null!=t["@@iterator"])return $d(t)}function of(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sf(t){return nf(t)||rf(t)||Kd(t)||of()}var af=xd,lf=ei("Array").concat,uf=nt,cf=lf,hf=Array.prototype,df=function(t){var e=t.concat;return t===hf||uf(hf,t)&&e===hf.concat?cf:e},ff=Yd;Cn({target:"Reflect",stat:!0},{ownKeys:Vh});var pf=K.Reflect.ownKeys,vf=nd,yf=Cn,gf=Ht,mf=Ps,bf=a((function(){mf(1)}));yf({target:"Object",stat:!0,forced:bf},{keys:function(t){return mf(gf(t))}});var wf=K.Object.keys,_f=Cn,kf=b,xf=s.Date,Sf=kf(xf.prototype.getTime);_f({target:"Date",stat:!0},{now:function(){return Sf(new xf)}}),K.Date.now;var Ef=Ir.forEach,Of=ki("forEach")?[].forEach:function(t){return Ef(this,t,arguments.length>1?arguments[1]:void 0)};Cn({target:"Array",proto:!0,forced:[].forEach!=Of},{forEach:Of});var Tf=ei("Array").forEach,If=$i,Cf=Yt,Af=nt,Df=Tf,Pf=Array.prototype,Mf={DOMTokenList:!0,NodeList:!0},Ff=function(t){var e=t.forEach;return t===Pf||Af(Pf,t)&&e===Pf.forEach||Cf(Mf,If(t))?Df:e},Nf=Cn,Bf=Bi,jf=b([].reverse),zf=[1,2];Nf({target:"Array",proto:!0,forced:String(zf)===String(zf.reverse())},{reverse:function(){return Bf(this)&&(this.length=this.length),jf(this)}});var Lf=ei("Array").reverse,Rf=nt,Uf=Lf,Vf=Array.prototype,Hf=function(t){var e=t.reverse;return t===Vf||Rf(Vf,t)&&e===Vf.reverse?Uf:e},Wf=Cn,qf=s,Yf=ys,Xf=ui,$f=fi,Gf=Ht,Kf=wr,Qf=Bl,Jf=Pr("splice"),Zf=qf.TypeError,tp=Math.max,ep=Math.min,np=9007199254740991,ip="Maximum allowed length exceeded";Wf({target:"Array",proto:!0,forced:!Jf},{splice:function(t,e){var n,i,r,o,s,a,l=Gf(this),u=$f(l),c=Yf(t,u),h=arguments.length;if(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=ep(tp(Xf(e),0),u-c)),u+n-i>np)throw Zf(ip);for(r=Kf(l,i),o=0;o<i;o++)(s=c+o)in l&&Qf(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var rp=ei("Array").splice,op=nt,sp=rp,ap=Array.prototype,lp=function(t){var e=t.splice;return t===ap||op(ap,t)&&e===ap.splice?sp:e},up=k,cp=b,hp=E,dp=a,fp=Ps,pp=Ku,vp=O,yp=Ht,gp=V,mp=Object.assign,bp=Object.defineProperty,wp=cp([].concat),_p=!mp||dp((function(){if(up&&1!==mp({b:1},mp(bp({},"a",{enumerable:!0,get:function(){bp(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=mp({},t)[n]||fp(mp({},e)).join("")!=i}))?function(t,e){for(var n=yp(t),i=arguments.length,r=1,o=pp.f,s=vp.f;i>r;)for(var a,l=gp(arguments[r++]),u=o?wp(fp(l),o(l)):fp(l),c=u.length,h=0;c>h;)a=u[h++],up&&!hp(s,l,a)||(n[a]=l[a]);return n}:mp,kp=_p;Cn({target:"Object",stat:!0,forced:Object.assign!==kp},{assign:kp});var xp=K.Object.assign,Sp=Cn,Ep=_s.includes;Sp({target:"Array",proto:!0},{includes:function(t){return Ep(this,t,arguments.length>1?arguments[1]:void 0)}}),ei("Array").includes;var Op=G,Tp=B,Ip=le("match"),Cp=function(t){var e;return Op(t)&&(void 0!==(e=t[Ip])?!!e:"RegExp"==Tp(t))},Ap=s.TypeError,Dp=function(t){if(Cp(t))throw Ap("The method doesn't accept regular expressions");return t},Pp=le("match"),Mp=Cn,Fp=Dp,Np=W,Bp=bo,jp=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Pp]=!1,"/./"[t](e)}catch(i){}}return!1},zp=b("".indexOf);Mp({target:"String",proto:!0,forced:!jp("includes")},{includes:function(t){return!!~zp(Bp(Np(this)),Bp(Fp(t)),arguments.length>1?arguments[1]:void 0)}}),ei("String").includes;var Lp=Cn,Rp=Ht,Up=ya,Vp=aa,Hp=a((function(){Up(1)}));Lp({target:"Object",stat:!0,forced:Hp,sham:!Vp},{getPrototypeOf:function(t){return Up(Rp(t))}});var Wp=K.Object.getPrototypeOf,qp=k,Yp=b,Xp=Ps,$p=X,Gp=O.f,Kp=Yp(Gp),Qp=Yp([].push),Jp=function(t){return function(e){for(var n,i=$p(e),r=Xp(i),o=r.length,s=0,a=[];o>s;)n=r[s++],qp&&!Kp(i,n)||Qp(a,t?[n,i[n]]:i[n]);return a}},Zp={entries:Jp(!0),values:Jp(!1)},tv=Cn,ev=Zp.values;tv({target:"Object",stat:!0},{values:function(t){return ev(t)}}),K.Object.values;var nv="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",iv=W,rv=bo,ov=nv,sv=b("".replace),av="["+ov+"]",lv=RegExp("^"+av+av+"*"),uv=RegExp(av+av+"*$"),cv=function(t){return function(e){var n=rv(iv(e));return 1&t&&(n=sv(n,lv,"")),2&t&&(n=sv(n,uv,"")),n}},hv={start:cv(1),end:cv(2),trim:cv(3)},dv=s,fv=a,pv=b,vv=bo,yv=hv.trim,gv=nv,mv=dv.parseInt,bv=dv.Symbol,wv=bv&&bv.iterator,_v=/^[+-]?0x/i,kv=pv(_v.exec),xv=8!==mv(gv+"08")||22!==mv(gv+"0x16")||wv&&!fv((function(){mv(Object(wv))}))?function(t,e){var n=yv(vv(t));return mv(n,e>>>0||(kv(_v,n)?16:10))}:mv;Cn({global:!0,forced:parseInt!=xv},{parseInt:xv}),K.parseInt;var Sv=Cn,Ev=b,Ov=_s.indexOf,Tv=ki,Iv=Ev([].indexOf),Cv=!!Iv&&1/Iv([1],1,-0)<0,Av=Tv("indexOf");Sv({target:"Array",proto:!0,forced:Cv||!Av},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Cv?Iv(this,t,e)||0:Ov(this,t,e)}}),ei("Array").indexOf;var Dv=hs.PROPER,Pv=a,Mv=nv,Fv="\u200b\x85\u180e",Nv=function(t){return Pv((function(){return!!Mv[t]()||Fv[t]()!==Fv||Dv&&Mv[t].name!==t}))},Bv=Cn,jv=hv.trim;Bv({target:"String",proto:!0,forced:Nv("trim")},{trim:function(){return jv(this)}}),ei("String").trim,Cn({target:"Object",stat:!0,sham:!k},{create:sa});var zv=K.Object,Lv=function(t,e){return zv.create(t,e)},Rv=Lv,Uv=Cn,Vv=et,Hv=f,Wv=b,qv=a,Yv=s.Array,Xv=Vv("JSON","stringify"),$v=Wv(/./.exec),Gv=Wv("".charAt),Kv=Wv("".charCodeAt),Qv=Wv("".replace),Jv=Wv(1..toString),Zv=/[\uD800-\uDFFF]/g,ty=/^[\uD800-\uDBFF]$/,ey=/^[\uDC00-\uDFFF]$/,ny=function(t,e,n){var i=Gv(n,e-1),r=Gv(n,e+1);return $v(ty,t)&&!$v(ey,r)||$v(ey,t)&&!$v(ty,i)?"\\u"+Jv(Kv(t,0),16):t},iy=qv((function(){return'"\\udf06\\ud834"'!==Xv("\udf06\ud834")||'"\\udead"'!==Xv("\udead")}));Xv&&Uv({target:"JSON",stat:!0,forced:iy},{stringify:function(t,e,n){for(var i=0,r=arguments.length,o=Yv(r);i<r;i++)o[i]=arguments[i];var s=Hv(Xv,null,o);return"string"==typeof s?Qv(s,Zv,ny):s}});var ry=K,oy=f;ry.JSON||(ry.JSON={stringify:JSON.stringify});var sy=function(t,e,n){return oy(ry.JSON.stringify,null,arguments)},ay=sy,ly=s.TypeError,uy=Cn,cy=s,hy=f,dy=w,fy=Rn,py=function(t,e){if(t<e)throw ly("Not enough arguments");return t},vy=/MSIE .\./.test(it),yy=cy.Function,gy=function(t){return function(e,n){var i=py(arguments.length,1)>2,r=dy(e)?e:yy(e),o=i?fy(arguments,2):void 0;return t(i?function(){hy(r,this,o)}:r,n)}};uy({global:!0,bind:!0,forced:vy},{setTimeout:gy(cy.setTimeout),setInterval:gy(cy.setInterval)});var my=K.setTimeout,by=Ht,wy=ys,_y=fi,ky=function(t){for(var e=by(this),n=_y(e),i=arguments.length,r=wy(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:wy(o,n);s>r;)e[r++]=t;return e};Cn({target:"Array",proto:!0},{fill:ky}),ei("Array").fill;var xy={exports:{}};!function(t){function e(t){if(t)return n(t)}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(xy);var Sy,Ey=xy.exports;function Oy(){return Oy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Oy.apply(this,arguments)}function Ty(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Iy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Sy="function"!==typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var Cy,Ay=Sy,Dy=["","webkit","Moz","MS","ms","o"],Py="undefined"===typeof document?{style:{}}:document.createElement("div"),My="function",Fy=Math.round,Ny=Math.abs,By=Date.now;function jy(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Dy.length;){if((i=(n=Dy[o])?n+r:e)in t)return i;o++}}Cy="undefined"===typeof window?{}:window;var zy=jy(Py.style,"touchAction"),Ly=void 0!==zy;function Ry(){if(!Ly)return!1;var t={},e=Cy.CSS&&Cy.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||Cy.CSS.supports("touch-action",n)})),t}var Uy="compute",Vy="auto",Hy="manipulation",Wy="none",qy="pan-x",Yy="pan-y",Xy=Ry(),$y=/mobile|tablet|ip(ad|hone|od)|android/i,Gy="ontouchstart"in Cy,Ky=void 0!==jy(Cy,"PointerEvent"),Qy=Gy&&$y.test(navigator.userAgent),Jy="touch",Zy="pen",tg="mouse",eg="kinect",ng=25,ig=1,rg=2,og=4,sg=8,ag=1,lg=2,ug=4,cg=8,hg=16,dg=lg|ug,fg=cg|hg,pg=dg|fg,vg=["x","y"],yg=["clientX","clientY"];function gg(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function mg(t,e){return typeof t===My?t.apply(e&&e[0]||void 0,e):t}function bg(t,e){return t.indexOf(e)>-1}function wg(t){if(bg(t,Wy))return Wy;var e=bg(t,qy),n=bg(t,Yy);return e&&n?Wy:e||n?e?qy:Yy:bg(t,Hy)?Hy:Vy}var _g=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Uy&&(t=this.compute()),Ly&&this.manager.element.style&&Xy[t]&&(this.manager.element.style[zy]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return gg(this.manager.recognizers,(function(e){mg(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),wg(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=bg(i,Wy)&&!Xy[Wy],o=bg(i,Yy)&&!Xy[Yy],s=bg(i,qy)&&!Xy[qy];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&dg||s&&n&fg?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function kg(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function xg(t){var e=t.length;if(1===e)return{x:Fy(t[0].clientX),y:Fy(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:Fy(n/e),y:Fy(i/e)}}function Sg(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Fy(t.pointers[n].clientX),clientY:Fy(t.pointers[n].clientY)},n++;return{timeStamp:By(),pointers:e,center:xg(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Eg(t,e,n){n||(n=vg);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Og(t,e,n){n||(n=vg);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function Tg(t,e){return t===e?ag:Ny(t)>=Ny(e)?t<0?lg:ug:e<0?cg:hg}function Ig(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==ig&&o.eventType!==og||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function Cg(t,e,n){return{x:e/t||0,y:n/t||0}}function Ag(t,e){return Eg(e[0],e[1],yg)/Eg(t[0],t[1],yg)}function Dg(t,e){return Og(e[1],e[0],yg)+Og(t[1],t[0],yg)}function Pg(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==sg&&(a>ng||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=Cg(a,l,u);i=c.x,r=c.y,n=Ny(c.x)>Ny(c.y)?c.x:c.y,o=Tg(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function Mg(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=Sg(e)),r>1&&!n.firstMultiple?n.firstMultiple=Sg(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=xg(i);e.timeStamp=By(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Og(a,l),e.distance=Eg(a,l),Ig(n,e),e.offsetDirection=Tg(e.deltaX,e.deltaY);var u=Cg(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Ny(u.x)>Ny(u.y)?u.x:u.y,e.scale=s?Ag(s.pointers,i):1,e.rotation=s?Dg(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,Pg(n,e);var c,h=t.element,d=e.srcEvent;kg(c=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,h)&&(h=c),e.target=h}function Fg(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&ig&&i-r===0,s=e&(og|sg)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,Mg(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Ng(t){return t.trim().split(/\s+/g)}function Bg(t,e,n){gg(Ng(e),(function(e){t.addEventListener(e,n,!1)}))}function jg(t,e,n){gg(Ng(e),(function(e){t.removeEventListener(e,n,!1)}))}function zg(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Lg=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){mg(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Bg(this.element,this.evEl,this.domHandler),this.evTarget&&Bg(this.target,this.evTarget,this.domHandler),this.evWin&&Bg(zg(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&jg(this.element,this.evEl,this.domHandler),this.evTarget&&jg(this.target,this.evTarget,this.domHandler),this.evWin&&jg(zg(this.element),this.evWin,this.domHandler)},t}();function Rg(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var Ug={pointerdown:ig,pointermove:rg,pointerup:og,pointercancel:sg,pointerout:sg},Vg={2:Jy,3:Zy,4:tg,5:eg},Hg="pointerdown",Wg="pointermove pointerup pointercancel";Cy.MSPointerEvent&&!Cy.PointerEvent&&(Hg="MSPointerDown",Wg="MSPointerMove MSPointerUp MSPointerCancel");var qg=function(t){function e(){var n,i=e.prototype;return i.evEl=Hg,i.evWin=Wg,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Ty(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Ug[i],o=Vg[t.pointerType]||t.pointerType,s=o===Jy,a=Rg(e,t.pointerId,"pointerId");r&ig&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(og|sg)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(Lg);function Yg(t){return Array.prototype.slice.call(t,0)}function Xg(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];Rg(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var $g={touchstart:ig,touchmove:rg,touchend:og,touchcancel:sg},Gg="touchstart touchmove touchend touchcancel",Kg=function(t){function e(){var n;return e.prototype.evTarget=Gg,(n=t.apply(this,arguments)||this).targetIds={},n}return Ty(e,t),e.prototype.handler=function(t){var e=$g[t.type],n=Qg.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Jy,srcEvent:t})},e}(Lg);function Qg(t,e){var n,i,r=Yg(t.touches),o=this.targetIds;if(e&(ig|rg)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Yg(t.changedTouches),a=[],l=this.target;if(i=r.filter((function(t){return kg(t.target,l)})),e===ig)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),e&(og|sg)&&delete o[s[n].identifier],n++;return a.length?[Xg(i.concat(a),"identifier",!0),a]:void 0}var Jg={mousedown:ig,mousemove:rg,mouseup:og},Zg="mousedown",tm="mousemove mouseup",em=function(t){function e(){var n,i=e.prototype;return i.evEl=Zg,i.evWin=tm,(n=t.apply(this,arguments)||this).pressed=!1,n}return Ty(e,t),e.prototype.handler=function(t){var e=Jg[t.type];e&ig&&0===t.button&&(this.pressed=!0),e&rg&&1!==t.which&&(e=og),this.pressed&&(e&og&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:tg,srcEvent:t}))},e}(Lg),nm=2500,im=25;function rm(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n);var r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,nm)}}function om(t,e){t&ig?(this.primaryTouch=e.changedPointers[0].identifier,rm.call(this,e)):t&(og|sg)&&rm.call(this,e)}function sm(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=im&&s<=im)return!0}return!1}var am=function(){return function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===Jy,o=n.pointerType===tg;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)om.call(Iy(Iy(i)),e,n);else if(o&&sm.call(Iy(Iy(i)),n))return;i.callback(t,e,n)}},i.touch=new Kg(i.manager,i.handler),i.mouse=new em(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return Ty(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Lg)}();function lm(t){var e=t.options.inputClass;return new(e||(Ky?qg:Qy?Kg:Gy?am:em))(t,Fg)}function um(t,e,n){return!!Array.isArray(t)&&(gg(t,n[e],n),!0)}var cm=1,hm=2,dm=4,fm=8,pm=fm,vm=16,ym=32,gm=1;function mm(){return gm++}function bm(t,e){var n=e.manager;return n?n.get(t):t}function wm(t){return t&vm?"cancel":t&fm?"end":t&dm?"move":t&hm?"start":""}var _m=function(){function t(t){void 0===t&&(t={}),this.options=Oy({enable:!0},t),this.id=mm(),this.manager=null,this.state=cm,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Ay(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(um(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=bm(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return um(t,"dropRecognizeWith",this)||(t=bm(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(um(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Rg(e,t=bm(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(um(t,"dropRequireFailure",this))return this;t=bm(t,this);var e=Rg(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<fm&&i(e.options.event+wm(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=fm&&i(e.options.event+wm(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=ym},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ym|cm)))return!1;t++}return!0},e.recognize=function(t){var e=Ay({},t);if(!mg(this.options.enable,[this,e]))return this.reset(),void(this.state=ym);this.state&(pm|vm|ym)&&(this.state=cm),this.state=this.process(e),this.state&(hm|dm|fm|vm)&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),km=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Oy({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Ty(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Hy]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),t.eventType&ig&&0===this.count)return this.failTimeout();if(r&&o&&i){if(t.eventType!==og)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||Eg(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=pm,e.tryEmit()}),n.interval),hm):pm}return ym},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=ym}),this.options.interval),ym},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===pm&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(_m),xm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Oy({pointers:1},e))||this}Ty(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=e&(hm|dm),r=this.attrTest(t);return i&&(n&sg||!r)?e|vm:i||r?n&og?e|fm:e&hm?e|dm:hm:ym},e}(_m);function Sm(t){return t===hg?"down":t===cg?"up":t===lg?"left":t===ug?"right":""}var Em=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Oy({event:"pan",threshold:10,pointers:1,direction:pg},e))||this).pX=null,n.pY=null,n}Ty(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return t&dg&&e.push(Yy),t&fg&&e.push(qy),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&dg?(r=0===o?ag:o<0?lg:ug,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?ag:s<0?cg:hg,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return xm.prototype.attrTest.call(this,t)&&(this.state&hm||!(this.state&hm)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Sm(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(xm),Om=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Oy({event:"swipe",threshold:10,velocity:.3,direction:dg|fg,pointers:1},e))||this}Ty(e,t);var n=e.prototype;return n.getTouchAction=function(){return Em.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return i&(dg|fg)?n=e.overallVelocity:i&dg?n=e.overallVelocityX:i&fg&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Ny(n)>this.options.velocity&&e.eventType&og},n.emit=function(t){var e=Sm(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(xm),Tm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Oy({event:"pinch",threshold:0,pointers:2},e))||this}Ty(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Wy]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&hm)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(xm),Im=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Oy({event:"rotate",threshold:0,pointers:2},e))||this}Ty(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Wy]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&hm)},e}(xm),Cm=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Oy({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}Ty(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Vy]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||t.eventType&(og|sg)&&!o)this.reset();else if(t.eventType&ig)this.reset(),this._timer=setTimeout((function(){e.state=pm,e.tryEmit()}),n.time);else if(t.eventType&og)return pm;return ym},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){this.state===pm&&(t&&t.eventType&og?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=By(),this.manager.emit(this.options.event,this._input)))},e}(_m),Am={domEvents:!1,touchAction:Uy,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Dm=[[Im,{enable:!1}],[Tm,{enable:!1},["rotate"]],[Om,{direction:dg}],[Em,{direction:dg},["swipe"]],[km],[km,{event:"doubletap",taps:2},["tap"]],[Cm]],Pm=1,Mm=2;function Fm(t,e){var n,i=t.element;i.style&&(gg(t.options.cssProps,(function(r,o){n=jy(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}function Nm(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var Bm=function(){function t(t,e){var n=this;this.options=Ay({},Am,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=lm(this),this.touchAction=new _g(this,this.options.touchAction),Fm(this,!0),gg(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Ay(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?Mm:Pm},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&pm)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],e.stopped===Mm||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(hm|dm|fm)&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof _m)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(um(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(um(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=Rg(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return gg(Ng(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return gg(Ng(t),(function(t){e?n[t]&&n[t].splice(Rg(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&Nm(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&Fm(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),jm={touchstart:ig,touchmove:rg,touchend:og,touchcancel:sg},zm="touchstart",Lm="touchstart touchmove touchend touchcancel",Rm=function(t){function e(){var n,i=e.prototype;return i.evTarget=zm,i.evWin=Lm,(n=t.apply(this,arguments)||this).started=!1,n}return Ty(e,t),e.prototype.handler=function(t){var e=jm[t.type];if(e===ig&&(this.started=!0),this.started){var n=Um.call(this,t,e);e&(og|sg)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Jy,srcEvent:t})}},e}(Lg);function Um(t,e){var n=Yg(t.touches),i=Yg(t.changedTouches);return e&(og|sg)&&(n=Xg(n.concat(i),"identifier",!0)),[n,i]}function Vm(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var Hm=Vm((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),Wm=Vm((function(t,e){return Hm(t,e,!0)}),"merge","Use `assign`.");function qm(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&Ay(i,n)}function Ym(t,e){return function(){return t.apply(e,arguments)}}var Xm=function(){var t=function(t,e){return void 0===e&&(e={}),new Bm(t,Oy({recognizers:Dm.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=pg,t.DIRECTION_DOWN=hg,t.DIRECTION_LEFT=lg,t.DIRECTION_RIGHT=ug,t.DIRECTION_UP=cg,t.DIRECTION_HORIZONTAL=dg,t.DIRECTION_VERTICAL=fg,t.DIRECTION_NONE=ag,t.DIRECTION_DOWN=hg,t.INPUT_START=ig,t.INPUT_MOVE=rg,t.INPUT_END=og,t.INPUT_CANCEL=sg,t.STATE_POSSIBLE=cm,t.STATE_BEGAN=hm,t.STATE_CHANGED=dm,t.STATE_ENDED=fm,t.STATE_RECOGNIZED=pm,t.STATE_CANCELLED=vm,t.STATE_FAILED=ym,t.Manager=Bm,t.Input=Lg,t.TouchAction=_g,t.TouchInput=Kg,t.MouseInput=em,t.PointerEventInput=qg,t.TouchMouseInput=am,t.SingleTouchInput=Rm,t.Recognizer=_m,t.AttrRecognizer=xm,t.Tap=km,t.Pan=Em,t.Swipe=Om,t.Pinch=Tm,t.Rotate=Im,t.Press=Cm,t.on=Bg,t.off=jg,t.each=gg,t.merge=Wm,t.extend=Hm,t.bindFn=Ym,t.assign=Ay,t.inherit=qm,t.bindFn=Ym,t.prefixed=jy,t.toArray=Yg,t.inArray=Rg,t.uniqueArray=Xg,t.splitStr=Ng,t.boolOrFn=mg,t.hasParent=kg,t.addEventListeners=Bg,t.removeEventListeners=jg,t.defaults=Ay({},Am,{preset:Dm}),t}();function $m(t,e){var n="undefined"!==typeof af&&Mu(t)||t["@@iterator"];if(!n){if(vf(t)||(n=Gm(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Gm(t,e){var n;if(t){if("string"===typeof t)return Km(t,e);var i=ff(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?vu(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Km(t,e):void 0}}function Km(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Qm=af("DELETE");function Jm(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Zm.apply(void 0,df(e=[{},t]).call(e,i))}function Zm(){var t=tb.apply(void 0,arguments);return nb(t),t}function tb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)return e[0];var i;if(e.length>2)return tb.apply(void 0,df(i=[Zm(e[0],e[1])]).call(i,sf(ff(e).call(e,2))));var r,o=e[0],s=e[1],a=$m(pf(s));try{for(a.s();!(r=a.n()).done;){var l=r.value;Object.prototype.propertyIsEnumerable.call(s,l)&&(s[l]===Qm?delete o[l]:null===o[l]||null===s[l]||"object"!==ef(o[l])||"object"!==ef(s[l])||vf(o[l])||vf(s[l])?o[l]=eb(s[l]):o[l]=tb(o[l],s[l]))}}catch(u){a.e(u)}finally{a.f()}return o}function eb(t){return vf(t)?$r(t).call(t,(function(t){return eb(t)})):"object"===ef(t)&&null!==t?tb({},t):t}function nb(t){for(var e=0,n=wf(t);e<n.length;e++){var i=n[e];t[i]===Qm?delete t[i]:"object"===ef(t[i])&&null!==t[i]&&nb(t[i])}}function ib(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}var rb="undefined"!==typeof window?window.Hammer||Xm:function(){return ib()};function ob(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=rb(this._dom.overlay);i.on("tap",si(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ff(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){sb(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}function sb(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}Ey(ob.prototype),ob.current=null,ob.prototype.destroy=function(){var t,e;this.deactivate();var n,i=$m(Hf(t=lp(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(r){i.e(r)}finally{i.f()}},ob.prototype.activate=function(){ob.current&&ob.current.deactivate(),ob.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},ob.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},ob.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var ab=dr,lb=kt,ub=s.TypeError,cb=Cn,hb=f,db=Jn,fb=function(t){if(ab(t))return t;throw ub(lb(t)+" is not a constructor")},pb=nn,vb=G,yb=sa,gb=a,mb=et("Reflect","construct"),bb=Object.prototype,wb=[].push,_b=gb((function(){function t(){}return!(mb((function(){}),[],t)instanceof t)})),kb=!gb((function(){mb((function(){}))})),xb=_b||kb;cb({target:"Reflect",stat:!0,forced:xb,sham:xb},{construct:function(t,e){fb(t),pb(e);var n=arguments.length<3?t:fb(arguments[2]);if(kb&&!_b)return mb(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return hb(wb,i,e),new(hb(db,t,i))}var r=n.prototype,o=yb(vb(r)?r:bb),s=hb(t,o,e);return vb(s)?s:o}});var Sb=K.Reflect.construct;function Eb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ob=Lv;Cn({target:"Object",stat:!0},{setPrototypeOf:Qa});var Tb=K.Object.setPrototypeOf;function Ib(t,e){return Ib=Tb||function(t,e){return t.__proto__=e,t},Ib(t,e)}function Cb(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Ob(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Bn(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ab(t,e){if(e&&("object"===ef(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Eb(t)}var Db=Wp;function Pb(t){return Pb=Tb?Db:function(t){return t.__proto__||Db(t)},Pb(t)}var Mb={exports:{}};!function(t){var e=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(P){l=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof y?e:y,o=Object.create(r.prototype),s=new C(i||[]);return o._invoke=E(t,n,s),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",v={};function y(){}function g(){}function m(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==n&&i.call(_,o)&&(b=_);var k=m.prototype=y.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,o,s,a){var l=c(t[r],t,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===typeof h&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}var r;function o(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function E(t,e,n){var i=h;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return D()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=c(t,e,n);if("normal"===l.type){if(i=n.done?p:d,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}function O(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:D}}function D(){return{value:e,done:!0}}return g.prototype=m,l(k,"constructor",m),l(m,"constructor",g),g.displayName=l(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,a,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new S(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},x(k),l(k,a,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:A(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(Mb);var Fb=Mb.exports,Nb={exports:{}},Bb=a((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),jb=a,zb=G,Lb=B,Rb=Bb,Ub=Object.isExtensible,Vb=jb((function(){Ub(1)}))||Rb?function(t){return!!zb(t)&&(!Rb||"ArrayBuffer"!=Lb(t))&&(!Ub||Ub(t))}:Ub,Hb=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),Wb=Cn,qb=b,Yb=jo,Xb=G,$b=Yt,Gb=Ge.f,Kb=Fu,Qb=ju,Jb=Vb,Zb=Hb,tw=!1,ew=Qt("meta"),nw=0,iw=function(t){Gb(t,ew,{value:{objectID:"O"+nw++,weakData:{}}})},rw=function(t,e){if(!Xb(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!$b(t,ew)){if(!Jb(t))return"F";if(!e)return"E";iw(t)}return t[ew].objectID},ow=function(t,e){if(!$b(t,ew)){if(!Jb(t))return!0;if(!e)return!1;iw(t)}return t[ew].weakData},sw=function(t){return Zb&&tw&&Jb(t)&&!$b(t,ew)&&iw(t),t},aw=function(){lw.enable=function(){},tw=!0;var t=Kb.f,e=qb([].splice),n={};n[ew]=1,t(n).length&&(Kb.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===ew){e(i,r,1);break}return i},Wb({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Qb.f}))},lw=Nb.exports={enable:aw,fastKey:rw,getWeakData:ow,onFreeze:sw};Yb[ew]=!0;var uw=$e,cw=E,hw=nn,dw=kt,fw=Pl,pw=fi,vw=nt,yw=$l,gw=Ul,mw=El,bw=s.TypeError,ww=function(t,e){this.stopped=t,this.result=e},_w=ww.prototype,kw=function(t,e,n){var i,r,o,s,a,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),p=uw(e,c),v=function(t){return i&&mw(i,"normal",t),new ww(!0,t)},y=function(t){return h?(hw(t),f?p(t[0],t[1],v):p(t[0],t[1])):f?p(t,v):p(t)};if(d)i=t;else{if(!(r=gw(t)))throw bw(dw(t)+" is not iterable");if(fw(r)){for(o=0,s=pw(t);s>o;o++)if((a=y(t[o]))&&vw(_w,a))return a;return new ww(!1)}i=yw(t,r)}for(l=i.next;!(u=cw(l,i)).done;){try{a=y(u.value)}catch(ux){mw(i,"throw",ux)}if("object"==typeof a&&a&&vw(_w,a))return a}return new ww(!1)},xw=nt,Sw=s.TypeError,Ew=function(t,e){if(xw(e,t))return t;throw Sw("Incorrect invocation")},Ow=Cn,Tw=s,Iw=Nb.exports,Cw=a,Aw=gn,Dw=kw,Pw=Ew,Mw=w,Fw=G,Nw=Na,Bw=Ge.f,jw=Ir.forEach,zw=k,Lw=is,Rw=Lw.set,Uw=Lw.getterFor,Vw=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=Tw[t],l=a&&a.prototype,u={};if(zw&&Mw(a)&&(o||l.forEach&&!Cw((function(){(new a).entries().next()})))){var c=(i=e((function(e,n){Rw(Pw(e,c),{type:t,collection:new a}),void 0!=n&&Dw(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,h=Uw(t);jw(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in l)||o&&"clear"==t||Aw(c,t,(function(n,i){var r=h(this).collection;if(!e&&o&&!Fw(n))return"get"==t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||Bw(c,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(e,t,r,s),Iw.enable();return Nw(i,t,!1,!0),u[t]=i,Ow({global:!0,forced:!0},u),o||n.setStrong(i,t,r),i},Hw=ma,Ww=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:Hw(t,i,e[i],n);return t},qw=et,Yw=Ge,Xw=k,$w=le("species"),Gw=function(t){var e=qw(t),n=Yw.f;Xw&&e&&!e[$w]&&n(e,$w,{configurable:!0,get:function(){return this}})},Kw=Ge.f,Qw=sa,Jw=Ww,Zw=$e,t_=Ew,e_=kw,n_=pl,i_=Gw,r_=k,o_=Nb.exports.fastKey,s_=is,a_=s_.set,l_=s_.getterFor,u_={getConstructor:function(t,e,n,i){var r=t((function(t,r){t_(t,o),a_(t,{type:e,index:Qw(null),first:void 0,last:void 0,size:0}),r_||(t.size=0),void 0!=r&&e_(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=l_(e),a=function(t,e,n){var i,r,o=s(t),a=l(t,e);return a?a.value=n:(o.last=a={index:r=o_(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),r_?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var n,i=s(t),r=o_(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return Jw(o,{clear:function(){for(var t=this,e=s(t),n=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,r_?e.size=0:t.size=0},delete:function(t){var e=this,n=s(e),i=l(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),r_?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=Zw(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),Jw(o,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),r_&&Kw(o,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=l_(e),o=l_(i);n_(t,e,(function(t,e){a_(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),i_(e)}};Vw("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),u_);var c_=K.Map,h_=Cn,d_=Ir.some,f_=ki("some");h_({target:"Array",proto:!0,forced:!f_},{some:function(t){return d_(this,t,arguments.length>1?arguments[1]:void 0)}});var p_=ei("Array").some,v_=nt,y_=p_,g_=Array.prototype,m_=function(t){var e=t.some;return t===g_||v_(g_,t)&&e===g_.some?y_:e},b_=ei("Array").keys,w_=$i,__=Yt,k_=nt,x_=b_,S_=Array.prototype,E_={DOMTokenList:!0,NodeList:!0},O_=function(t){var e=t.keys;return t===S_||k_(S_,t)&&e===S_.keys||__(E_,w_(t))?x_:e},T_=Hu,I_=Math.floor,C_=function(t,e){var n=t.length,i=I_(n/2);return n<8?A_(t,e):D_(t,C_(T_(t,0,i),e),C_(T_(t,i),e),e)},A_=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},D_=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},P_=C_,M_=it.match(/firefox\/(\d+)/i),F_=!!M_&&+M_[1],N_=/MSIE|Trident/.test(it),B_=it.match(/AppleWebKit\/(\d+)\./),j_=!!B_&&+B_[1],z_=Cn,L_=b,R_=Ot,U_=Ht,V_=fi,H_=bo,W_=a,q_=P_,Y_=ki,X_=F_,$_=N_,G_=ct,K_=j_,Q_=[],J_=L_(Q_.sort),Z_=L_(Q_.push),tk=W_((function(){Q_.sort(void 0)})),ek=W_((function(){Q_.sort(null)})),nk=Y_("sort"),ik=!W_((function(){if(G_)return G_<70;if(!(X_&&X_>3)){if($_)return!0;if(K_)return K_<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Q_.push({k:e+i,v:n})}for(Q_.sort((function(t,e){return e.v-t.v})),i=0;i<Q_.length;i++)e=Q_[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),rk=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:H_(e)>H_(n)?1:-1}};z_({target:"Array",proto:!0,forced:tk||!ek||!nk||!ik},{sort:function(t){void 0!==t&&R_(t);var e=U_(this);if(ik)return void 0===t?J_(e):J_(e,t);var n,i,r=[],o=V_(e);for(i=0;i<o;i++)i in e&&Z_(r,e[i]);for(q_(r,rk(t)),n=r.length,i=0;i<n;)e[i]=r[i++];for(;i<o;)delete e[i++];return e}});var ok,sk=ei("Array").sort,ak=nt,lk=sk,uk=Array.prototype,ck=function(t){var e=t.sort;return t===uk||ak(uk,t)&&e===uk.sort?lk:e},hk=ei("Array").values,dk=$i,fk=Yt,pk=nt,vk=hk,yk=Array.prototype,gk={DOMTokenList:!0,NodeList:!0},mk=function(t){var e=t.values;return t===yk||pk(yk,t)&&e===yk.values||fk(gk,dk(t))?vk:e},bk=Zd,wk=ei("Array").entries,_k=$i,kk=Yt,xk=nt,Sk=wk,Ek=Array.prototype,Ok={DOMTokenList:!0,NodeList:!0},Tk=function(t){var e=t.entries;return t===Ek||xk(Ek,t)&&e===Ek.entries||kk(Ok,_k(t))?Sk:e},Ik=new Uint8Array(16);function Ck(){if(!ok&&!(ok="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ok(Ik)}var Ak=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Dk(t){return"string"===typeof t&&Ak.test(t)}for(var Pk=[],Mk=0;Mk<256;++Mk)Pk.push((Mk+256).toString(16).substr(1));function Fk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Pk[t[e+0]]+Pk[t[e+1]]+Pk[t[e+2]]+Pk[t[e+3]]+"-"+Pk[t[e+4]]+Pk[t[e+5]]+"-"+Pk[t[e+6]]+Pk[t[e+7]]+"-"+Pk[t[e+8]]+Pk[t[e+9]]+"-"+Pk[t[e+10]]+Pk[t[e+11]]+Pk[t[e+12]]+Pk[t[e+13]]+Pk[t[e+14]]+Pk[t[e+15]]).toLowerCase();if(!Dk(n))throw TypeError("Stringified UUID is invalid");return n}function Nk(t,e,n){var i=(t=t||{}).random||(t.rng||Ck)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return Fk(i)}function Bk(t){return"string"===typeof t||"number"===typeof t}var jk=function(){function t(n){e(this,t),Ln(this,"delay",void 0),Ln(this,"max",void 0),Ln(this,"_queue",[]),Ln(this,"_timeout",null),Ln(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(n)}return zn(t,[{key:"setOptions",value:function(t){t&&"undefined"!==typeof t.delay&&(this.delay=t.delay),t&&"undefined"!==typeof t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}}},{key:"replace",value:function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.queue({args:e,fn:i,context:this})}}},{key:"queue",value:function(t){"function"===typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"===typeof this.delay&&(this._timeout=my((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;Ff(t=lp(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,n){var i=new t(n);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:r},i}}]),t}(),zk=function(){function t(){e(this,t),Ln(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Ln(this,"subscribe",t.prototype.on),Ln(this,"unsubscribe",t.prototype.off)}return zn(t,[{key:"_trigger",value:function(t,e,n){var i,r;if("*"===t)throw new Error("Cannot trigger event *");Ff(i=df(r=[]).call(r,sf(this._subscribers[t]),sf(this._subscribers["*"]))).call(i,(function(i){i(t,e,null!=n?n:null)}))}},{key:"on",value:function(t,e){"function"===typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var n;this._subscribers[t]=Rr(n=this._subscribers[t]).call(n,(function(t){return t!==e}))}}]),t}();Vw("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),u_);var Lk,Rk=K.Set,Uk=$l;function Vk(t,e){var n="undefined"!==typeof af&&Mu(t)||t["@@iterator"];if(!n){if(vf(t)||(n=Hk(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Hk(t,e){var n;if(t){if("string"===typeof t)return Wk(t,e);var i=ff(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?vu(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Wk(t,e):void 0}}function Wk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Lk=bk;var qk=function(){function t(n){e(this,t),Ln(this,"_pairs",void 0),this._pairs=n}return zn(t,[{key:Lk,value:Fb.mark((function t(){var e,n,i,r,o;return Fb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Vk(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Jd(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:Fb.mark((function t(){var e,n,i,r,o;return Fb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Vk(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Jd(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:Fb.mark((function t(){var e,n,i,r;return Fb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Vk(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Jd(n.value,1),r=i[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:Fb.mark((function t(){var e,n,i,r;return Fb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Vk(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=Jd(n.value,2),r=i[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return $r(t=sf(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return $r(t=sf(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return sf(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=Rv(null),n=Vk(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=Jd(t.value,2),r=i[0],o=i[1];e[r]=o}}catch(s){n.e(s)}finally{n.f()}return e}},{key:"toMap",value:function(){return new c_(this._pairs)}},{key:"toIdSet",value:function(){return new Rk(this.toIdArray())}},{key:"toItemSet",value:function(){return new Rk(this.toItemArray())}},{key:"cache",value:function(){return new t(sf(this._pairs))}},{key:"distinct",value:function(t){var e,n=new Rk,i=Vk(this._pairs);try{for(i.s();!(e=i.n()).done;){var r=Jd(e.value,2),o=r[0],s=r[1];n.add(t(s,o))}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"filter",value:function(e){var n=this._pairs;return new t(Ln({},bk,Fb.mark((function t(){var i,r,o,s,a;return Fb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Vk(n),t.prev=1,i.s();case 3:if((r=i.n()).done){t.next=10;break}if(o=Jd(r.value,2),s=o[0],a=o[1],!e(a,s)){t.next=8;break}return t.next=8,[s,a];case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),i.e(t.t0);case 15:return t.prev=15,i.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(t){var e,n=Vk(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=Jd(e.value,2),r=i[0];t(i[1],r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"map",value:function(e){var n=this._pairs;return new t(Ln({},bk,Fb.mark((function t(){var i,r,o,s,a;return Fb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Vk(n),t.prev=1,i.s();case 3:if((r=i.n()).done){t.next=9;break}return o=Jd(r.value,2),s=o[0],a=o[1],t.next=7,[s,e(a,s)];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i.e(t.t0);case 14:return t.prev=14,i.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))))}},{key:"max",value:function(t){var e=Uk(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Jd(n.value,2),s=o[0],a=o[1],l=t(a,s);l>r&&(r=l,i=a)}return i}},{key:"min",value:function(t){var e=Uk(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=Jd(n.value,2),s=o[0],a=o[1],l=t(a,s);l<r&&(r=l,i=a)}return i}},{key:"reduce",value:function(t,e){var n,i=Vk(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=Jd(n.value,2),o=r[0];e=t(e,r[1],o)}}catch(s){i.e(s)}finally{i.f()}return e}},{key:"sort",value:function(e){var n=this;return new t(Ln({},bk,(function(){var t;return Uk(ck(t=sf(n._pairs)).call(t,(function(t,n){var i=Jd(t,2),r=i[0],o=i[1],s=Jd(n,2),a=s[0],l=s[1];return e(o,l,r,a)})))})))}}]),t}();function Yk(t,e){var n=wf(t);if(Oh){var i=Oh(t);e&&(i=Rr(i).call(i,(function(e){return Bh(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Ff(n=Yk(Object(r),!0)).call(n,(function(e){Ln(t,e,r[e])})):Xh?td(t,Xh(r)):Ff(i=Yk(Object(r))).call(i,(function(e){ed(t,e,Bh(r,e))}))}return t}function $k(t,e){var n="undefined"!==typeof af&&Mu(t)||t["@@iterator"];if(!n){if(vf(t)||(n=Gk(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Gk(t,e){var n;if(t){if("string"===typeof t)return Kk(t,e);var i=ff(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?vu(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Kk(t,e):void 0}}function Kk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Qk(t){var e=Jk();return function(){var n,i=Pb(t);if(e){var r=Pb(this).constructor;n=Sb(i,arguments,r)}else n=i.apply(this,arguments);return Ab(this,n)}}function Jk(){if("undefined"===typeof Reflect||!Sb)return!1;if(Sb.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Sb(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Zk(t,e){return null==t[e]&&(t[e]=Nk()),t}var tx=function(t){Cb(i,t);var n=Qk(i);function i(t,r){var o;return e(this,i),Ln(Eb(o=n.call(this)),"flush",void 0),Ln(Eb(o),"length",void 0),Ln(Eb(o),"_options",void 0),Ln(Eb(o),"_data",void 0),Ln(Eb(o),"_idProp",void 0),Ln(Eb(o),"_queue",null),t&&!vf(t)&&(r=t,t=[]),o._options=r||{},o._data=new c_,o.length=0,o._idProp=o._options.fieldId||"id",t&&t.length&&o.add(t),o.setOptions(r),o}return zn(i,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=jk.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===ef(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var n,i=this,r=[];if(vf(t)){var o=$r(t).call(t,(function(t){return t[i._idProp]}));if(m_(o).call(o,(function(t){return i._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)n=this._addItem(t[s]),r.push(n)}else{if(!t||"object"!==ef(t))throw new Error("Unknown dataType");n=this._addItem(t),r.push(n)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&n._data.has(e)){var l=t,u=xp({},n._data.get(e)),c=n._updateItem(l);r.push(c),s.push(l),o.push(u)}else{var h=n._addItem(t);i.push(h)}};if(vf(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===ef(t[u])?l(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==ef(t))throw new Error("Unknown dataType");l(t)}if(i.length&&this._trigger("add",{items:i},e),r.length){var h={items:r,oldData:o,data:s};this._trigger("update",h,e)}return df(i).call(i,r)}},{key:"updateOnly",value:function(t,e){var n,i=this;vf(t)||(t=[t]);var r=$r(n=$r(t).call(t,(function(t){var e=i._data.get(t[i._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(n,(function(t){var e=t.oldData,n=t.update,r=e[i._idProp],o=Jm(e,n);return i._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:$r(r).call(r,(function(t){return t.id})),oldData:$r(r).call(r,(function(t){return t.oldData})),data:$r(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var n=void 0,i=void 0,r=void 0;Bk(t)?(n=t,r=e):vf(t)?(i=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&Rr(r),l=[],u=void 0,c=void 0,h=void 0;if(null!=n)(u=this._data.get(n))&&a&&!a(u)&&(u=void 0);else if(null!=i)for(var d=0,f=i.length;d<f;d++)null==(u=this._data.get(i[d]))||a&&!a(u)||l.push(u);else for(var p,v=0,y=(c=sf(O_(p=this._data).call(p))).length;v<y;v++)h=c[v],null==(u=this._data.get(h))||a&&!a(u)||l.push(u);if(r&&r.order&&void 0==n&&this._sort(l,r.order),r&&r.fields){var g=r.fields;if(void 0!=n&&null!=u)u=this._filterFields(u,g);else for(var m=0,b=l.length;m<b;m++)l[m]=this._filterFields(l[m],g)}if("Object"==s){for(var w={},_=0,k=l.length;_<k;_++){var x=l[_];w[x[this._idProp]]=x}return w}return null!=n?null!==(o=u)&&void 0!==o?o:null:l}},{key:"getIds",value:function(t){var e=this._data,n=t&&Rr(t),i=t&&t.order,r=sf(O_(e).call(e)),o=[];if(n)if(i){for(var s=[],a=0,l=r.length;a<l;a++){var u=r[a],c=this._data.get(u);null!=c&&n(c)&&s.push(c)}this._sort(s,i);for(var h=0,d=s.length;h<d;h++)o.push(s[h][this._idProp])}else for(var f=0,p=r.length;f<p;f++){var v=r[f],y=this._data.get(v);null!=y&&n(y)&&o.push(y[this._idProp])}else if(i){for(var g=[],m=0,b=r.length;m<b;m++){var w=r[m];g.push(e.get(w))}this._sort(g,i);for(var _=0,k=g.length;_<k;_++)o.push(g[_][this._idProp])}else for(var x=0,S=r.length;x<S;x++){var E=r[x],O=e.get(E);null!=O&&o.push(O[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var n=e&&Rr(e),i=this._data,r=sf(O_(i).call(i));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var l=o[s];t(l,l[this._idProp])}else for(var u=0,c=r.length;u<c;u++){var h=r[u],d=this._data.get(h);null==d||n&&!n(d)||t(d,h)}}},{key:"map",value:function(t,e){for(var n=e&&Rr(e),i=[],r=this._data,o=sf(O_(r).call(r)),s=0,a=o.length;s<a;s++){var l=o[s],u=this._data.get(l);null==u||n&&!n(u)||i.push(t(u,l))}return e&&e.order&&this._sort(i,e.order),i}},{key:"_filterFields",value:function(t,e){var n;return t?Fi(n=vf(e)?e:wf(e)).call(n,(function(e,n){return e[n]=t[n],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"===typeof e){var n=e;ck(t).call(t,(function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!==typeof e)throw new TypeError("Order must be a function or a string");ck(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var n=[],i=[],r=vf(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var l=a[this._idProp];null!=l&&(n.push(l),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},e),n}},{key:"_remove",value:function(t){var e;if(Bk(t)?e=t:t&&"object"===ef(t)&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var n=this._data.get(e)||null;return this._data.delete(e),--this.length,n}return null}},{key:"clear",value:function(t){for(var e,n=sf(O_(e=this._data).call(e)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},t),n}},{key:"max",value:function(t){var e,n,i=null,r=null,o=$k(mk(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"===typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"min",value:function(t){var e,n,i=null,r=null,o=$k(mk(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"===typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"distinct",value:function(t){for(var e=this._data,n=sf(O_(e).call(e)),i=[],r=0,o=0,s=n.length;o<s;o++){for(var a=n[o],l=e.get(a)[t],u=!1,c=0;c<r;c++)if(i[c]==l){u=!0;break}u||void 0===l||(i[r]=l,r++)}return i}},{key:"_addItem",value:function(t){var e=Zk(t,this._idProp),n=e[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,e),++this.length,n}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+ay(t)+")");var n=this._data.get(e);if(!n)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,Xk(Xk({},n),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new qk(Ln({},bk,Fb.mark((function n(){var i,r,o,s;return Fb.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=$k(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(o=r.value,null==(s=e.get(o))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))))}var n;return new qk(Ln({},bk,si(n=Tk(this._data)).call(n,this._data)))}}]),i}(zk);function ex(t,e){var n="undefined"!==typeof af&&Mu(t)||t["@@iterator"];if(!n){if(vf(t)||(n=nx(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function nx(t,e){var n;if(t){if("string"===typeof t)return ix(t,e);var i=ff(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?vu(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ix(t,e):void 0}}function ix(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function rx(t){var e=ox();return function(){var n,i=Pb(t);if(e){var r=Pb(this).constructor;n=Sb(i,arguments,r)}else n=i.apply(this,arguments);return Ab(this,n)}}function ox(){if("undefined"===typeof Reflect||!Sb)return!1;if(Sb.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Sb(Boolean,[],(function(){}))),!0}catch(t){return!1}}var sx=function(t){Cb(i,t);var n=rx(i);function i(t,r){var o,s;return e(this,i),Ln(Eb(s=n.call(this)),"length",0),Ln(Eb(s),"_listener",void 0),Ln(Eb(s),"_data",void 0),Ln(Eb(s),"_ids",new Rk),Ln(Eb(s),"_options",void 0),s._options=r||{},s._listener=si(o=s._onEvent).call(o,Eb(s)),s.setData(t),s}return zn(i,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:Rr(this._options)}),n=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:n})}if(null!=t){this._data=t;for(var i=this._data.getIds({filter:Rr(this._options)}),r=0,o=i.length;r<o;r++){var s=i[r];this._ids.add(s)}this.length=i.length,this._trigger("add",{items:i})}else this._data=new tx;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:Rr(this._options)}),e=sf(this._ids),n={},i=[],r=[],o=[],s=0,a=t.length;s<a;s++){var l=t[s];n[l]=!0,this._ids.has(l)||(i.push(l),this._ids.add(l))}for(var u=0,c=e.length;u<c;u++){var h=e[u],d=this._data.get(h);null==d?console.error("If you see this, report it please."):n[h]||(r.push(h),o.push(d),this._ids.delete(h))}this.length+=i.length-r.length,i.length&&this._trigger("add",{items:i}),r.length&&this._trigger("remove",{items:r,oldData:o})}},{key:"get",value:function(t,e){if(null==this._data)return null;var n,i=null;Bk(t)||vf(t)?(i=t,n=e):n=t;var r=xp({},this._options,n),o=Rr(this._options),s=n&&Rr(n);return o&&s&&(r.filter=function(t){return o(t)&&s(t)}),null==i?this._data.get(r):this._data.get(i,r)}},{key:"getIds",value:function(t){if(this._data.length){var e,n=Rr(this._options),i=null!=t?Rr(t):null;return e=i?n?function(t){return n(t)&&i(t)}:i:n,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var n,i,r=Rr(this._options),o=e&&Rr(e);i=o?r?function(t){return r(t)&&o(t)}:o:r,Ff(n=this._data).call(n,t,{filter:i,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var n,i,r=Rr(this._options),o=e&&Rr(e);return i=o?r?function(t){return r(t)&&o(t)}:o:r,$r(n=this._data).call(n,t,{filter:i,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||Ln({},bk,si(e=O_(this._ids)).call(e,this._ids)))}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var e,n="This data view has already been disposed of.",r={get:function(){throw new Error(n)},set:function(){throw new Error(n)},configurable:!1},o=ex(pf(i.prototype));try{for(o.s();!(e=o.n()).done;){var s=e.value;ed(this,s,r)}}catch(a){o.e(a)}finally{o.f()}}},{key:"_onEvent",value:function(t,e,n){if(e&&e.items&&this._data){var i=e.items,r=[],o=[],s=[],a=[],l=[],u=[];switch(t){case"add":for(var c=0,h=i.length;c<h;c++){var d=i[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=i.length;f<p;f++){var v=i[f];this.get(v)?this._ids.has(v)?(o.push(v),l.push(e.data[f]),a.push(e.oldData[f])):(this._ids.add(v),r.push(v)):this._ids.has(v)&&(this._ids.delete(v),s.push(v),u.push(e.oldData[f]))}break;case"remove":for(var y=0,g=i.length;y<g;y++){var m=i[y];this._ids.has(m)&&(this._ids.delete(m),s.push(m),u.push(e.oldData[y]))}}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r},n),o.length&&this._trigger("update",{items:o,oldData:a,data:l},n),s.length&&this._trigger("remove",{items:s,oldData:u},n)}}}]),i}(zk);function ax(t,e){return"object"===ef(e)&&null!==e&&t===e.idProp&&"function"===typeof e.add&&"function"===typeof e.clear&&"function"===typeof e.distinct&&"function"===typeof Ff(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof $r(e)&&"function"===typeof e.max&&"function"===typeof e.min&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.remove&&"function"===typeof e.setOptions&&"function"===typeof e.stream&&"function"===typeof e.update&&"function"===typeof e.updateOnly}function lx(t,e){return"object"===ef(e)&&null!==e&&t===e.idProp&&"function"===typeof Ff(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof $r(e)&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.stream&&ax(t,e.getDataSet())}t.DELETE=Qm,t.DataSet=tx,t.DataStream=qk,t.DataView=sx,t.Queue=jk,t.createNewDataPipeFrom=co,t.isDataSetLike=ax,t.isDataViewLike=lx,Object.defineProperty(t,"__esModule",{value:!0})}(e)},580:function(t,e,n){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},r={exports:{}},o=function(t){return t&&t.Math==Math&&t},s=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i&&i)||function(){return this}()||Function("return this")(),a=function(t){try{return!!t()}catch(t){return!0}},l=!a((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),u=l,c=Function.prototype,h=c.apply,d=c.call,f="object"==typeof Reflect&&Reflect.apply||(u?d.bind(h):function(){return d.apply(h,arguments)}),p=l,v=Function.prototype,y=v.bind,g=v.call,m=p&&y.bind(g,g),b=p?function(t){return t&&m(t)}:function(t){return t&&function(){return g.apply(t,arguments)}},w=function(t){return"function"==typeof t},_={},k=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),x=l,S=Function.prototype.call,E=x?S.bind(S):function(){return S.apply(S,arguments)},O={},T={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,C=I&&!T.call({1:2},1);O.f=C?function(t){var e=I(this,t);return!!e&&e.enumerable}:T;var A,D,P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=b,F=M({}.toString),N=M("".slice),B=function(t){return N(F(t),8,-1)},j=b,z=a,L=B,R=s.Object,U=j("".split),V=z((function(){return!R("z").propertyIsEnumerable(0)}))?function(t){return"String"==L(t)?U(t,""):R(t)}:R,H=s.TypeError,W=function(t){if(null==t)throw H("Can't call method on "+t);return t},q=V,Y=W,X=function(t){return q(Y(t))},$=w,G=function(t){return"object"==typeof t?null!==t:$(t)},K={},Q=K,J=s,Z=w,tt=function(t){return Z(t)?t:void 0},et=function(t,e){return arguments.length<2?tt(Q[t])||tt(J[t]):Q[t]&&Q[t][e]||J[t]&&J[t][e]},nt=b({}.isPrototypeOf),it=et("navigator","userAgent")||"",rt=s,ot=it,st=rt.process,at=rt.Deno,lt=st&&st.versions||at&&at.version,ut=lt&&lt.v8;ut&&(D=(A=ut.split("."))[0]>0&&A[0]<4?1:+(A[0]+A[1])),!D&&ot&&(!(A=ot.match(/Edge\/(\d+)/))||A[1]>=74)&&(A=ot.match(/Chrome\/(\d+)/))&&(D=+A[1]);var ct=D,ht=ct,dt=a,ft=!!Object.getOwnPropertySymbols&&!dt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ht&&ht<41})),pt=ft&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,vt=et,yt=w,gt=nt,mt=pt,bt=s.Object,wt=mt?function(t){return"symbol"==typeof t}:function(t){var e=vt("Symbol");return yt(e)&&gt(e.prototype,bt(t))},_t=s.String,kt=function(t){try{return _t(t)}catch(t){return"Object"}},xt=w,St=kt,Et=s.TypeError,Ot=function(t){if(xt(t))return t;throw Et(St(t)+" is not a function")},Tt=Ot,It=function(t,e){var n=t[e];return null==n?void 0:Tt(n)},Ct=E,At=w,Dt=G,Pt=s.TypeError,Mt={exports:{}},Ft=s,Nt=Object.defineProperty,Bt=function(t,e){try{Nt(Ft,t,{value:e,configurable:!0,writable:!0})}catch(i){Ft[t]=e}return e},jt="__core-js_shared__",zt=s[jt]||Bt(jt,{}),Lt=zt;(Mt.exports=function(t,e){return Lt[t]||(Lt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Rt=W,Ut=s.Object,Vt=function(t){return Ut(Rt(t))},Ht=Vt,Wt=b({}.hasOwnProperty),qt=Object.hasOwn||function(t,e){return Wt(Ht(t),e)},Yt=b,Xt=0,$t=Math.random(),Gt=Yt(1..toString),Kt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Gt(++Xt+$t,36)},Qt=s,Jt=Mt.exports,Zt=qt,te=Kt,ee=ft,ne=pt,ie=Jt("wks"),re=Qt.Symbol,oe=re&&re.for,se=ne?re:re&&re.withoutSetter||te,ae=function(t){if(!Zt(ie,t)||!ee&&"string"!=typeof ie[t]){var e="Symbol."+t;ee&&Zt(re,t)?ie[t]=re[t]:ie[t]=ne&&oe?oe(e):se(e)}return ie[t]},le=E,ue=G,ce=wt,he=It,de=function(t,e){var n,i;if("string"===e&&At(n=t.toString)&&!Dt(i=Ct(n,t)))return i;if(At(n=t.valueOf)&&!Dt(i=Ct(n,t)))return i;if("string"!==e&&At(n=t.toString)&&!Dt(i=Ct(n,t)))return i;throw Pt("Can't convert object to primitive value")},fe=ae,pe=s.TypeError,ve=fe("toPrimitive"),ye=function(t,e){if(!ue(t)||ce(t))return t;var n,i=he(t,ve);if(i){if(void 0===e&&(e="default"),n=le(i,t,e),!ue(n)||ce(n))return n;throw pe("Can't convert object to primitive value")}return void 0===e&&(e="number"),de(t,e)},ge=wt,me=function(t){var e=ye(t,"string");return ge(e)?e:e+""},be=G,we=s.document,_e=be(we)&&be(we.createElement),ke=function(t){return _e?we.createElement(t):{}},xe=ke,Se=!k&&!a((function(){return 7!=Object.defineProperty(xe("div"),"a",{get:function(){return 7}}).a})),Ee=k,Oe=E,Te=O,Ie=P,Ce=X,Ae=me,De=qt,Pe=Se,Me=Object.getOwnPropertyDescriptor;_.f=Ee?Me:function(t,e){if(t=Ce(t),e=Ae(e),Pe)try{return Me(t,e)}catch(t){}if(De(t,e))return Ie(!Oe(Te.f,t,e),t[e])};var Fe=a,Ne=w,Be=/#|\.prototype\./,je=function(t,e){var n=Le[ze(t)];return n==Ue||n!=Re&&(Ne(e)?Fe(e):!!e)},ze=je.normalize=function(t){return String(t).replace(Be,".").toLowerCase()},Le=je.data={},Re=je.NATIVE="N",Ue=je.POLYFILL="P",Ve=je,He=Ot,We=l,qe=b(b.bind),Ye=function(t,e){return He(t),void 0===e?t:We?qe(t,e):function(){return t.apply(e,arguments)}},Xe={},$e=k&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ge=s,Ke=G,Qe=Ge.String,Je=Ge.TypeError,Ze=function(t){if(Ke(t))return t;throw Je(Qe(t)+" is not an object")},tn=k,en=Se,nn=$e,rn=Ze,on=me,sn=s.TypeError,an=Object.defineProperty,ln=Object.getOwnPropertyDescriptor,un="enumerable",cn="configurable",hn="writable";Xe.f=tn?nn?function(t,e,n){if(rn(t),e=on(e),rn(n),"function"==typeof t&&"prototype"===e&&"value"in n&&hn in n&&!n.writable){var i=ln(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:cn in n?n.configurable:i.configurable,enumerable:un in n?n.enumerable:i.enumerable,writable:!1})}return an(t,e,n)}:an:function(t,e,n){if(rn(t),e=on(e),rn(n),en)try{return an(t,e,n)}catch(t){}if("get"in n||"set"in n)throw sn("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var dn=Xe,fn=P,pn=k?function(t,e,n){return dn.f(t,e,fn(1,n))}:function(t,e,n){return t[e]=n,t},vn=s,yn=f,gn=b,mn=w,bn=_.f,wn=Ve,_n=K,kn=Ye,xn=pn,Sn=qt,En=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return yn(t,this,arguments)};return e.prototype=t.prototype,e},On=function(t,e){var n,i,r,o,s,a,l,u,c=t.target,h=t.global,d=t.stat,f=t.proto,p=h?vn:d?vn[c]:(vn[c]||{}).prototype,v=h?_n:_n[c]||xn(_n,c,{})[c],y=v.prototype;for(r in e)n=!wn(h?r:c+(d?".":"#")+r,t.forced)&&p&&Sn(p,r),s=v[r],n&&(a=t.noTargetGet?(u=bn(p,r))&&u.value:p[r]),o=n&&a?a:e[r],n&&typeof s==typeof o||(l=t.bind&&n?kn(o,vn):t.wrap&&n?En(o):f&&mn(o)?gn(o):o,(t.sham||o&&o.sham||s&&s.sham)&&xn(l,"sham",!0),xn(v,r,l),f&&(Sn(_n,i=c+"Prototype")||xn(_n,i,{}),xn(_n[i],r,o),t.real&&y&&!y[r]&&xn(y,r,o)))},Tn=On,In=k,Cn=Xe.f;Tn({target:"Object",stat:!0,forced:Object.defineProperty!==Cn,sham:!In},{defineProperty:Cn});var An=K.Object,Dn=r.exports=function(t,e,n){return An.defineProperty(t,e,n)};An.defineProperty.sham&&(Dn.sham=!0);var Pn=r.exports,Mn=Pn;function Fn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Mn(t,i.key,i)}}function Nn(t,e,n){return e&&Fn(t.prototype,e),n&&Fn(t,n),Mn(t,"prototype",{writable:!1}),t}function Bn(t,e,n){return e in t?Mn(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jn=b([].slice),zn=b,Ln=Ot,Rn=G,Un=qt,Vn=jn,Hn=l,Wn=s.Function,qn=zn([].concat),Yn=zn([].join),Xn={},$n=function(t,e,n){if(!Un(Xn,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Xn[e]=Wn("C,a","return new C("+Yn(i,",")+")")}return Xn[e](t,n)},Gn=Hn?Wn.bind:function(t){var e=Ln(this),n=e.prototype,i=Vn(arguments,1),r=function(){var n=qn(i,Vn(arguments));return this instanceof r?$n(e,n.length,n):e.apply(t,n)};return Rn(n)&&(r.prototype=n),r},Kn=Gn;On({target:"Function",proto:!0,forced:Function.bind!==Kn},{bind:Kn});var Qn=K,Jn=function(t){return Qn[t+"Prototype"]},Zn=Jn("Function").bind,ti=nt,ei=Zn,ni=Function.prototype,ii=function(t){var e=t.bind;return t===ni||ti(ni,t)&&e===ni.bind?ei:e},ri=Math.ceil,oi=Math.floor,si=function(t){var e=+t;return e!=e||0===e?0:(e>0?oi:ri)(e)},ai=si,li=Math.min,ui=function(t){return t>0?li(ai(t),9007199254740991):0},ci=function(t){return ui(t.length)},hi=Ot,di=Vt,fi=V,pi=ci,vi=s.TypeError,yi=function(t){return function(e,n,i,r){hi(n);var o=di(e),s=fi(o),a=pi(o),l=t?a-1:0,u=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,t?l<0:a<=l)throw vi("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},gi={left:yi(!1),right:yi(!0)},mi=a,bi=function(t,e){var n=[][t];return!!n&&mi((function(){n.call(null,e||function(){return 1},1)}))},wi="process"==B(s.process),_i=gi.left,ki=ct,xi=wi;On({target:"Array",proto:!0,forced:!bi("reduce")||!xi&&ki>79&&ki<83},{reduce:function(t){var e=arguments.length;return _i(this,t,e,e>1?arguments[1]:void 0)}});var Si=Jn("Array").reduce,Ei=nt,Oi=Si,Ti=Array.prototype,Ii=function(t){var e=t.reduce;return t===Ti||Ei(Ti,t)&&e===Ti.reduce?Oi:e},Ci=B,Ai=Array.isArray||function(t){return"Array"==Ci(t)},Di={};Di[ae("toStringTag")]="z";var Pi="[object z]"===String(Di),Mi=s,Fi=Pi,Ni=w,Bi=B,ji=ae("toStringTag"),zi=Mi.Object,Li="Arguments"==Bi(function(){return arguments}()),Ri=Fi?Bi:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=zi(t),ji))?n:Li?Bi(e):"Object"==(i=Bi(e))&&Ni(e.callee)?"Arguments":i},Ui=w,Vi=zt,Hi=b(Function.toString);Ui(Vi.inspectSource)||(Vi.inspectSource=function(t){return Hi(t)});var Wi=Vi.inspectSource,qi=b,Yi=a,Xi=w,$i=Ri,Gi=Wi,Ki=function(){},Qi=[],Ji=et("Reflect","construct"),Zi=/^\s*(?:class|function)\b/,tr=qi(Zi.exec),er=!Zi.exec(Ki),nr=function(t){if(!Xi(t))return!1;try{return Ji(Ki,Qi,t),!0}catch(t){return!1}},ir=function(t){if(!Xi(t))return!1;switch($i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return er||!!tr(Zi,Gi(t))}catch(t){return!0}};ir.sham=!0;var rr=!Ji||Yi((function(){var t;return nr(nr.call)||!nr(Object)||!nr((function(){t=!0}))||t}))?ir:nr,or=s,sr=Ai,ar=rr,lr=G,ur=ae("species"),cr=or.Array,hr=function(t){var e;return sr(t)&&(e=t.constructor,(ar(e)&&(e===cr||sr(e.prototype))||lr(e)&&null===(e=e[ur]))&&(e=void 0)),void 0===e?cr:e},dr=function(t,e){return new(hr(t))(0===e?0:e)},fr=Ye,pr=V,vr=Vt,yr=ci,gr=dr,mr=b([].push),br=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,s=7==t,a=5==t||o;return function(l,u,c,h){for(var d,f,p=vr(l),v=pr(p),y=fr(u,c),g=yr(v),m=0,b=h||gr,w=e?b(l,g):n||s?b(l,0):void 0;g>m;m++)if((a||m in v)&&(f=y(d=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:mr(w,d)}else switch(t){case 4:return!1;case 7:mr(w,d)}return o?-1:i||r?r:w}},wr={forEach:br(0),map:br(1),filter:br(2),some:br(3),every:br(4),find:br(5),findIndex:br(6),filterReject:br(7)},_r=a,kr=ct,xr=ae("species"),Sr=function(t){return kr>=51||!_r((function(){var e=[];return(e.constructor={})[xr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Er=wr.filter;On({target:"Array",proto:!0,forced:!Sr("filter")},{filter:function(t){return Er(this,t,arguments.length>1?arguments[1]:void 0)}});var Or=Jn("Array").filter,Tr=nt,Ir=Or,Cr=Array.prototype,Ar=function(t){var e=t.filter;return t===Cr||Tr(Cr,t)&&e===Cr.filter?Ir:e},Dr=wr.map;On({target:"Array",proto:!0,forced:!Sr("map")},{map:function(t){return Dr(this,t,arguments.length>1?arguments[1]:void 0)}});var Pr=Jn("Array").map,Mr=nt,Fr=Pr,Nr=Array.prototype,Br=function(t){var e=t.map;return t===Nr||Mr(Nr,t)&&e===Nr.map?Fr:e},jr=Ai,zr=ci,Lr=Ye,Rr=s.TypeError,Ur=function(t,e,n,i,r,o,s,a){for(var l,u,c=r,h=0,d=!!s&&Lr(s,a);h<i;){if(h in n){if(l=d?d(n[h],h,e):n[h],o>0&&jr(l))u=zr(l),c=Ur(t,e,l,u,c,o-1)-1;else{if(c>=9007199254740991)throw Rr("Exceed the acceptable array length");t[c]=l}c++}h++}return c},Vr=Ur,Hr=Ot,Wr=Vt,qr=ci,Yr=dr;On({target:"Array",proto:!0},{flatMap:function(t){var e,n=Wr(this),i=qr(n);return Hr(t),(e=Yr(n,0)).length=Vr(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Xr,$r,Gr,Kr=Jn("Array").flatMap,Qr=nt,Jr=Kr,Zr=Array.prototype,to=function(t){var e=t.flatMap;return t===Zr||Qr(Zr,t)&&e===Zr.flatMap?Jr:e},eo=function(){function t(n,i,r){var o,s,a;e(this,t),Bn(this,"_source",void 0),Bn(this,"_transformers",void 0),Bn(this,"_target",void 0),Bn(this,"_listeners",{add:ii(o=this._add).call(o,this),remove:ii(s=this._remove).call(s,this),update:ii(a=this._update).call(a,this)}),this._source=n,this._transformers=i,this._target=r}return Nn(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var e;return Ii(e=this._transformers).call(e,(function(t,e){return e(t)}),t)}},{key:"_add",value:function(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}},{key:"_update",value:function(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}},{key:"_remove",value:function(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}]),t}(),no=function(){function t(n){e(this,t),Bn(this,"_source",void 0),Bn(this,"_transformers",[]),this._source=n}return Nn(t,[{key:"filter",value:function(t){return this._transformers.push((function(e){return Ar(e).call(e,t)})),this}},{key:"map",value:function(t){return this._transformers.push((function(e){return Br(e).call(e,t)})),this}},{key:"flatMap",value:function(t){return this._transformers.push((function(e){return to(e).call(e,t)})),this}},{key:"to",value:function(t){return new eo(this._source,this._transformers,t)}}]),t}(),io=Ri,ro=s.String,oo=function(t){if("Symbol"===io(t))throw TypeError("Cannot convert a Symbol value to a string");return ro(t)},so=b,ao=si,lo=oo,uo=W,co=so("".charAt),ho=so("".charCodeAt),fo=so("".slice),po=function(t){return function(e,n){var i,r,o=lo(uo(e)),s=ao(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=ho(o,s))<55296||i>56319||s+1===a||(r=ho(o,s+1))<56320||r>57343?t?co(o,s):i:t?fo(o,s,s+2):r-56320+(i-55296<<10)+65536}},vo={codeAt:po(!1),charAt:po(!0)},yo=w,go=Wi,mo=s.WeakMap,bo=yo(mo)&&/native code/.test(go(mo)),wo=Mt.exports,_o=Kt,ko=wo("keys"),xo=function(t){return ko[t]||(ko[t]=_o(t))},So={},Eo=bo,Oo=s,To=b,Io=G,Co=pn,Ao=qt,Do=zt,Po=xo,Mo=So,Fo="Object already initialized",No=Oo.TypeError,Bo=Oo.WeakMap;if(Eo||Do.state){var jo=Do.state||(Do.state=new Bo),zo=To(jo.get),Lo=To(jo.has),Ro=To(jo.set);Xr=function(t,e){if(Lo(jo,t))throw new No(Fo);return e.facade=t,Ro(jo,t,e),e},$r=function(t){return zo(jo,t)||{}},Gr=function(t){return Lo(jo,t)}}else{var Uo=Po("state");Mo[Uo]=!0,Xr=function(t,e){if(Ao(t,Uo))throw new No(Fo);return e.facade=t,Co(t,Uo,e),e},$r=function(t){return Ao(t,Uo)?t[Uo]:{}},Gr=function(t){return Ao(t,Uo)}}var Vo={set:Xr,get:$r,has:Gr,enforce:function(t){return Gr(t)?$r(t):Xr(t,{})},getterFor:function(t){return function(e){var n;if(!Io(e)||(n=$r(e)).type!==t)throw No("Incompatible receiver, "+t+" required");return n}}},Ho=k,Wo=qt,qo=Function.prototype,Yo=Ho&&Object.getOwnPropertyDescriptor,Xo=Wo(qo,"name"),$o={EXISTS:Xo,PROPER:Xo&&"something"===function(){}.name,CONFIGURABLE:Xo&&(!Ho||Ho&&Yo(qo,"name").configurable)},Go={},Ko=si,Qo=Math.max,Jo=Math.min,Zo=function(t,e){var n=Ko(t);return n<0?Qo(n+e,0):Jo(n,e)},ts=X,es=Zo,ns=ci,is=function(t){return function(e,n,i){var r,o=ts(e),s=ns(o),a=es(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},rs={includes:is(!0),indexOf:is(!1)},os=qt,ss=X,as=rs.indexOf,ls=So,us=b([].push),cs=function(t,e){var n,i=ss(t),r=0,o=[];for(n in i)!os(ls,n)&&os(i,n)&&us(o,n);for(;e.length>r;)os(i,n=e[r++])&&(~as(o,n)||us(o,n));return o},hs=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ds=cs,fs=hs,ps=Object.keys||function(t){return ds(t,fs)},vs=k,ys=$e,gs=Xe,ms=Ze,bs=X,ws=ps;Go.f=vs&&!ys?Object.defineProperties:function(t,e){ms(t);for(var n,i=bs(e),r=ws(e),o=r.length,s=0;o>s;)gs.f(t,n=r[s++],i[n]);return t};var _s,ks=et("document","documentElement"),xs=Ze,Ss=Go,Es=hs,Os=So,Ts=ks,Is=ke,Cs=xo("IE_PROTO"),As=function(){},Ds=function(t){return"<script>"+t+"<\/script>"},Ps=function(t){t.write(Ds("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ms=function(){try{_s=new ActiveXObject("htmlfile")}catch(t){}var t,e;Ms="undefined"!=typeof document?document.domain&&_s?Ps(_s):((e=Is("iframe")).style.display="none",Ts.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ds("document.F=Object")),t.close(),t.F):Ps(_s);for(var n=Es.length;n--;)delete Ms.prototype[Es[n]];return Ms()};Os[Cs]=!0;var Fs,Ns,Bs,js=Object.create||function(t,e){var n;return null!==t?(As.prototype=xs(t),n=new As,As.prototype=null,n[Cs]=t):n=Ms(),void 0===e?n:Ss.f(n,e)},zs=!a((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ls=s,Rs=qt,Us=w,Vs=Vt,Hs=zs,Ws=xo("IE_PROTO"),qs=Ls.Object,Ys=qs.prototype,Xs=Hs?qs.getPrototypeOf:function(t){var e=Vs(t);if(Rs(e,Ws))return e[Ws];var n=e.constructor;return Us(n)&&e instanceof n?n.prototype:e instanceof qs?Ys:null},$s=pn,Gs=function(t,e,n,i){i&&i.enumerable?t[e]=n:$s(t,e,n)},Ks=a,Qs=w,Js=js,Zs=Xs,ta=Gs,ea=ae("iterator"),na=!1;[].keys&&("next"in(Bs=[].keys())?(Ns=Zs(Zs(Bs)))!==Object.prototype&&(Fs=Ns):na=!0);var ia=null==Fs||Ks((function(){var t={};return Fs[ea].call(t)!==t}));Qs((Fs=ia?{}:Js(Fs))[ea])||ta(Fs,ea,(function(){return this}));var ra={IteratorPrototype:Fs,BUGGY_SAFARI_ITERATORS:na},oa=Ri,sa=Pi?{}.toString:function(){return"[object "+oa(this)+"]"},aa=Pi,la=Xe.f,ua=pn,ca=qt,ha=sa,da=ae("toStringTag"),fa=function(t,e,n,i){if(t){var r=n?t:t.prototype;ca(r,da)||la(r,da,{configurable:!0,value:e}),i&&!aa&&ua(r,"toString",ha)}},pa={},va=ra.IteratorPrototype,ya=js,ga=P,ma=fa,ba=pa,wa=function(){return this},_a=s,ka=w,xa=_a.String,Sa=_a.TypeError,Ea=b,Oa=Ze,Ta=function(t){if("object"==typeof t||ka(t))return t;throw Sa("Can't set "+xa(t)+" as a prototype")},Ia=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Ea(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return Oa(n),Ta(i),e?t(n,i):n.__proto__=i,n}}():void 0),Ca=On,Aa=E,Da=function(t,e,n,i){var r=e+" Iterator";return t.prototype=ya(va,{next:ga(+!i,n)}),ma(t,r,!1,!0),ba[r]=wa,t},Pa=Xs,Ma=fa,Fa=Gs,Na=pa,Ba=$o.PROPER,ja=ra.BUGGY_SAFARI_ITERATORS,za=ae("iterator"),La="keys",Ra="values",Ua="entries",Va=function(){return this},Ha=function(t,e,n,i,r,o,s){Da(n,e,i);var a,l,u,c=function(t){if(t===r&&v)return v;if(!ja&&t in f)return f[t];switch(t){case La:case Ra:case Ua:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[za]||f["@@iterator"]||r&&f[r],v=!ja&&p||c(r),y="Array"==e&&f.entries||p;if(y&&(a=Pa(y.call(new t)))!==Object.prototype&&a.next&&(Ma(a,h,!0,!0),Na[h]=Va),Ba&&r==Ra&&p&&p.name!==Ra&&(d=!0,v=function(){return Aa(p,this)}),r)if(l={values:c(Ra),keys:o?v:c(La),entries:c(Ua)},s)for(u in l)(ja||d||!(u in f))&&Fa(f,u,l[u]);else Ca({target:e,proto:!0,forced:ja||d},l);return s&&f[za]!==v&&Fa(f,za,v,{name:r}),Na[e]=v,l},Wa=vo.charAt,qa=oo,Ya=Vo,Xa=Ha,$a="String Iterator",Ga=Ya.set,Ka=Ya.getterFor($a);Xa(String,"String",(function(t){Ga(this,{type:$a,string:qa(t),index:0})}),(function(){var t,e=Ka(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=Wa(n,i),e.index+=t.length,{value:t,done:!1})}));var Qa=E,Ja=Ze,Za=It,tl=function(t,e,n){var i,r;Ja(t);try{if(!(i=Za(t,"return"))){if("throw"===e)throw n;return n}i=Qa(i,t)}catch(t){r=!0,i=t}if("throw"===e)throw n;if(r)throw i;return Ja(i),n},el=Ze,nl=tl,il=pa,rl=ae("iterator"),ol=Array.prototype,sl=function(t){return void 0!==t&&(il.Array===t||ol[rl]===t)},al=me,ll=Xe,ul=P,cl=function(t,e,n){var i=al(e);i in t?ll.f(t,i,ul(0,n)):t[i]=n},hl=Ri,dl=It,fl=pa,pl=ae("iterator"),vl=function(t){if(null!=t)return dl(t,pl)||dl(t,"@@iterator")||fl[hl(t)]},yl=E,gl=Ot,ml=Ze,bl=kt,wl=vl,_l=s.TypeError,kl=function(t,e){var n=arguments.length<2?wl(t):e;if(gl(n))return ml(yl(n,t));throw _l(bl(t)+" is not iterable")},xl=Ye,Sl=E,El=Vt,Ol=function(t,e,n,i){try{return i?e(el(n)[0],n[1]):e(n)}catch(e){nl(t,"throw",e)}},Tl=sl,Il=rr,Cl=ci,Al=cl,Dl=kl,Pl=vl,Ml=s.Array,Fl=ae("iterator"),Nl=!1;try{var Bl=0,jl={next:function(){return{done:!!Bl++}},return:function(){Nl=!0}};jl[Fl]=function(){return this},Array.from(jl,(function(){throw 2}))}catch(t){}var zl=function(t){var e=El(t),n=Il(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=xl(r,i>2?arguments[2]:void 0));var s,a,l,u,c,h,d=Pl(e),f=0;if(!d||this==Ml&&Tl(d))for(s=Cl(e),a=n?new this(s):Ml(s);s>f;f++)h=o?r(e[f],f):e[f],Al(a,f,h);else for(c=(u=Dl(e,d)).next,a=n?new this:[];!(l=Sl(c,u)).done;f++)h=o?Ol(u,r,[l.value,f],!0):l.value,Al(a,f,h);return a.length=f,a},Ll=function(t,e){if(!e&&!Nl)return!1;var n=!1;try{var i={};i[Fl]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n};On({target:"Array",stat:!0,forced:!Ll((function(t){Array.from(t)}))},{from:zl});var Rl=K.Array.from,Ul=Rl,Vl=X,Hl=pa,Wl=Vo;Xe.f;var ql=Ha,Yl="Array Iterator",Xl=Wl.set,$l=Wl.getterFor(Yl);ql(Array,"Array",(function(t,e){Xl(this,{type:Yl,target:Vl(t),index:0,kind:e})}),(function(){var t=$l(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),Hl.Arguments=Hl.Array;var Gl=vl,Kl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ql=s,Jl=Ri,Zl=pn,tu=pa,eu=ae("toStringTag");for(var nu in Kl){var iu=Ql[nu],ru=iu&&iu.prototype;ru&&Jl(ru)!==eu&&Zl(ru,eu,nu),tu[nu]=tu.Array}var ou=Gl,su={},au=cs,lu=hs.concat("length","prototype");su.f=Object.getOwnPropertyNames||function(t){return au(t,lu)};var uu={},cu=Zo,hu=ci,du=cl,fu=s.Array,pu=Math.max,vu=function(t,e,n){for(var i=hu(t),r=cu(e,i),o=cu(void 0===n?i:n,i),s=fu(pu(o-r,0)),a=0;r<o;r++,a++)du(s,a,t[r]);return s.length=a,s},yu=B,gu=X,mu=su.f,bu=vu,wu="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];uu.f=function(t){return wu&&"Window"==yu(t)?function(t){try{return mu(t)}catch(t){return bu(wu)}}(t):mu(gu(t))};var _u={};_u.f=Object.getOwnPropertySymbols;var ku={},xu=ae;ku.f=xu;var Su=K,Eu=qt,Ou=ku,Tu=Xe.f,Iu=function(t){var e=Su.Symbol||(Su.Symbol={});Eu(e,t)||Tu(e,t,{value:Ou.f(t)})},Cu=On,Au=s,Du=et,Pu=f,Mu=E,Fu=b,Nu=k,Bu=ft,ju=a,zu=qt,Lu=Ai,Ru=w,Uu=G,Vu=nt,Hu=wt,Wu=Ze,qu=Vt,Yu=X,Xu=me,$u=oo,Gu=P,Ku=js,Qu=ps,Ju=su,Zu=uu,tc=_u,ec=_,nc=Xe,ic=Go,rc=O,oc=jn,sc=Gs,ac=Mt.exports,lc=So,uc=Kt,cc=ae,hc=ku,dc=Iu,fc=fa,pc=Vo,vc=wr.forEach,yc=xo("hidden"),gc="Symbol",mc=cc("toPrimitive"),bc=pc.set,wc=pc.getterFor(gc),_c=Object.prototype,kc=Au.Symbol,xc=kc&&kc.prototype,Sc=Au.TypeError,Ec=Au.QObject,Oc=Du("JSON","stringify"),Tc=ec.f,Ic=nc.f,Cc=Zu.f,Ac=rc.f,Dc=Fu([].push),Pc=ac("symbols"),Mc=ac("op-symbols"),Fc=ac("string-to-symbol-registry"),Nc=ac("symbol-to-string-registry"),Bc=ac("wks"),jc=!Ec||!Ec.prototype||!Ec.prototype.findChild,zc=Nu&&ju((function(){return 7!=Ku(Ic({},"a",{get:function(){return Ic(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=Tc(_c,e);i&&delete _c[e],Ic(t,e,n),i&&t!==_c&&Ic(_c,e,i)}:Ic,Lc=function(t,e){var n=Pc[t]=Ku(xc);return bc(n,{type:gc,tag:t,description:e}),Nu||(n.description=e),n},Rc=function(t,e,n){t===_c&&Rc(Mc,e,n),Wu(t);var i=Xu(e);return Wu(n),zu(Pc,i)?(n.enumerable?(zu(t,yc)&&t[yc][i]&&(t[yc][i]=!1),n=Ku(n,{enumerable:Gu(0,!1)})):(zu(t,yc)||Ic(t,yc,Gu(1,{})),t[yc][i]=!0),zc(t,i,n)):Ic(t,i,n)},Uc=function(t,e){Wu(t);var n=Yu(e),i=Qu(n).concat(qc(n));return vc(i,(function(e){Nu&&!Mu(Vc,n,e)||Rc(t,e,n[e])})),t},Vc=function(t){var e=Xu(t),n=Mu(Ac,this,e);return!(this===_c&&zu(Pc,e)&&!zu(Mc,e))&&(!(n||!zu(this,e)||!zu(Pc,e)||zu(this,yc)&&this[yc][e])||n)},Hc=function(t,e){var n=Yu(t),i=Xu(e);if(n!==_c||!zu(Pc,i)||zu(Mc,i)){var r=Tc(n,i);return!r||!zu(Pc,i)||zu(n,yc)&&n[yc][i]||(r.enumerable=!0),r}},Wc=function(t){var e=Cc(Yu(t)),n=[];return vc(e,(function(t){zu(Pc,t)||zu(lc,t)||Dc(n,t)})),n},qc=function(t){var e=t===_c,n=Cc(e?Mc:Yu(t)),i=[];return vc(n,(function(t){!zu(Pc,t)||e&&!zu(_c,t)||Dc(i,Pc[t])})),i};if(Bu||(kc=function(){if(Vu(xc,this))throw Sc("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?$u(arguments[0]):void 0,e=uc(t),n=function(t){this===_c&&Mu(n,Mc,t),zu(this,yc)&&zu(this[yc],e)&&(this[yc][e]=!1),zc(this,e,Gu(1,t))};return Nu&&jc&&zc(_c,e,{configurable:!0,set:n}),Lc(e,t)},sc(xc=kc.prototype,"toString",(function(){return wc(this).tag})),sc(kc,"withoutSetter",(function(t){return Lc(uc(t),t)})),rc.f=Vc,nc.f=Rc,ic.f=Uc,ec.f=Hc,Ju.f=Zu.f=Wc,tc.f=qc,hc.f=function(t){return Lc(cc(t),t)},Nu&&Ic(xc,"description",{configurable:!0,get:function(){return wc(this).description}})),Cu({global:!0,wrap:!0,forced:!Bu,sham:!Bu},{Symbol:kc}),vc(Qu(Bc),(function(t){dc(t)})),Cu({target:gc,stat:!0,forced:!Bu},{for:function(t){var e=$u(t);if(zu(Fc,e))return Fc[e];var n=kc(e);return Fc[e]=n,Nc[n]=e,n},keyFor:function(t){if(!Hu(t))throw Sc(t+" is not a symbol");if(zu(Nc,t))return Nc[t]},useSetter:function(){jc=!0},useSimple:function(){jc=!1}}),Cu({target:"Object",stat:!0,forced:!Bu,sham:!Nu},{create:function(t,e){return void 0===e?Ku(t):Uc(Ku(t),e)},defineProperty:Rc,defineProperties:Uc,getOwnPropertyDescriptor:Hc}),Cu({target:"Object",stat:!0,forced:!Bu},{getOwnPropertyNames:Wc,getOwnPropertySymbols:qc}),Cu({target:"Object",stat:!0,forced:ju((function(){tc.f(1)}))},{getOwnPropertySymbols:function(t){return tc.f(qu(t))}}),Oc){var Yc=!Bu||ju((function(){var t=kc();return"[null]"!=Oc([t])||"{}"!=Oc({a:t})||"{}"!=Oc(Object(t))}));Cu({target:"JSON",stat:!0,forced:Yc},{stringify:function(t,e,n){var i=oc(arguments),r=e;if((Uu(e)||void 0!==t)&&!Hu(t))return Lu(e)||(e=function(t,e){if(Ru(r)&&(e=Mu(r,this,t,e)),!Hu(e))return e}),i[1]=e,Pu(Oc,null,i)}})}if(!xc[mc]){var Xc=xc.valueOf;sc(xc,mc,(function(t){return Mu(Xc,this)}))}fc(kc,gc),lc[yc]=!0;var $c=K.Object.getOwnPropertySymbols,Gc={exports:{}},Kc=On,Qc=a,Jc=X,Zc=_.f,th=k,eh=Qc((function(){Zc(1)}));Kc({target:"Object",stat:!0,forced:!th||eh,sham:!th},{getOwnPropertyDescriptor:function(t,e){return Zc(Jc(t),e)}});var nh=K.Object,ih=Gc.exports=function(t,e){return nh.getOwnPropertyDescriptor(t,e)};nh.getOwnPropertyDescriptor.sham&&(ih.sham=!0);var rh=Gc.exports,oh=et,sh=su,ah=_u,lh=Ze,uh=b([].concat),ch=oh("Reflect","ownKeys")||function(t){var e=sh.f(lh(t)),n=ah.f;return n?uh(e,n(t)):e},hh=ch,dh=X,fh=_,ph=cl;On({target:"Object",stat:!0,sham:!k},{getOwnPropertyDescriptors:function(t){for(var e,n,i=dh(t),r=fh.f,o=hh(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&ph(s,e,n);return s}});var vh=K.Object.getOwnPropertyDescriptors,yh={exports:{}},gh=On,mh=k,bh=Go.f;gh({target:"Object",stat:!0,forced:Object.defineProperties!==bh,sham:!mh},{defineProperties:bh});var wh=K.Object,_h=yh.exports=function(t,e){return wh.defineProperties(t,e)};wh.defineProperties.sham&&(_h.sham=!0);var kh=yh.exports,xh=Pn;On({target:"Array",stat:!0},{isArray:Ai});var Sh=K.Array.isArray,Eh=Sh,Oh=On,Th=s,Ih=a,Ch=Ai,Ah=G,Dh=Vt,Ph=ci,Mh=cl,Fh=dr,Nh=Sr,Bh=ct,jh=ae("isConcatSpreadable"),zh=9007199254740991,Lh="Maximum allowed index exceeded",Rh=Th.TypeError,Uh=Bh>=51||!Ih((function(){var t=[];return t[jh]=!1,t.concat()[0]!==t})),Vh=Nh("concat"),Hh=function(t){if(!Ah(t))return!1;var e=t[jh];return void 0!==e?!!e:Ch(t)};Oh({target:"Array",proto:!0,forced:!Uh||!Vh},{concat:function(t){var e,n,i,r,o,s=Dh(this),a=Fh(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(Hh(o=-1===e?s:arguments[e])){if(l+(r=Ph(o))>zh)throw Rh(Lh);for(n=0;n<r;n++,l++)n in o&&Mh(a,l,o[n])}else{if(l>=zh)throw Rh(Lh);Mh(a,l++,o)}return a.length=l,a}}),Iu("asyncIterator"),Iu("hasInstance"),Iu("isConcatSpreadable"),Iu("iterator"),Iu("match"),Iu("matchAll"),Iu("replace"),Iu("search"),Iu("species"),Iu("split"),Iu("toPrimitive"),Iu("toStringTag"),Iu("unscopables"),fa(s.JSON,"JSON",!0);var Wh=K.Symbol,qh=Wh;Iu("asyncDispose"),Iu("dispose"),Iu("matcher"),Iu("metadata"),Iu("observable"),Iu("patternMatch"),Iu("replaceAll");var Yh=qh,Xh=On,$h=s,Gh=Ai,Kh=rr,Qh=G,Jh=Zo,Zh=ci,td=X,ed=cl,nd=ae,id=jn,rd=Sr("slice"),od=nd("species"),sd=$h.Array,ad=Math.max;Xh({target:"Array",proto:!0,forced:!rd},{slice:function(t,e){var n,i,r,o=td(this),s=Zh(o),a=Jh(t,s),l=Jh(void 0===e?s:e,s);if(Gh(o)&&(n=o.constructor,(Kh(n)&&(n===sd||Gh(n.prototype))||Qh(n)&&null===(n=n[od]))&&(n=void 0),n===sd||void 0===n))return id(o,a,l);for(i=new(void 0===n?sd:n)(ad(l-a,0)),r=0;a<l;a++,r++)a in o&&ed(i,r,o[a]);return i.length=r,i}});var ld=Jn("Array").slice,ud=nt,cd=ld,hd=Array.prototype,dd=function(t){var e=t.slice;return t===hd||ud(hd,t)&&e===hd.slice?cd:e},fd=dd,pd=Rl;function vd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function yd(t,e){var n;if(t){if("string"==typeof t)return vd(t,e);var i=fd(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?pd(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?vd(t,e):void 0}}function gd(t,e){return function(t){if(Eh(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==Yh&&ou(t)||t["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(t){a=!0,r=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,e)||yd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var md=ku.f("iterator"),bd=md;function wd(t){return wd="function"==typeof Yh&&"symbol"==typeof bd?function(t){return typeof t}:function(t){return t&&"function"==typeof Yh&&t.constructor===Yh&&t!==Yh.prototype?"symbol":typeof t},wd(t)}function _d(t){return function(t){if(Eh(t))return vd(t)}(t)||function(t){if(void 0!==Yh&&null!=ou(t)||null!=t["@@iterator"])return pd(t)}(t)||yd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kd=Wh,xd=Jn("Array").concat,Sd=nt,Ed=xd,Od=Array.prototype,Td=function(t){var e=t.concat;return t===Od||Sd(Od,t)&&e===Od.concat?Ed:e},Id=dd;On({target:"Reflect",stat:!0},{ownKeys:ch});var Cd=K.Reflect.ownKeys,Ad=Sh,Dd=Vt,Pd=ps;On({target:"Object",stat:!0,forced:a((function(){Pd(1)}))},{keys:function(t){return Pd(Dd(t))}});var Md=K.Object.keys,Fd=On,Nd=b,Bd=s.Date,jd=Nd(Bd.prototype.getTime);Fd({target:"Date",stat:!0},{now:function(){return jd(new Bd)}}),K.Date.now;var zd=wr.forEach,Ld=bi("forEach")?[].forEach:function(t){return zd(this,t,arguments.length>1?arguments[1]:void 0)};On({target:"Array",proto:!0,forced:[].forEach!=Ld},{forEach:Ld});var Rd=Jn("Array").forEach,Ud=Ri,Vd=qt,Hd=nt,Wd=Rd,qd=Array.prototype,Yd={DOMTokenList:!0,NodeList:!0},Xd=function(t){var e=t.forEach;return t===qd||Hd(qd,t)&&e===qd.forEach||Vd(Yd,Ud(t))?Wd:e},$d=On,Gd=Ai,Kd=b([].reverse),Qd=[1,2];$d({target:"Array",proto:!0,forced:String(Qd)===String(Qd.reverse())},{reverse:function(){return Gd(this)&&(this.length=this.length),Kd(this)}});var Jd=Jn("Array").reverse,Zd=nt,tf=Jd,ef=Array.prototype,nf=function(t){var e=t.reverse;return t===ef||Zd(ef,t)&&e===ef.reverse?tf:e},rf=On,of=s,sf=Zo,af=si,lf=ci,uf=Vt,cf=dr,hf=cl,df=Sr("splice"),ff=of.TypeError,pf=Math.max,vf=Math.min,yf=9007199254740991,gf="Maximum allowed length exceeded";rf({target:"Array",proto:!0,forced:!df},{splice:function(t,e){var n,i,r,o,s,a,l=uf(this),u=lf(l),c=sf(t,u),h=arguments.length;if(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=vf(pf(af(e),0),u-c)),u+n-i>yf)throw ff(gf);for(r=cf(l,i),o=0;o<i;o++)(s=c+o)in l&&hf(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var mf=Jn("Array").splice,bf=nt,wf=mf,_f=Array.prototype,kf=function(t){var e=t.splice;return t===_f||bf(_f,t)&&e===_f.splice?wf:e},xf=k,Sf=b,Ef=E,Of=a,Tf=ps,If=_u,Cf=O,Af=Vt,Df=V,Pf=Object.assign,Mf=Object.defineProperty,Ff=Sf([].concat),Nf=!Pf||Of((function(){if(xf&&1!==Pf({b:1},Pf(Mf({},"a",{enumerable:!0,get:function(){Mf(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=Pf({},t)[n]||Tf(Pf({},e)).join("")!=i}))?function(t,e){for(var n=Af(t),i=arguments.length,r=1,o=If.f,s=Cf.f;i>r;)for(var a,l=Df(arguments[r++]),u=o?Ff(Tf(l),o(l)):Tf(l),c=u.length,h=0;c>h;)a=u[h++],xf&&!Ef(s,l,a)||(n[a]=l[a]);return n}:Pf,Bf=Nf;On({target:"Object",stat:!0,forced:Object.assign!==Bf},{assign:Bf});var jf=K.Object.assign,zf=rs.includes;On({target:"Array",proto:!0},{includes:function(t){return zf(this,t,arguments.length>1?arguments[1]:void 0)}}),Jn("Array").includes;var Lf=G,Rf=B,Uf=ae("match"),Vf=function(t){var e;return Lf(t)&&(void 0!==(e=t[Uf])?!!e:"RegExp"==Rf(t))},Hf=s.TypeError,Wf=ae("match"),qf=On,Yf=function(t){if(Vf(t))throw Hf("The method doesn't accept regular expressions");return t},Xf=W,$f=oo,Gf=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[Wf]=!1,"/./"[t](e)}catch(t){}}return!1},Kf=b("".indexOf);qf({target:"String",proto:!0,forced:!Gf("includes")},{includes:function(t){return!!~Kf($f(Xf(this)),$f(Yf(t)),arguments.length>1?arguments[1]:void 0)}}),Jn("String").includes;var Qf=Vt,Jf=Xs,Zf=zs;On({target:"Object",stat:!0,forced:a((function(){Jf(1)})),sham:!Zf},{getPrototypeOf:function(t){return Jf(Qf(t))}});var tp=K.Object.getPrototypeOf,ep=k,np=b,ip=ps,rp=X,op=np(O.f),sp=np([].push),ap=function(t){return function(e){for(var n,i=rp(e),r=ip(i),o=r.length,s=0,a=[];o>s;)n=r[s++],ep&&!op(i,n)||sp(a,t?[n,i[n]]:i[n]);return a}},lp=(ap(!0),ap(!1));On({target:"Object",stat:!0},{values:function(t){return lp(t)}}),K.Object.values;var up="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",cp=W,hp=oo,dp=b("".replace),fp="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",pp=RegExp("^"+fp+fp+"*"),vp=RegExp(fp+fp+"*$"),yp=function(t){return function(e){var n=hp(cp(e));return 1&t&&(n=dp(n,pp,"")),2&t&&(n=dp(n,vp,"")),n}},gp={start:yp(1),end:yp(2),trim:yp(3)},mp=s,bp=a,wp=b,_p=oo,kp=gp.trim,xp=up,Sp=mp.parseInt,Ep=mp.Symbol,Op=Ep&&Ep.iterator,Tp=/^[+-]?0x/i,Ip=wp(Tp.exec),Cp=8!==Sp(xp+"08")||22!==Sp(xp+"0x16")||Op&&!bp((function(){Sp(Object(Op))}))?function(t,e){var n=kp(_p(t));return Sp(n,e>>>0||(Ip(Tp,n)?16:10))}:Sp;On({global:!0,forced:parseInt!=Cp},{parseInt:Cp});var Ap=On,Dp=rs.indexOf,Pp=bi,Mp=b([].indexOf),Fp=!!Mp&&1/Mp([1],1,-0)<0,Np=Pp("indexOf");Ap({target:"Array",proto:!0,forced:Fp||!Np},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Fp?Mp(this,t,e)||0:Dp(this,t,e)}}),Jn("Array").indexOf;var Bp=$o.PROPER,jp=a,zp=up,Lp=gp.trim;On({target:"String",proto:!0,forced:function(t){return jp((function(){return!!zp[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||Bp&&zp[t].name!==t}))}("trim")},{trim:function(){return Lp(this)}}),Jn("String").trim,On({target:"Object",stat:!0,sham:!k},{create:js});var Rp=K.Object,Up=function(t,e){return Rp.create(t,e)},Vp=Up,Hp=On,Wp=et,qp=f,Yp=b,Xp=a,$p=s.Array,Gp=Wp("JSON","stringify"),Kp=Yp(/./.exec),Qp=Yp("".charAt),Jp=Yp("".charCodeAt),Zp=Yp("".replace),tv=Yp(1..toString),ev=/[\uD800-\uDFFF]/g,nv=/^[\uD800-\uDBFF]$/,iv=/^[\uDC00-\uDFFF]$/,rv=function(t,e,n){var i=Qp(n,e-1),r=Qp(n,e+1);return Kp(nv,t)&&!Kp(iv,r)||Kp(iv,t)&&!Kp(nv,i)?"\\u"+tv(Jp(t,0),16):t},ov=Xp((function(){return'"\\udf06\\ud834"'!==Gp("\udf06\ud834")||'"\\udead"'!==Gp("\udead")}));Gp&&Hp({target:"JSON",stat:!0,forced:ov},{stringify:function(t,e,n){for(var i=0,r=arguments.length,o=$p(r);i<r;i++)o[i]=arguments[i];var s=qp(Gp,null,o);return"string"==typeof s?Zp(s,ev,rv):s}});var sv=K,av=f;sv.JSON||(sv.JSON={stringify:JSON.stringify});var lv=function(t,e,n){return av(sv.JSON.stringify,null,arguments)},uv=lv,cv=s.TypeError,hv=On,dv=s,fv=f,pv=w,vv=jn,yv=function(t,e){if(t<e)throw cv("Not enough arguments");return t},gv=/MSIE .\./.test(it),mv=dv.Function,bv=function(t){return function(e,n){var i=yv(arguments.length,1)>2,r=pv(e)?e:mv(e),o=i?vv(arguments,2):void 0;return t(i?function(){fv(r,this,o)}:r,n)}};hv({global:!0,bind:!0,forced:gv},{setTimeout:bv(dv.setTimeout),setInterval:bv(dv.setInterval)});var wv=K.setTimeout,_v=Vt,kv=Zo,xv=ci,Sv=function(t){for(var e=_v(this),n=xv(e),i=arguments.length,r=kv(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:kv(o,n);s>r;)e[r++]=t;return e};On({target:"Array",proto:!0},{fill:Sv}),Jn("Array").fill;var Ev={exports:{}};!function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Ev);var Ov,Tv=Ev.exports;function Iv(){return Iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Iv.apply(this,arguments)}function Cv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Av(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Ov="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var Dv,Pv=Ov,Mv=["","webkit","Moz","MS","ms","o"],Fv="undefined"==typeof document?{style:{}}:document.createElement("div"),Nv=Math.round,Bv=Math.abs,jv=Date.now;function zv(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<Mv.length;){if((i=(n=Mv[o])?n+r:e)in t)return i;o++}}Dv="undefined"==typeof window?{}:window;var Lv=zv(Fv.style,"touchAction"),Rv=void 0!==Lv,Uv="compute",Vv="auto",Hv="manipulation",Wv="none",qv="pan-x",Yv="pan-y",Xv=function(){if(!Rv)return!1;var t={},e=Dv.CSS&&Dv.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||Dv.CSS.supports("touch-action",n)})),t}(),$v="ontouchstart"in Dv,Gv=void 0!==zv(Dv,"PointerEvent"),Kv=$v&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Qv="touch",Jv="mouse",Zv=16,ty=24,ey=["x","y"],ny=["clientX","clientY"];function iy(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function ry(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function oy(t,e){return t.indexOf(e)>-1}var sy=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Uv&&(t=this.compute()),Rv&&this.manager.element.style&&Xv[t]&&(this.manager.element.style[Lv]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return iy(this.manager.recognizers,(function(e){ry(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(oy(t,Wv))return Wv;var e=oy(t,qv),n=oy(t,Yv);return e&&n?Wv:e||n?e?qv:Yv:oy(t,Hv)?Hv:Vv}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=oy(i,Wv)&&!Xv.none,o=oy(i,Yv)&&!Xv["pan-y"],s=oy(i,qv)&&!Xv["pan-x"];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&6&n||s&&n&ty?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function ay(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ly(t){var e=t.length;if(1===e)return{x:Nv(t[0].clientX),y:Nv(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:Nv(n/e),y:Nv(i/e)}}function uy(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Nv(t.pointers[n].clientX),clientY:Nv(t.pointers[n].clientY)},n++;return{timeStamp:jv(),pointers:e,center:ly(e),deltaX:t.deltaX,deltaY:t.deltaY}}function cy(t,e,n){n||(n=ey);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function hy(t,e,n){n||(n=ey);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function dy(t,e){return t===e?1:Bv(t)>=Bv(e)?t<0?2:4:e<0?8:Zv}function fy(t,e,n){return{x:e/t||0,y:n/t||0}}function py(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=uy(e)),r>1&&!n.firstMultiple?n.firstMultiple=uy(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=ly(i);e.timeStamp=jv(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=hy(a,l),e.distance=cy(a,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=dy(e.deltaX,e.deltaY);var u,c,h=fy(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=Bv(h.x)>Bv(h.y)?h.x:h.y,e.scale=s?(u=s.pointers,cy((c=i)[0],c[1],ny)/cy(u[0],u[1],ny)):1,e.rotation=s?function(t,e){return hy(e[1],e[0],ny)+hy(t[1],t[0],ny)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=fy(a,l,u);i=c.x,r=c.y,n=Bv(c.x)>Bv(c.y)?c.x:c.y,o=dy(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var d,f=t.element,p=e.srcEvent;ay(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}function vy(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,s=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,py(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function yy(t){return t.trim().split(/\s+/g)}function gy(t,e,n){iy(yy(e),(function(e){t.addEventListener(e,n,!1)}))}function my(t,e,n){iy(yy(e),(function(e){t.removeEventListener(e,n,!1)}))}function by(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var wy=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){ry(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&gy(this.element,this.evEl,this.domHandler),this.evTarget&&gy(this.target,this.evTarget,this.domHandler),this.evWin&&gy(by(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&my(this.element,this.evEl,this.domHandler),this.evTarget&&my(this.target,this.evTarget,this.domHandler),this.evWin&&my(by(this.element),this.evWin,this.domHandler)},t}();function _y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var ky={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},xy={2:Qv,3:"pen",4:Jv,5:"kinect"},Sy="pointerdown",Ey="pointermove pointerup pointercancel";Dv.MSPointerEvent&&!Dv.PointerEvent&&(Sy="MSPointerDown",Ey="MSPointerMove MSPointerUp MSPointerCancel");var Oy=function(t){function e(){var n,i=e.prototype;return i.evEl=Sy,i.evWin=Ey,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Cv(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=ky[i],o=xy[t.pointerType]||t.pointerType,s=o===Qv,a=_y(e,t.pointerId,"pointerId");1&r&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&r&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(wy);function Ty(t){return Array.prototype.slice.call(t,0)}function Iy(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];_y(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var Cy={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ay="touchstart touchmove touchend touchcancel",Dy=function(t){function e(){var n;return e.prototype.evTarget=Ay,(n=t.apply(this,arguments)||this).targetIds={},n}return Cv(e,t),e.prototype.handler=function(t){var e=Cy[t.type],n=Py.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Qv,srcEvent:t})},e}(wy);function Py(t,e){var n,i,r=Ty(t.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Ty(t.changedTouches),a=[],l=this.target;if(i=r.filter((function(t){return ay(t.target,l)})),1===e)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&e&&delete o[s[n].identifier],n++;return a.length?[Iy(i.concat(a),"identifier",!0),a]:void 0}var My={mousedown:1,mousemove:2,mouseup:4},Fy="mousedown",Ny="mousemove mouseup",By=function(t){function e(){var n,i=e.prototype;return i.evEl=Fy,i.evWin=Ny,(n=t.apply(this,arguments)||this).pressed=!1,n}return Cv(e,t),e.prototype.handler=function(t){var e=My[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Jv,srcEvent:t}))},e}(wy);function jy(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function zy(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,jy.call(this,e)):12&t&&jy.call(this,e)}function Ly(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var Ry=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===Qv,o=n.pointerType===Jv;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)zy.call(Av(Av(i)),e,n);else if(o&&Ly.call(Av(Av(i)),n))return;i.callback(t,e,n)}},i.touch=new Dy(i.manager,i.handler),i.mouse=new By(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return Cv(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(wy);function Uy(t,e,n){return!!Array.isArray(t)&&(iy(t,n[e],n),!0)}var Vy=32,Hy=1;function Wy(t,e){var n=e.manager;return n?n.get(t):t}function qy(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Yy=function(){function t(t){void 0===t&&(t={}),this.options=Iv({enable:!0},t),this.id=Hy++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Pv(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Uy(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Wy(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Uy(t,"dropRecognizeWith",this)||(t=Wy(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Uy(t,"requireFailure",this))return this;var e=this.requireFail;return-1===_y(e,t=Wy(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Uy(t,"dropRequireFailure",this))return this;t=Wy(t,this);var e=_y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+qy(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+qy(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Vy},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Pv({},t);if(!ry(this.options.enable,[this,e]))return this.reset(),void(this.state=Vy);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Xy=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Iv({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Cv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Hv]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||cy(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return Vy},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Vy}),this.options.interval),Vy},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Yy),$y=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iv({pointers:1},e))||this}Cv(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:Vy},e}(Yy);function Gy(t){return t===Zv?"down":8===t?"up":2===t?"left":4===t?"right":""}var Ky=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Iv({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,n.pY=null,n}Cv(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(Yv),t&ty&&e.push(qv),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:Zv,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return $y.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Gy(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}($y),Qy=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iv({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}Cv(e,t);var n=e.prototype;return n.getTouchAction=function(){return Ky.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return 30&i?n=e.overallVelocity:6&i?n=e.overallVelocityX:i&ty&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Bv(n)>this.options.velocity&&4&e.eventType},n.emit=function(t){var e=Gy(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}($y),Jy=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iv({event:"pinch",threshold:0,pointers:2},e))||this}Cv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Wv]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}($y),Zy=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Iv({event:"rotate",threshold:0,pointers:2},e))||this}Cv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Wv]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}($y),tg=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Iv({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}Cv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Vv]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return Vy},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=jv(),this.manager.emit(this.options.event,this._input)))},e}(Yy),eg={domEvents:!1,touchAction:Uv,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ng=[[Zy,{enable:!1}],[Jy,{enable:!1},["rotate"]],[Qy,{direction:6}],[Ky,{direction:6},["swipe"]],[Xy],[Xy,{event:"doubletap",taps:2},["tap"]],[tg]];function ig(t,e){var n,i=t.element;i.style&&(iy(t.options.cssProps,(function(r,o){n=zv(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var rg=function(){function t(t,e){var n,i=this;this.options=Pv({},eg,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Gv?Oy:Kv?Dy:$v?Ry:By))(n,vy),this.touchAction=new sy(this,this.options.touchAction),ig(this,!0),iy(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Pv(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof Yy)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(Uy(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Uy(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=_y(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return iy(yy(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return iy(yy(t),(function(t){e?n[t]&&n[t].splice(_y(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&ig(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),og={touchstart:1,touchmove:2,touchend:4,touchcancel:8},sg="touchstart",ag="touchstart touchmove touchend touchcancel",lg=function(t){function e(){var n,i=e.prototype;return i.evTarget=sg,i.evWin=ag,(n=t.apply(this,arguments)||this).started=!1,n}return Cv(e,t),e.prototype.handler=function(t){var e=og[t.type];if(1===e&&(this.started=!0),this.started){var n=ug.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Qv,srcEvent:t})}},e}(wy);function ug(t,e){var n=Ty(t.touches),i=Ty(t.changedTouches);return 12&e&&(n=Iy(n.concat(i),"identifier",!0)),[n,i]}function cg(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var hg=cg((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),dg=cg((function(t,e){return hg(t,e,!0)}),"merge","Use `assign`.");function fg(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&Pv(i,n)}function pg(t,e){return function(){return t.apply(e,arguments)}}var vg=function(){var t=function(t,e){return void 0===e&&(e={}),new rg(t,Iv({recognizers:ng.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=Zv,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=ty,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=Zv,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Vy,t.Manager=rg,t.Input=wy,t.TouchAction=sy,t.TouchInput=Dy,t.MouseInput=By,t.PointerEventInput=Oy,t.TouchMouseInput=Ry,t.SingleTouchInput=lg,t.Recognizer=Yy,t.AttrRecognizer=$y,t.Tap=Xy,t.Pan=Ky,t.Swipe=Qy,t.Pinch=Jy,t.Rotate=Zy,t.Press=tg,t.on=gy,t.off=my,t.each=iy,t.merge=dg,t.extend=hg,t.bindFn=pg,t.assign=Pv,t.inherit=fg,t.bindFn=pg,t.prefixed=zv,t.toArray=Ty,t.inArray=_y,t.uniqueArray=Iy,t.splitStr=yy,t.boolOrFn=ry,t.hasParent=ay,t.addEventListeners=gy,t.removeEventListeners=my,t.defaults=Pv({},eg,{preset:ng}),t}();function yg(t,e){var n=void 0!==kd&&ou(t)||t["@@iterator"];if(!n){if(Ad(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return gg(t,e);var i=Id(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ul(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?gg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function gg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var mg=kd("DELETE");function bg(){var t=wg.apply(void 0,arguments);return kg(t),t}function wg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<2)return e[0];var i;if(e.length>2)return wg.apply(void 0,Td(i=[bg(e[0],e[1])]).call(i,_d(Id(e).call(e,2))));var r,o=e[0],s=e[1],a=yg(Cd(s));try{for(a.s();!(r=a.n()).done;){var l=r.value;Object.prototype.propertyIsEnumerable.call(s,l)&&(s[l]===mg?delete o[l]:null===o[l]||null===s[l]||"object"!==wd(o[l])||"object"!==wd(s[l])||Ad(o[l])||Ad(s[l])?o[l]=_g(s[l]):o[l]=wg(o[l],s[l]))}}catch(t){a.e(t)}finally{a.f()}return o}function _g(t){return Ad(t)?Br(t).call(t,(function(t){return _g(t)})):"object"===wd(t)&&null!==t?wg({},t):t}function kg(t){for(var e=0,n=Md(t);e<n.length;e++){var i=n[e];t[i]===mg?delete t[i]:"object"===wd(t[i])&&null!==t[i]&&kg(t[i])}}var xg="undefined"!=typeof window?window.Hammer||vg:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Sg(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=xg(this._dom.overlay);i.on("tap",ii(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Xd(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}Tv(Sg.prototype),Sg.current=null,Sg.prototype.destroy=function(){var t,e;this.deactivate();var n,i=yg(nf(t=kf(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(t){i.e(t)}finally{i.f()}},Sg.prototype.activate=function(){Sg.current&&Sg.current.deactivate(),Sg.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Sg.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Sg.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Eg=rr,Og=kt,Tg=s.TypeError,Ig=On,Cg=f,Ag=Gn,Dg=function(t){if(Eg(t))return t;throw Tg(Og(t)+" is not a constructor")},Pg=Ze,Mg=G,Fg=js,Ng=a,Bg=et("Reflect","construct"),jg=Object.prototype,zg=[].push,Lg=Ng((function(){function t(){}return!(Bg((function(){}),[],t)instanceof t)})),Rg=!Ng((function(){Bg((function(){}))})),Ug=Lg||Rg;Ig({target:"Reflect",stat:!0,forced:Ug,sham:Ug},{construct:function(t,e){Dg(t),Pg(e);var n=arguments.length<3?t:Dg(arguments[2]);if(Rg&&!Lg)return Bg(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return Cg(zg,i,e),new(Cg(Ag,t,i))}var r=n.prototype,o=Fg(Mg(r)?r:jg),s=Cg(t,o,e);return Mg(s)?s:o}});var Vg=K.Reflect.construct;function Hg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Wg=Up;On({target:"Object",stat:!0},{setPrototypeOf:Ia});var qg=K.Object.setPrototypeOf;function Yg(t,e){return Yg=qg||function(t,e){return t.__proto__=e,t},Yg(t,e)}function Xg(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Wg(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Mn(t,"prototype",{writable:!1}),e&&Yg(t,e)}function $g(t,e){if(e&&("object"===wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hg(t)}var Gg=tp;function Kg(t){return Kg=qg?Gg:function(t){return t.__proto__||Gg(t)},Kg(t)}var Qg={exports:{}};!function(t){var e=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof y?e:y,o=Object.create(r.prototype),s=new I(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=c(t,e,n);if("normal"===l.type){if(i=n.done?p:d,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(t,n,s),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",v={};function y(){}function g(){}function m(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(C([])));_&&_!==n&&i.call(_,o)&&(b=_);var k=m.prototype=y.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,o,s,a){var l=c(t[r],t,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(h).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function E(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:e,done:!0}}return g.prototype=m,l(k,"constructor",m),l(m,"constructor",g),g.displayName=l(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,a,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},x(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new S(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},x(k),l(k,a,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(Qg);var Jg=Qg.exports,Zg={exports:{}},tm=a((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),em=a,nm=G,im=B,rm=tm,om=Object.isExtensible,sm=em((function(){om(1)}))||rm?function(t){return!!nm(t)&&(!rm||"ArrayBuffer"!=im(t))&&(!om||om(t))}:om,am=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),lm=On,um=b,cm=So,hm=G,dm=qt,fm=Xe.f,pm=su,vm=uu,ym=sm,gm=am,mm=!1,bm=Kt("meta"),wm=0,_m=function(t){fm(t,bm,{value:{objectID:"O"+wm++,weakData:{}}})},km=Zg.exports={enable:function(){km.enable=function(){},mm=!0;var t=pm.f,e=um([].splice),n={};n[bm]=1,t(n).length&&(pm.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===bm){e(i,r,1);break}return i},lm({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:vm.f}))},fastKey:function(t,e){if(!hm(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!dm(t,bm)){if(!ym(t))return"F";if(!e)return"E";_m(t)}return t[bm].objectID},getWeakData:function(t,e){if(!dm(t,bm)){if(!ym(t))return!0;if(!e)return!1;_m(t)}return t[bm].weakData},onFreeze:function(t){return gm&&mm&&ym(t)&&!dm(t,bm)&&_m(t),t}};cm[bm]=!0;var xm=Ye,Sm=E,Em=Ze,Om=kt,Tm=sl,Im=ci,Cm=nt,Am=kl,Dm=vl,Pm=tl,Mm=s.TypeError,Fm=function(t,e){this.stopped=t,this.result=e},Nm=Fm.prototype,Bm=function(t,e,n){var i,r,o,s,a,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),p=xm(e,c),v=function(t){return i&&Pm(i,"normal",t),new Fm(!0,t)},y=function(t){return h?(Em(t),f?p(t[0],t[1],v):p(t[0],t[1])):f?p(t,v):p(t)};if(d)i=t;else{if(!(r=Dm(t)))throw Mm(Om(t)+" is not iterable");if(Tm(r)){for(o=0,s=Im(t);s>o;o++)if((a=y(t[o]))&&Cm(Nm,a))return a;return new Fm(!1)}i=Am(t,r)}for(l=i.next;!(u=Sm(l,i)).done;){try{a=y(u.value)}catch(t){Pm(i,"throw",t)}if("object"==typeof a&&a&&Cm(Nm,a))return a}return new Fm(!1)},jm=nt,zm=s.TypeError,Lm=function(t,e){if(jm(e,t))return t;throw zm("Incorrect invocation")},Rm=On,Um=s,Vm=Zg.exports,Hm=a,Wm=pn,qm=Bm,Ym=Lm,Xm=w,$m=G,Gm=fa,Km=Xe.f,Qm=wr.forEach,Jm=k,Zm=Vo.set,tb=Vo.getterFor,eb=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=Um[t],l=a&&a.prototype,u={};if(Jm&&Xm(a)&&(o||l.forEach&&!Hm((function(){(new a).entries().next()})))){var c=(i=e((function(e,n){Zm(Ym(e,c),{type:t,collection:new a}),null!=n&&qm(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,h=tb(t);Qm(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in l)||o&&"clear"==t||Wm(c,t,(function(n,i){var r=h(this).collection;if(!e&&o&&!$m(n))return"get"==t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||Km(c,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(e,t,r,s),Vm.enable();return Gm(i,t,!1,!0),u[t]=i,Rm({global:!0,forced:!0},u),o||n.setStrong(i,t,r),i},nb=Gs,ib=et,rb=Xe,ob=k,sb=ae("species"),ab=Xe.f,lb=js,ub=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:nb(t,i,e[i],n);return t},cb=Ye,hb=Lm,db=Bm,fb=Ha,pb=function(t){var e=ib(t),n=rb.f;ob&&e&&!e[sb]&&n(e,sb,{configurable:!0,get:function(){return this}})},vb=k,yb=Zg.exports.fastKey,gb=Vo.set,mb=Vo.getterFor,bb={getConstructor:function(t,e,n,i){var r=t((function(t,r){hb(t,o),gb(t,{type:e,index:lb(null),first:void 0,last:void 0,size:0}),vb||(t.size=0),null!=r&&db(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=mb(e),a=function(t,e,n){var i,r,o=s(t),a=l(t,e);return a?a.value=n:(o.last=a={index:r=yb(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),vb?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var n,i=s(t),r=yb(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return ub(o,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,vb?t.size=0:this.size=0},delete:function(t){var e=this,n=s(e),i=l(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),vb?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=cb(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),ub(o,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),vb&&ab(o,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=mb(e),o=mb(i);fb(t,e,(function(t,e){gb(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),pb(e)}};eb("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),bb);var wb=K.Map,_b=wr.some;On({target:"Array",proto:!0,forced:!bi("some")},{some:function(t){return _b(this,t,arguments.length>1?arguments[1]:void 0)}});var kb=Jn("Array").some,xb=nt,Sb=kb,Eb=Array.prototype,Ob=function(t){var e=t.some;return t===Eb||xb(Eb,t)&&e===Eb.some?Sb:e},Tb=Jn("Array").keys,Ib=Ri,Cb=qt,Ab=nt,Db=Tb,Pb=Array.prototype,Mb={DOMTokenList:!0,NodeList:!0},Fb=function(t){var e=t.keys;return t===Pb||Ab(Pb,t)&&e===Pb.keys||Cb(Mb,Ib(t))?Db:e},Nb=vu,Bb=Math.floor,jb=function(t,e){var n=t.length,i=Bb(n/2);return n<8?zb(t,e):Lb(t,jb(Nb(t,0,i),e),jb(Nb(t,i),e),e)},zb=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},Lb=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},Rb=jb,Ub=it.match(/firefox\/(\d+)/i),Vb=!!Ub&&+Ub[1],Hb=/MSIE|Trident/.test(it),Wb=it.match(/AppleWebKit\/(\d+)\./),qb=!!Wb&&+Wb[1],Yb=On,Xb=b,$b=Ot,Gb=Vt,Kb=ci,Qb=oo,Jb=a,Zb=Rb,tw=bi,ew=Vb,nw=Hb,iw=ct,rw=qb,ow=[],sw=Xb(ow.sort),aw=Xb(ow.push),lw=Jb((function(){ow.sort(void 0)})),uw=Jb((function(){ow.sort(null)})),cw=tw("sort"),hw=!Jb((function(){if(iw)return iw<70;if(!(ew&&ew>3)){if(nw)return!0;if(rw)return rw<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)ow.push({k:e+i,v:n})}for(ow.sort((function(t,e){return e.v-t.v})),i=0;i<ow.length;i++)e=ow[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));Yb({target:"Array",proto:!0,forced:lw||!uw||!cw||!hw},{sort:function(t){void 0!==t&&$b(t);var e=Gb(this);if(hw)return void 0===t?sw(e):sw(e,t);var n,i,r=[],o=Kb(e);for(i=0;i<o;i++)i in e&&aw(r,e[i]);for(Zb(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Qb(e)>Qb(n)?1:-1}}(t)),n=r.length,i=0;i<n;)e[i]=r[i++];for(;i<o;)delete e[i++];return e}});var dw,fw=Jn("Array").sort,pw=nt,vw=fw,yw=Array.prototype,gw=function(t){var e=t.sort;return t===yw||pw(yw,t)&&e===yw.sort?vw:e},mw=Jn("Array").values,bw=Ri,ww=qt,_w=nt,kw=mw,xw=Array.prototype,Sw={DOMTokenList:!0,NodeList:!0},Ew=function(t){var e=t.values;return t===xw||_w(xw,t)&&e===xw.values||ww(Sw,bw(t))?kw:e},Ow=md,Tw=Jn("Array").entries,Iw=Ri,Cw=qt,Aw=nt,Dw=Tw,Pw=Array.prototype,Mw={DOMTokenList:!0,NodeList:!0},Fw=function(t){var e=t.entries;return t===Pw||Aw(Pw,t)&&e===Pw.entries||Cw(Mw,Iw(t))?Dw:e},Nw=new Uint8Array(16);function Bw(){if(!dw&&!(dw="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dw(Nw)}var jw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zw(t){return"string"==typeof t&&jw.test(t)}for(var Lw=[],Rw=0;Rw<256;++Rw)Lw.push((Rw+256).toString(16).substr(1));function Uw(t,e,n){var i=(t=t||{}).random||(t.rng||Bw)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Lw[t[e+0]]+Lw[t[e+1]]+Lw[t[e+2]]+Lw[t[e+3]]+"-"+Lw[t[e+4]]+Lw[t[e+5]]+"-"+Lw[t[e+6]]+Lw[t[e+7]]+"-"+Lw[t[e+8]]+Lw[t[e+9]]+"-"+Lw[t[e+10]]+Lw[t[e+11]]+Lw[t[e+12]]+Lw[t[e+13]]+Lw[t[e+14]]+Lw[t[e+15]]).toLowerCase();if(!zw(n))throw TypeError("Stringified UUID is invalid");return n}(i)}function Vw(t){return"string"==typeof t||"number"==typeof t}var Hw=function(){function t(n){e(this,t),Bn(this,"delay",void 0),Bn(this,"max",void 0),Bn(this,"_queue",[]),Bn(this,"_timeout",null),Bn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(n)}return Nn(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}}},{key:"replace",value:function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.queue({args:e,fn:i,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=wv((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;Xd(t=kf(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,n){var i=new t(n);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:e[s]}),i.replace(e,s)}return i._extended={object:e,methods:r},i}}]),t}(),Ww=function(){function t(){e(this,t),Bn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Bn(this,"subscribe",t.prototype.on),Bn(this,"unsubscribe",t.prototype.off)}return Nn(t,[{key:"_trigger",value:function(t,e,n){var i,r;if("*"===t)throw new Error("Cannot trigger event *");Xd(i=Td(r=[]).call(r,_d(this._subscribers[t]),_d(this._subscribers["*"]))).call(i,(function(i){i(t,e,null!=n?n:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var n;this._subscribers[t]=Ar(n=this._subscribers[t]).call(n,(function(t){return t!==e}))}}]),t}();eb("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),bb);var qw,Yw=K.Set,Xw=kl;function $w(t,e){var n=void 0!==kd&&ou(t)||t["@@iterator"];if(!n){if(Ad(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return Gw(t,e);var i=Id(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ul(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Gw(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Gw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}qw=Ow;var Kw=function(){function t(n){e(this,t),Bn(this,"_pairs",void 0),this._pairs=n}return Nn(t,[{key:qw,value:Jg.mark((function t(){var e,n,i,r,o;return Jg.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$w(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=gd(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:Jg.mark((function t(){var e,n,i,r,o;return Jg.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$w(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=gd(n.value,2),r=i[0],o=i[1],t.next=7,[r,o];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:Jg.mark((function t(){var e,n,i,r;return Jg.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$w(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=gd(n.value,1),r=i[0],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:Jg.mark((function t(){var e,n,i,r;return Jg.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$w(this._pairs),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=gd(n.value,2),r=i[1],t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return Br(t=_d(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return Br(t=_d(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return _d(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=Vp(null),n=$w(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=gd(t.value,2),r=i[0],o=i[1];e[r]=o}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"toMap",value:function(){return new wb(this._pairs)}},{key:"toIdSet",value:function(){return new Yw(this.toIdArray())}},{key:"toItemSet",value:function(){return new Yw(this.toItemArray())}},{key:"cache",value:function(){return new t(_d(this._pairs))}},{key:"distinct",value:function(t){var e,n=new Yw,i=$w(this._pairs);try{for(i.s();!(e=i.n()).done;){var r=gd(e.value,2),o=r[0],s=r[1];n.add(t(s,o))}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"filter",value:function(e){var n=this._pairs;return new t(Bn({},Ow,Jg.mark((function t(){var i,r,o,s,a;return Jg.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=$w(n),t.prev=1,i.s();case 3:if((r=i.n()).done){t.next=10;break}if(o=gd(r.value,2),s=o[0],a=o[1],!e(a,s)){t.next=8;break}return t.next=8,[s,a];case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),i.e(t.t0);case 15:return t.prev=15,i.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(t){var e,n=$w(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=gd(e.value,2),r=i[0];t(i[1],r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"map",value:function(e){var n=this._pairs;return new t(Bn({},Ow,Jg.mark((function t(){var i,r,o,s,a;return Jg.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=$w(n),t.prev=1,i.s();case 3:if((r=i.n()).done){t.next=9;break}return o=gd(r.value,2),s=o[0],a=o[1],t.next=7,[s,e(a,s)];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),i.e(t.t0);case 14:return t.prev=14,i.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))))}},{key:"max",value:function(t){var e=Xw(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=gd(n.value,2),s=o[0],a=o[1],l=t(a,s);l>r&&(r=l,i=a)}return i}},{key:"min",value:function(t){var e=Xw(this._pairs),n=e.next();if(n.done)return null;for(var i=n.value[1],r=t(n.value[1],n.value[0]);!(n=e.next()).done;){var o=gd(n.value,2),s=o[0],a=o[1],l=t(a,s);l<r&&(r=l,i=a)}return i}},{key:"reduce",value:function(t,e){var n,i=$w(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=gd(n.value,2),o=r[0];e=t(e,r[1],o)}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"sort",value:function(e){var n=this;return new t(Bn({},Ow,(function(){var t;return Xw(gw(t=_d(n._pairs)).call(t,(function(t,n){var i=gd(t,2),r=i[0],o=i[1],s=gd(n,2),a=s[0],l=s[1];return e(o,l,r,a)})))})))}}]),t}();function Qw(t,e){var n=Md(t);if($c){var i=$c(t);e&&(i=Ar(i).call(i,(function(e){return rh(t,e).enumerable}))),n.push.apply(n,i)}return n}function Jw(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Xd(n=Qw(Object(r),!0)).call(n,(function(e){Bn(t,e,r[e])})):vh?kh(t,vh(r)):Xd(i=Qw(Object(r))).call(i,(function(e){xh(t,e,rh(r,e))}))}return t}function Zw(t,e){var n=void 0!==kd&&ou(t)||t["@@iterator"];if(!n){if(Ad(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return t_(t,e);var i=Id(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ul(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function t_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e_(t){var e=function(){if("undefined"==typeof Reflect||!Vg)return!1;if(Vg.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Vg(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Kg(t);if(e){var r=Kg(this).constructor;n=Vg(i,arguments,r)}else n=i.apply(this,arguments);return $g(this,n)}}var n_=function(t){Xg(i,t);var n=e_(i);function i(t,r){var o;return e(this,i),Bn(Hg(o=n.call(this)),"flush",void 0),Bn(Hg(o),"length",void 0),Bn(Hg(o),"_options",void 0),Bn(Hg(o),"_data",void 0),Bn(Hg(o),"_idProp",void 0),Bn(Hg(o),"_queue",null),t&&!Ad(t)&&(r=t,t=[]),o._options=r||{},o._data=new wb,o.length=0,o._idProp=o._options.fieldId||"id",t&&t.length&&o.add(t),o.setOptions(r),o}return Nn(i,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Hw.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===wd(t.queue)&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var n,i=this,r=[];if(Ad(t)){var o=Br(t).call(t,(function(t){return t[i._idProp]}));if(Ob(o).call(o,(function(t){return i._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var s=0,a=t.length;s<a;s++)n=this._addItem(t[s]),r.push(n)}else{if(!t||"object"!==wd(t))throw new Error("Unknown dataType");n=this._addItem(t),r.push(n)}return r.length&&this._trigger("add",{items:r},e),r}},{key:"update",value:function(t,e){var n=this,i=[],r=[],o=[],s=[],a=this._idProp,l=function(t){var e=t[a];if(null!=e&&n._data.has(e)){var l=t,u=jf({},n._data.get(e)),c=n._updateItem(l);r.push(c),s.push(l),o.push(u)}else{var h=n._addItem(t);i.push(h)}};if(Ad(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===wd(t[u])?l(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==wd(t))throw new Error("Unknown dataType");l(t)}if(i.length&&this._trigger("add",{items:i},e),r.length){var h={items:r,oldData:o,data:s};this._trigger("update",h,e)}return Td(i).call(i,r)}},{key:"updateOnly",value:function(t,e){var n,i=this;Ad(t)||(t=[t]);var r=Br(n=Br(t).call(t,(function(t){var e=i._data.get(t[i._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(n,(function(t){var e=t.oldData,n=t.update,r=e[i._idProp],o=function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return bg.apply(void 0,Td(e=[{},t]).call(e,i))}(e,n);return i._data.set(r,o),{id:r,oldData:e,updatedData:o}}));if(r.length){var o={items:Br(r).call(r,(function(t){return t.id})),oldData:Br(r).call(r,(function(t){return t.oldData})),data:Br(r).call(r,(function(t){return t.updatedData}))};return this._trigger("update",o,e),o.items}return[]}},{key:"get",value:function(t,e){var n=void 0,i=void 0,r=void 0;Vw(t)?(n=t,r=e):Ad(t)?(i=t,r=e):r=t;var o,s=r&&"Object"===r.returnType?"Object":"Array",a=r&&Ar(r),l=[],u=void 0,c=void 0,h=void 0;if(null!=n)(u=this._data.get(n))&&a&&!a(u)&&(u=void 0);else if(null!=i)for(var d=0,f=i.length;d<f;d++)null==(u=this._data.get(i[d]))||a&&!a(u)||l.push(u);else for(var p,v=0,y=(c=_d(Fb(p=this._data).call(p))).length;v<y;v++)h=c[v],null==(u=this._data.get(h))||a&&!a(u)||l.push(u);if(r&&r.order&&null==n&&this._sort(l,r.order),r&&r.fields){var g=r.fields;if(null!=n&&null!=u)u=this._filterFields(u,g);else for(var m=0,b=l.length;m<b;m++)l[m]=this._filterFields(l[m],g)}if("Object"==s){for(var w={},_=0,k=l.length;_<k;_++){var x=l[_];w[x[this._idProp]]=x}return w}return null!=n?null!==(o=u)&&void 0!==o?o:null:l}},{key:"getIds",value:function(t){var e=this._data,n=t&&Ar(t),i=t&&t.order,r=_d(Fb(e).call(e)),o=[];if(n)if(i){for(var s=[],a=0,l=r.length;a<l;a++){var u=r[a],c=this._data.get(u);null!=c&&n(c)&&s.push(c)}this._sort(s,i);for(var h=0,d=s.length;h<d;h++)o.push(s[h][this._idProp])}else for(var f=0,p=r.length;f<p;f++){var v=r[f],y=this._data.get(v);null!=y&&n(y)&&o.push(y[this._idProp])}else if(i){for(var g=[],m=0,b=r.length;m<b;m++){var w=r[m];g.push(e.get(w))}this._sort(g,i);for(var _=0,k=g.length;_<k;_++)o.push(g[_][this._idProp])}else for(var x=0,S=r.length;x<S;x++){var E=r[x],O=e.get(E);null!=O&&o.push(O[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var n=e&&Ar(e),i=this._data,r=_d(Fb(i).call(i));if(e&&e.order)for(var o=this.get(e),s=0,a=o.length;s<a;s++){var l=o[s];t(l,l[this._idProp])}else for(var u=0,c=r.length;u<c;u++){var h=r[u],d=this._data.get(h);null==d||n&&!n(d)||t(d,h)}}},{key:"map",value:function(t,e){for(var n=e&&Ar(e),i=[],r=this._data,o=_d(Fb(r).call(r)),s=0,a=o.length;s<a;s++){var l=o[s],u=this._data.get(l);null==u||n&&!n(u)||i.push(t(u,l))}return e&&e.order&&this._sort(i,e.order),i}},{key:"_filterFields",value:function(t,e){var n;return t?Ii(n=Ad(e)?e:Md(e)).call(n,(function(e,n){return e[n]=t[n],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var n=e;gw(t).call(t,(function(t,e){var i=t[n],r=e[n];return i>r?1:i<r?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");gw(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var n=[],i=[],r=Ad(t)?t:[t],o=0,s=r.length;o<s;o++){var a=this._remove(r[o]);if(a){var l=a[this._idProp];null!=l&&(n.push(l),i.push(a))}}return n.length&&this._trigger("remove",{items:n,oldData:i},e),n}},{key:"_remove",value:function(t){var e;if(Vw(t)?e=t:t&&"object"===wd(t)&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var n=this._data.get(e)||null;return this._data.delete(e),--this.length,n}return null}},{key:"clear",value:function(t){for(var e,n=_d(Fb(e=this._data).call(e)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},t),n}},{key:"max",value:function(t){var e,n,i=null,r=null,o=Zw(Ew(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a>r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"min",value:function(t){var e,n,i=null,r=null,o=Zw(Ew(e=this._data).call(e));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s[t];"number"==typeof a&&(null==r||a<r)&&(i=s,r=a)}}catch(t){o.e(t)}finally{o.f()}return i||null}},{key:"distinct",value:function(t){for(var e=this._data,n=_d(Fb(e).call(e)),i=[],r=0,o=0,s=n.length;o<s;o++){for(var a=n[o],l=e.get(a)[t],u=!1,c=0;c<r;c++)if(i[c]==l){u=!0;break}u||void 0===l||(i[r]=l,r++)}return i}},{key:"_addItem",value:function(t){var e=function(t,e){return null==t[e]&&(t[e]=Uw()),t}(t,this._idProp),n=e[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,e),++this.length,n}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+uv(t)+")");var n=this._data.get(e);if(!n)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,Jw(Jw({},n),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new Kw(Bn({},Ow,Jg.mark((function n(){var i,r,o,s;return Jg.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=Zw(t),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(o=r.value,null==(s=e.get(o))){n.next=9;break}return n.next=9,[o,s];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))))}var n;return new Kw(Bn({},Ow,ii(n=Fw(this._data)).call(n,this._data)))}}]),i}(Ww);function i_(t,e){var n=void 0!==kd&&ou(t)||t["@@iterator"];if(!n){if(Ad(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return r_(t,e);var i=Id(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ul(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function r_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o_(t){var e=function(){if("undefined"==typeof Reflect||!Vg)return!1;if(Vg.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Vg(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Kg(t);if(e){var r=Kg(this).constructor;n=Vg(i,arguments,r)}else n=i.apply(this,arguments);return $g(this,n)}}var s_=function(t){Xg(i,t);var n=o_(i);function i(t,r){var o,s;return e(this,i),Bn(Hg(s=n.call(this)),"length",0),Bn(Hg(s),"_listener",void 0),Bn(Hg(s),"_data",void 0),Bn(Hg(s),"_ids",new Yw),Bn(Hg(s),"_options",void 0),s._options=r||{},s._listener=ii(o=s._onEvent).call(o,Hg(s)),s.setData(t),s}return Nn(i,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:Ar(this._options)}),n=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:n})}if(null!=t){this._data=t;for(var i=this._data.getIds({filter:Ar(this._options)}),r=0,o=i.length;r<o;r++){var s=i[r];this._ids.add(s)}this.length=i.length,this._trigger("add",{items:i})}else this._data=new n_;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:Ar(this._options)}),e=_d(this._ids),n={},i=[],r=[],o=[],s=0,a=t.length;s<a;s++){var l=t[s];n[l]=!0,this._ids.has(l)||(i.push(l),this._ids.add(l))}for(var u=0,c=e.length;u<c;u++){var h=e[u],d=this._data.get(h);null==d?console.error("If you see this, report it please."):n[h]||(r.push(h),o.push(d),this._ids.delete(h))}this.length+=i.length-r.length,i.length&&this._trigger("add",{items:i}),r.length&&this._trigger("remove",{items:r,oldData:o})}},{key:"get",value:function(t,e){if(null==this._data)return null;var n,i=null;Vw(t)||Ad(t)?(i=t,n=e):n=t;var r=jf({},this._options,n),o=Ar(this._options),s=n&&Ar(n);return o&&s&&(r.filter=function(t){return o(t)&&s(t)}),null==i?this._data.get(r):this._data.get(i,r)}},{key:"getIds",value:function(t){if(this._data.length){var e,n=Ar(this._options),i=null!=t?Ar(t):null;return e=i?n?function(t){return n(t)&&i(t)}:i:n,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var n,i,r=Ar(this._options),o=e&&Ar(e);i=o?r?function(t){return r(t)&&o(t)}:o:r,Xd(n=this._data).call(n,t,{filter:i,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var n,i,r=Ar(this._options),o=e&&Ar(e);return i=o?r?function(t){return r(t)&&o(t)}:o:r,Br(n=this._data).call(n,t,{filter:i,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||Bn({},Ow,ii(e=Fb(this._ids)).call(e,this._ids)))}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var e,n="This data view has already been disposed of.",r={get:function(){throw new Error(n)},set:function(){throw new Error(n)},configurable:!1},o=i_(Cd(i.prototype));try{for(o.s();!(e=o.n()).done;){var s=e.value;xh(this,s,r)}}catch(t){o.e(t)}finally{o.f()}}},{key:"_onEvent",value:function(t,e,n){if(e&&e.items&&this._data){var i=e.items,r=[],o=[],s=[],a=[],l=[],u=[];switch(t){case"add":for(var c=0,h=i.length;c<h;c++){var d=i[c];this.get(d)&&(this._ids.add(d),r.push(d))}break;case"update":for(var f=0,p=i.length;f<p;f++){var v=i[f];this.get(v)?this._ids.has(v)?(o.push(v),l.push(e.data[f]),a.push(e.oldData[f])):(this._ids.add(v),r.push(v)):this._ids.has(v)&&(this._ids.delete(v),s.push(v),u.push(e.oldData[f]))}break;case"remove":for(var y=0,g=i.length;y<g;y++){var m=i[y];this._ids.has(m)&&(this._ids.delete(m),s.push(m),u.push(e.oldData[y]))}}this.length+=r.length-s.length,r.length&&this._trigger("add",{items:r},n),o.length&&this._trigger("update",{items:o,oldData:a,data:l},n),s.length&&this._trigger("remove",{items:s,oldData:u},n)}}}]),i}(Ww);function a_(t,e){return"object"===wd(e)&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof Xd(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof Br(e)&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}t.DELETE=mg,t.DataSet=n_,t.DataStream=Kw,t.DataView=s_,t.Queue=Hw,t.createNewDataPipeFrom=function(t){return new no(t)},t.isDataSetLike=a_,t.isDataViewLike=function(t,e){return"object"===wd(e)&&null!==e&&t===e.idProp&&"function"==typeof Xd(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof Br(e)&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&a_(t,e.getDataSet())},Object.defineProperty(t,"__esModule",{value:!0})}(e)},212:function(t,e,n){!function(t,e){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},r=function(t){return t&&t.Math==Math&&t},o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i&&i)||function(){return this}()||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},a=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),l=a,u=Function.prototype,c=u.apply,h=u.call,d="object"==typeof Reflect&&Reflect.apply||(l?h.bind(c):function(){return h.apply(c,arguments)}),f=a,p=Function.prototype,v=p.bind,y=p.call,g=f&&v.bind(y,y),m=f?function(t){return t&&g(t)}:function(t){return t&&function(){return y.apply(t,arguments)}},b=function(t){return"function"==typeof t},w={},_=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),k=a,x=Function.prototype.call,S=k?x.bind(x):function(){return x.apply(x,arguments)},E={},O={}.propertyIsEnumerable,T=Object.getOwnPropertyDescriptor,I=T&&!O.call({1:2},1);E.f=I?function(t){var e=T(this,t);return!!e&&e.enumerable}:O;var C,A,D=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},P=m,M=P({}.toString),F=P("".slice),N=function(t){return F(M(t),8,-1)},B=m,j=s,z=N,L=o.Object,R=B("".split),U=j((function(){return!L("z").propertyIsEnumerable(0)}))?function(t){return"String"==z(t)?R(t,""):L(t)}:L,V=o.TypeError,H=function(t){if(null==t)throw V("Can't call method on "+t);return t},W=U,q=H,Y=function(t){return W(q(t))},X=b,$=function(t){return"object"==typeof t?null!==t:X(t)},G={},K=G,Q=o,J=b,Z=function(t){return J(t)?t:void 0},tt=function(t,e){return arguments.length<2?Z(K[t])||Z(Q[t]):K[t]&&K[t][e]||Q[t]&&Q[t][e]},et=m({}.isPrototypeOf),nt=tt("navigator","userAgent")||"",it=o,rt=nt,ot=it.process,st=it.Deno,at=ot&&ot.versions||st&&st.version,lt=at&&at.v8;lt&&(A=(C=lt.split("."))[0]>0&&C[0]<4?1:+(C[0]+C[1])),!A&&rt&&(!(C=rt.match(/Edge\/(\d+)/))||C[1]>=74)&&(C=rt.match(/Chrome\/(\d+)/))&&(A=+C[1]);var ut=A,ct=ut,ht=s,dt=!!Object.getOwnPropertySymbols&&!ht((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ct&&ct<41})),ft=dt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,pt=tt,vt=b,yt=et,gt=ft,mt=o.Object,bt=gt?function(t){return"symbol"==typeof t}:function(t){var e=pt("Symbol");return vt(e)&&yt(e.prototype,mt(t))},wt=o.String,_t=function(t){try{return wt(t)}catch(t){return"Object"}},kt=b,xt=_t,St=o.TypeError,Et=function(t){if(kt(t))return t;throw St(xt(t)+" is not a function")},Ot=Et,Tt=function(t,e){var n=t[e];return null==n?void 0:Ot(n)},It=S,Ct=b,At=$,Dt=o.TypeError,Pt={exports:{}},Mt=o,Ft=Object.defineProperty,Nt=function(t,e){try{Ft(Mt,t,{value:e,configurable:!0,writable:!0})}catch(i){Mt[t]=e}return e},Bt="__core-js_shared__",jt=o[Bt]||Nt(Bt,{}),zt=jt;(Pt.exports=function(t,e){return zt[t]||(zt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Lt=H,Rt=o.Object,Ut=function(t){return Rt(Lt(t))},Vt=Ut,Ht=m({}.hasOwnProperty),Wt=Object.hasOwn||function(t,e){return Ht(Vt(t),e)},qt=m,Yt=0,Xt=Math.random(),$t=qt(1..toString),Gt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+$t(++Yt+Xt,36)},Kt=o,Qt=Pt.exports,Jt=Wt,Zt=Gt,te=dt,ee=ft,ne=Qt("wks"),ie=Kt.Symbol,re=ie&&ie.for,oe=ee?ie:ie&&ie.withoutSetter||Zt,se=function(t){if(!Jt(ne,t)||!te&&"string"!=typeof ne[t]){var e="Symbol."+t;te&&Jt(ie,t)?ne[t]=ie[t]:ne[t]=ee&&re?re(e):oe(e)}return ne[t]},ae=S,le=$,ue=bt,ce=Tt,he=function(t,e){var n,i;if("string"===e&&Ct(n=t.toString)&&!At(i=It(n,t)))return i;if(Ct(n=t.valueOf)&&!At(i=It(n,t)))return i;if("string"!==e&&Ct(n=t.toString)&&!At(i=It(n,t)))return i;throw Dt("Can't convert object to primitive value")},de=se,fe=o.TypeError,pe=de("toPrimitive"),ve=function(t,e){if(!le(t)||ue(t))return t;var n,i=ce(t,pe);if(i){if(void 0===e&&(e="default"),n=ae(i,t,e),!le(n)||ue(n))return n;throw fe("Can't convert object to primitive value")}return void 0===e&&(e="number"),he(t,e)},ye=bt,ge=function(t){var e=ve(t,"string");return ye(e)?e:e+""},me=$,be=o.document,we=me(be)&&me(be.createElement),_e=function(t){return we?be.createElement(t):{}},ke=_e,xe=!_&&!s((function(){return 7!=Object.defineProperty(ke("div"),"a",{get:function(){return 7}}).a})),Se=_,Ee=S,Oe=E,Te=D,Ie=Y,Ce=ge,Ae=Wt,De=xe,Pe=Object.getOwnPropertyDescriptor;w.f=Se?Pe:function(t,e){if(t=Ie(t),e=Ce(e),De)try{return Pe(t,e)}catch(t){}if(Ae(t,e))return Te(!Ee(Oe.f,t,e),t[e])};var Me=s,Fe=b,Ne=/#|\.prototype\./,Be=function(t,e){var n=ze[je(t)];return n==Re||n!=Le&&(Fe(e)?Me(e):!!e)},je=Be.normalize=function(t){return String(t).replace(Ne,".").toLowerCase()},ze=Be.data={},Le=Be.NATIVE="N",Re=Be.POLYFILL="P",Ue=Be,Ve=Et,He=a,We=m(m.bind),qe=function(t,e){return Ve(t),void 0===e?t:He?We(t,e):function(){return t.apply(e,arguments)}},Ye={},Xe=_&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),$e=o,Ge=$,Ke=$e.String,Qe=$e.TypeError,Je=function(t){if(Ge(t))return t;throw Qe(Ke(t)+" is not an object")},Ze=_,tn=xe,en=Xe,nn=Je,rn=ge,on=o.TypeError,sn=Object.defineProperty,an=Object.getOwnPropertyDescriptor,ln="enumerable",un="configurable",cn="writable";Ye.f=Ze?en?function(t,e,n){if(nn(t),e=rn(e),nn(n),"function"==typeof t&&"prototype"===e&&"value"in n&&cn in n&&!n.writable){var i=an(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:un in n?n.configurable:i.configurable,enumerable:ln in n?n.enumerable:i.enumerable,writable:!1})}return sn(t,e,n)}:sn:function(t,e,n){if(nn(t),e=rn(e),nn(n),tn)try{return sn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw on("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var hn=Ye,dn=D,fn=_?function(t,e,n){return hn.f(t,e,dn(1,n))}:function(t,e,n){return t[e]=n,t},pn=o,vn=d,yn=m,gn=b,mn=w.f,bn=Ue,wn=G,_n=qe,kn=fn,xn=Wt,Sn=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return vn(t,this,arguments)};return e.prototype=t.prototype,e},En=function(t,e){var n,i,r,o,s,a,l,u,c=t.target,h=t.global,d=t.stat,f=t.proto,p=h?pn:d?pn[c]:(pn[c]||{}).prototype,v=h?wn:wn[c]||kn(wn,c,{})[c],y=v.prototype;for(r in e)n=!bn(h?r:c+(d?".":"#")+r,t.forced)&&p&&xn(p,r),s=v[r],n&&(a=t.noTargetGet?(u=mn(p,r))&&u.value:p[r]),o=n&&a?a:e[r],n&&typeof s==typeof o||(l=t.bind&&n?_n(o,pn):t.wrap&&n?Sn(o):f&&gn(o)?yn(o):o,(t.sham||o&&o.sham||s&&s.sham)&&kn(l,"sham",!0),kn(v,r,l),f&&(xn(wn,i=c+"Prototype")||kn(wn,i,{}),kn(wn[i],r,o),t.real&&y&&!y[r]&&kn(y,r,o)))},On=Math.ceil,Tn=Math.floor,In=function(t){var e=+t;return e!=e||0===e?0:(e>0?Tn:On)(e)},Cn=In,An=Math.max,Dn=Math.min,Pn=function(t,e){var n=Cn(t);return n<0?An(n+e,0):Dn(n,e)},Mn=In,Fn=Math.min,Nn=function(t){return t>0?Fn(Mn(t),9007199254740991):0},Bn=function(t){return Nn(t.length)},jn=Y,zn=Pn,Ln=Bn,Rn=function(t){return function(e,n,i){var r,o=jn(e),s=Ln(o),a=zn(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Un={includes:Rn(!0),indexOf:Rn(!1)},Vn={},Hn=Wt,Wn=Y,qn=Un.indexOf,Yn=Vn,Xn=m([].push),$n=function(t,e){var n,i=Wn(t),r=0,o=[];for(n in i)!Hn(Yn,n)&&Hn(i,n)&&Xn(o,n);for(;e.length>r;)Hn(i,n=e[r++])&&(~qn(o,n)||Xn(o,n));return o},Gn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Kn=$n,Qn=Gn,Jn=Object.keys||function(t){return Kn(t,Qn)},Zn={};Zn.f=Object.getOwnPropertySymbols;var ti=_,ei=m,ni=S,ii=s,ri=Jn,oi=Zn,si=E,ai=Ut,li=U,ui=Object.assign,ci=Object.defineProperty,hi=ei([].concat),di=!ui||ii((function(){if(ti&&1!==ui({b:1},ui(ci({},"a",{enumerable:!0,get:function(){ci(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=ui({},t)[n]||ri(ui({},e)).join("")!=i}))?function(t,e){for(var n=ai(t),i=arguments.length,r=1,o=oi.f,s=si.f;i>r;)for(var a,l=li(arguments[r++]),u=o?hi(ri(l),o(l)):ri(l),c=u.length,h=0;c>h;)a=u[h++],ti&&!ni(s,l,a)||(n[a]=l[a]);return n}:ui,fi=di;En({target:"Object",stat:!0,forced:Object.assign!==fi},{assign:fi});var pi=G.Object.assign,vi=m([].slice),yi=m,gi=Et,mi=$,bi=Wt,wi=vi,_i=a,ki=o.Function,xi=yi([].concat),Si=yi([].join),Ei={},Oi=function(t,e,n){if(!bi(Ei,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Ei[e]=ki("C,a","return new C("+Si(i,",")+")")}return Ei[e](t,n)},Ti=_i?ki.bind:function(t){var e=gi(this),n=e.prototype,i=wi(arguments,1),r=function(){var n=xi(i,wi(arguments));return this instanceof r?Oi(e,n.length,n):e.apply(t,n)};return mi(n)&&(r.prototype=n),r},Ii=Ti;En({target:"Function",proto:!0,forced:Function.bind!==Ii},{bind:Ii});var Ci=G,Ai=function(t){return Ci[t+"Prototype"]},Di=Ai("Function").bind,Pi=et,Mi=Di,Fi=Function.prototype,Ni=function(t){var e=t.bind;return t===Fi||Pi(Fi,t)&&e===Fi.bind?Mi:e},Bi=Ni;function ji(t,e,n,i){t.beginPath(),t.arc(e,n,i,0,2*Math.PI,!1),t.closePath()}function zi(t,e,n,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.arc(e+i-o,n+o,o,270*s,360*s,!1),t.lineTo(e+i,n+r-o),t.arc(e+i-o,n+r-o,o,0,90*s,!1),t.lineTo(e+o,n+r),t.arc(e+o,n+r-o,o,90*s,180*s,!1),t.lineTo(e,n+o),t.arc(e+o,n+o,o,180*s,270*s,!1),t.closePath()}function Li(t,e,n,i,r){var o=.5522848,s=i/2*o,a=r/2*o,l=e+i,u=n+r,c=e+i/2,h=n+r/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-a,c-s,n,c,n),t.bezierCurveTo(c+s,n,l,h-a,l,h),t.bezierCurveTo(l,h+a,c+s,u,c,u),t.bezierCurveTo(c-s,u,e,h+a,e,h),t.closePath()}function Ri(t,e,n,i,r){var o=r*(1/3),s=.5522848,a=i/2*s,l=o/2*s,u=e+i,c=n+o,h=e+i/2,d=n+o/2,f=n+(r-o/2),p=n+r;t.beginPath(),t.moveTo(u,d),t.bezierCurveTo(u,d+l,h+a,c,h,c),t.bezierCurveTo(h-a,c,e,d+l,e,d),t.bezierCurveTo(e,d-l,h-a,n,h,n),t.bezierCurveTo(h+a,n,u,d-l,u,d),t.lineTo(u,f),t.bezierCurveTo(u,f+l,h+a,p,h,p),t.bezierCurveTo(h-a,p,e,f+l,e,f),t.lineTo(e,d)}function Ui(t,e,n,i,r,o){t.beginPath(),t.moveTo(e,n);for(var s=o.length,a=i-e,l=r-n,u=l/a,c=Math.sqrt(a*a+l*l),h=0,d=!0,f=0,p=+o[0];c>=.1;)(p=+o[h++%s])>c&&(p=c),f=Math.sqrt(p*p/(1+u*u)),e+=f=a<0?-f:f,n+=u*f,!0===d?t.lineTo(e,n):t.moveTo(e,n),c-=p,d=!d}var Vi={circle:ji,dashedLine:Ui,database:Ri,diamond:function(t,e,n,i){t.beginPath(),t.lineTo(e,n+i),t.lineTo(e+i,n),t.lineTo(e,n-i),t.lineTo(e-i,n),t.closePath()},ellipse:Li,ellipse_vis:Li,hexagon:function(t,e,n,i){t.beginPath();var r=2*Math.PI/6;t.moveTo(e+i,n);for(var o=1;o<6;o++)t.lineTo(e+i*Math.cos(r*o),n+i*Math.sin(r*o));t.closePath()},roundRect:zi,square:function(t,e,n,i){t.beginPath(),t.rect(e-i,n-i,2*i,2*i),t.closePath()},star:function(t,e,n,i){t.beginPath(),n+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;t.lineTo(e+o*Math.sin(2*r*Math.PI/10),n-o*Math.cos(2*r*Math.PI/10))}t.closePath()},triangle:function(t,e,n,i){t.beginPath(),n+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,n-(a-s)),t.lineTo(e+o,n+s),t.lineTo(e-o,n+s),t.lineTo(e,n-(a-s)),t.closePath()},triangleDown:function(t,e,n,i){t.beginPath(),n-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);t.moveTo(e,n+(a-s)),t.lineTo(e+o,n-s),t.lineTo(e-o,n-s),t.lineTo(e,n+(a-s)),t.closePath()}},Hi={exports:{}};!function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Hi);var Wi=Hi.exports,qi={};qi[se("toStringTag")]="z";var Yi="[object z]"===String(qi),Xi=o,$i=Yi,Gi=b,Ki=N,Qi=se("toStringTag"),Ji=Xi.Object,Zi="Arguments"==Ki(function(){return arguments}()),tr=$i?Ki:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Ji(t),Qi))?n:Zi?Ki(e):"Object"==(i=Ki(e))&&Gi(e.callee)?"Arguments":i},er=tr,nr=o.String,ir=function(t){if("Symbol"===er(t))throw TypeError("Cannot convert a Symbol value to a string");return nr(t)},rr=m,or=In,sr=ir,ar=H,lr=rr("".charAt),ur=rr("".charCodeAt),cr=rr("".slice),hr=function(t){return function(e,n){var i,r,o=sr(ar(e)),s=or(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=ur(o,s))<55296||i>56319||s+1===a||(r=ur(o,s+1))<56320||r>57343?t?lr(o,s):i:t?cr(o,s,s+2):r-56320+(i-55296<<10)+65536}},dr={codeAt:hr(!1),charAt:hr(!0)},fr=b,pr=jt,vr=m(Function.toString);fr(pr.inspectSource)||(pr.inspectSource=function(t){return vr(t)});var yr,gr,mr,br=pr.inspectSource,wr=b,_r=br,kr=o.WeakMap,xr=wr(kr)&&/native code/.test(_r(kr)),Sr=Pt.exports,Er=Gt,Or=Sr("keys"),Tr=function(t){return Or[t]||(Or[t]=Er(t))},Ir=xr,Cr=o,Ar=m,Dr=$,Pr=fn,Mr=Wt,Fr=jt,Nr=Tr,Br=Vn,jr="Object already initialized",zr=Cr.TypeError,Lr=Cr.WeakMap;if(Ir||Fr.state){var Rr=Fr.state||(Fr.state=new Lr),Ur=Ar(Rr.get),Vr=Ar(Rr.has),Hr=Ar(Rr.set);yr=function(t,e){if(Vr(Rr,t))throw new zr(jr);return e.facade=t,Hr(Rr,t,e),e},gr=function(t){return Ur(Rr,t)||{}},mr=function(t){return Vr(Rr,t)}}else{var Wr=Nr("state");Br[Wr]=!0,yr=function(t,e){if(Mr(t,Wr))throw new zr(jr);return e.facade=t,Pr(t,Wr,e),e},gr=function(t){return Mr(t,Wr)?t[Wr]:{}},mr=function(t){return Mr(t,Wr)}}var qr={set:yr,get:gr,has:mr,enforce:function(t){return mr(t)?gr(t):yr(t,{})},getterFor:function(t){return function(e){var n;if(!Dr(e)||(n=gr(e)).type!==t)throw zr("Incompatible receiver, "+t+" required");return n}}},Yr=_,Xr=Wt,$r=Function.prototype,Gr=Yr&&Object.getOwnPropertyDescriptor,Kr=Xr($r,"name"),Qr={EXISTS:Kr,PROPER:Kr&&"something"===function(){}.name,CONFIGURABLE:Kr&&(!Yr||Yr&&Gr($r,"name").configurable)},Jr={},Zr=_,to=Xe,eo=Ye,no=Je,io=Y,ro=Jn;Jr.f=Zr&&!to?Object.defineProperties:function(t,e){no(t);for(var n,i=io(e),r=ro(e),o=r.length,s=0;o>s;)eo.f(t,n=r[s++],i[n]);return t};var oo,so=tt("document","documentElement"),ao=Je,lo=Jr,uo=Gn,co=Vn,ho=so,fo=_e,po=Tr("IE_PROTO"),vo=function(){},yo=function(t){return"<script>"+t+"<\/script>"},go=function(t){t.write(yo("")),t.close();var e=t.parentWindow.Object;return t=null,e},mo=function(){try{oo=new ActiveXObject("htmlfile")}catch(t){}var t,e;mo="undefined"!=typeof document?document.domain&&oo?go(oo):((e=fo("iframe")).style.display="none",ho.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(yo("document.F=Object")),t.close(),t.F):go(oo);for(var n=uo.length;n--;)delete mo.prototype[uo[n]];return mo()};co[po]=!0;var bo,wo,_o,ko=Object.create||function(t,e){var n;return null!==t?(vo.prototype=ao(t),n=new vo,vo.prototype=null,n[po]=t):n=mo(),void 0===e?n:lo.f(n,e)},xo=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),So=o,Eo=Wt,Oo=b,To=Ut,Io=xo,Co=Tr("IE_PROTO"),Ao=So.Object,Do=Ao.prototype,Po=Io?Ao.getPrototypeOf:function(t){var e=To(t);if(Eo(e,Co))return e[Co];var n=e.constructor;return Oo(n)&&e instanceof n?n.prototype:e instanceof Ao?Do:null},Mo=fn,Fo=function(t,e,n,i){i&&i.enumerable?t[e]=n:Mo(t,e,n)},No=s,Bo=b,jo=ko,zo=Po,Lo=Fo,Ro=se("iterator"),Uo=!1;[].keys&&("next"in(_o=[].keys())?(wo=zo(zo(_o)))!==Object.prototype&&(bo=wo):Uo=!0);var Vo=null==bo||No((function(){var t={};return bo[Ro].call(t)!==t}));Bo((bo=Vo?{}:jo(bo))[Ro])||Lo(bo,Ro,(function(){return this}));var Ho={IteratorPrototype:bo,BUGGY_SAFARI_ITERATORS:Uo},Wo=tr,qo=Yi?{}.toString:function(){return"[object "+Wo(this)+"]"},Yo=Yi,Xo=Ye.f,$o=fn,Go=Wt,Ko=qo,Qo=se("toStringTag"),Jo=function(t,e,n,i){if(t){var r=n?t:t.prototype;Go(r,Qo)||Xo(r,Qo,{configurable:!0,value:e}),i&&!Yo&&$o(r,"toString",Ko)}},Zo={},ts=Ho.IteratorPrototype,es=ko,ns=D,is=Jo,rs=Zo,os=function(){return this},ss=o,as=b,ls=ss.String,us=ss.TypeError,cs=m,hs=Je,ds=function(t){if("object"==typeof t||as(t))return t;throw us("Can't set "+ls(t)+" as a prototype")},fs=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=cs(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return hs(n),ds(i),e?t(n,i):n.__proto__=i,n}}():void 0),ps=En,vs=S,ys=function(t,e,n,i){var r=e+" Iterator";return t.prototype=es(ts,{next:ns(+!i,n)}),is(t,r,!1,!0),rs[r]=os,t},gs=Po,ms=Jo,bs=Fo,ws=Zo,_s=Qr.PROPER,ks=Ho.BUGGY_SAFARI_ITERATORS,xs=se("iterator"),Ss="keys",Es="values",Os="entries",Ts=function(){return this},Is=function(t,e,n,i,r,o,s){ys(n,e,i);var a,l,u,c=function(t){if(t===r&&v)return v;if(!ks&&t in f)return f[t];switch(t){case Ss:case Es:case Os:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,f=t.prototype,p=f[xs]||f["@@iterator"]||r&&f[r],v=!ks&&p||c(r),y="Array"==e&&f.entries||p;if(y&&(a=gs(y.call(new t)))!==Object.prototype&&a.next&&(ms(a,h,!0,!0),ws[h]=Ts),_s&&r==Es&&p&&p.name!==Es&&(d=!0,v=function(){return vs(p,this)}),r)if(l={values:c(Es),keys:o?v:c(Ss),entries:c(Os)},s)for(u in l)(ks||d||!(u in f))&&bs(f,u,l[u]);else ps({target:e,proto:!0,forced:ks||d},l);return s&&f[xs]!==v&&bs(f,xs,v,{name:r}),ws[e]=v,l},Cs=dr.charAt,As=ir,Ds=qr,Ps=Is,Ms="String Iterator",Fs=Ds.set,Ns=Ds.getterFor(Ms);Ps(String,"String",(function(t){Fs(this,{type:Ms,string:As(t),index:0})}),(function(){var t,e=Ns(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=Cs(n,i),e.index+=t.length,{value:t,done:!1})}));var Bs=S,js=Je,zs=Tt,Ls=function(t,e,n){var i,r;js(t);try{if(!(i=zs(t,"return"))){if("throw"===e)throw n;return n}i=Bs(i,t)}catch(t){r=!0,i=t}if("throw"===e)throw n;if(r)throw i;return js(i),n},Rs=Je,Us=Ls,Vs=Zo,Hs=se("iterator"),Ws=Array.prototype,qs=function(t){return void 0!==t&&(Vs.Array===t||Ws[Hs]===t)},Ys=m,Xs=s,$s=b,Gs=tr,Ks=br,Qs=function(){},Js=[],Zs=tt("Reflect","construct"),ta=/^\s*(?:class|function)\b/,ea=Ys(ta.exec),na=!ta.exec(Qs),ia=function(t){if(!$s(t))return!1;try{return Zs(Qs,Js,t),!0}catch(t){return!1}},ra=function(t){if(!$s(t))return!1;switch(Gs(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return na||!!ea(ta,Ks(t))}catch(t){return!0}};ra.sham=!0;var oa=!Zs||Xs((function(){var t;return ia(ia.call)||!ia(Object)||!ia((function(){t=!0}))||t}))?ra:ia,sa=ge,aa=Ye,la=D,ua=function(t,e,n){var i=sa(e);i in t?aa.f(t,i,la(0,n)):t[i]=n},ca=tr,ha=Tt,da=Zo,fa=se("iterator"),pa=function(t){if(null!=t)return ha(t,fa)||ha(t,"@@iterator")||da[ca(t)]},va=S,ya=Et,ga=Je,ma=_t,ba=pa,wa=o.TypeError,_a=function(t,e){var n=arguments.length<2?ba(t):e;if(ya(n))return ga(va(n,t));throw wa(ma(t)+" is not iterable")},ka=qe,xa=S,Sa=Ut,Ea=function(t,e,n,i){try{return i?e(Rs(n)[0],n[1]):e(n)}catch(e){Us(t,"throw",e)}},Oa=qs,Ta=oa,Ia=Bn,Ca=ua,Aa=_a,Da=pa,Pa=o.Array,Ma=se("iterator"),Fa=!1;try{var Na=0,Ba={next:function(){return{done:!!Na++}},return:function(){Fa=!0}};Ba[Ma]=function(){return this},Array.from(Ba,(function(){throw 2}))}catch(t){}var ja=function(t){var e=Sa(t),n=Ta(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=ka(r,i>2?arguments[2]:void 0));var s,a,l,u,c,h,d=Da(e),f=0;if(!d||this==Pa&&Oa(d))for(s=Ia(e),a=n?new this(s):Pa(s);s>f;f++)h=o?r(e[f],f):e[f],Ca(a,f,h);else for(c=(u=Aa(e,d)).next,a=n?new this:[];!(l=xa(c,u)).done;f++)h=o?Ea(u,r,[l.value,f],!0):l.value,Ca(a,f,h);return a.length=f,a},za=function(t,e){if(!e&&!Fa)return!1;var n=!1;try{var i={};i[Ma]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n};En({target:"Array",stat:!0,forced:!za((function(t){Array.from(t)}))},{from:ja});var La=G.Array.from,Ra=La,Ua=Y,Va=Zo,Ha=qr;Ye.f;var Wa=Is,qa="Array Iterator",Ya=Ha.set,Xa=Ha.getterFor(qa);Wa(Array,"Array",(function(t,e){Ya(this,{type:qa,target:Ua(t),index:0,kind:e})}),(function(){var t=Xa(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),Va.Arguments=Va.Array;var $a=pa,Ga={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ka=o,Qa=tr,Ja=fn,Za=Zo,tl=se("toStringTag");for(var el in Ga){var nl=Ka[el],il=nl&&nl.prototype;il&&Qa(il)!==tl&&Ja(il,tl,el),Za[el]=Za.Array}var rl=$a,ol=N,sl=Array.isArray||function(t){return"Array"==ol(t)},al={},ll=$n,ul=Gn.concat("length","prototype");al.f=Object.getOwnPropertyNames||function(t){return ll(t,ul)};var cl={},hl=Pn,dl=Bn,fl=ua,pl=o.Array,vl=Math.max,yl=function(t,e,n){for(var i=dl(t),r=hl(e,i),o=hl(void 0===n?i:n,i),s=pl(vl(o-r,0)),a=0;r<o;r++,a++)fl(s,a,t[r]);return s.length=a,s},gl=N,ml=Y,bl=al.f,wl=yl,_l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];cl.f=function(t){return _l&&"Window"==gl(t)?function(t){try{return bl(t)}catch(t){return wl(_l)}}(t):bl(ml(t))};var kl={},xl=se;kl.f=xl;var Sl=G,El=Wt,Ol=kl,Tl=Ye.f,Il=function(t){var e=Sl.Symbol||(Sl.Symbol={});El(e,t)||Tl(e,t,{value:Ol.f(t)})},Cl=o,Al=sl,Dl=oa,Pl=$,Ml=se("species"),Fl=Cl.Array,Nl=function(t){var e;return Al(t)&&(e=t.constructor,(Dl(e)&&(e===Fl||Al(e.prototype))||Pl(e)&&null===(e=e[Ml]))&&(e=void 0)),void 0===e?Fl:e},Bl=function(t,e){return new(Nl(t))(0===e?0:e)},jl=qe,zl=U,Ll=Ut,Rl=Bn,Ul=Bl,Vl=m([].push),Hl=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,s=7==t,a=5==t||o;return function(l,u,c,h){for(var d,f,p=Ll(l),v=zl(p),y=jl(u,c),g=Rl(v),m=0,b=h||Ul,w=e?b(l,g):n||s?b(l,0):void 0;g>m;m++)if((a||m in v)&&(f=y(d=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Vl(w,d)}else switch(t){case 4:return!1;case 7:Vl(w,d)}return o?-1:i||r?r:w}},Wl={forEach:Hl(0),map:Hl(1),filter:Hl(2),some:Hl(3),every:Hl(4),find:Hl(5),findIndex:Hl(6),filterReject:Hl(7)},ql=En,Yl=o,Xl=tt,$l=d,Gl=S,Kl=m,Ql=_,Jl=dt,Zl=s,tu=Wt,eu=sl,nu=b,iu=$,ru=et,ou=bt,su=Je,au=Ut,lu=Y,uu=ge,cu=ir,hu=D,du=ko,fu=Jn,pu=al,vu=cl,yu=Zn,gu=w,mu=Ye,bu=Jr,wu=E,_u=vi,ku=Fo,xu=Pt.exports,Su=Vn,Eu=Gt,Ou=se,Tu=kl,Iu=Il,Cu=Jo,Au=qr,Du=Wl.forEach,Pu=Tr("hidden"),Mu="Symbol",Fu=Ou("toPrimitive"),Nu=Au.set,Bu=Au.getterFor(Mu),ju=Object.prototype,zu=Yl.Symbol,Lu=zu&&zu.prototype,Ru=Yl.TypeError,Uu=Yl.QObject,Vu=Xl("JSON","stringify"),Hu=gu.f,Wu=mu.f,qu=vu.f,Yu=wu.f,Xu=Kl([].push),$u=xu("symbols"),Gu=xu("op-symbols"),Ku=xu("string-to-symbol-registry"),Qu=xu("symbol-to-string-registry"),Ju=xu("wks"),Zu=!Uu||!Uu.prototype||!Uu.prototype.findChild,tc=Ql&&Zl((function(){return 7!=du(Wu({},"a",{get:function(){return Wu(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=Hu(ju,e);i&&delete ju[e],Wu(t,e,n),i&&t!==ju&&Wu(ju,e,i)}:Wu,ec=function(t,e){var n=$u[t]=du(Lu);return Nu(n,{type:Mu,tag:t,description:e}),Ql||(n.description=e),n},nc=function(t,e,n){t===ju&&nc(Gu,e,n),su(t);var i=uu(e);return su(n),tu($u,i)?(n.enumerable?(tu(t,Pu)&&t[Pu][i]&&(t[Pu][i]=!1),n=du(n,{enumerable:hu(0,!1)})):(tu(t,Pu)||Wu(t,Pu,hu(1,{})),t[Pu][i]=!0),tc(t,i,n)):Wu(t,i,n)},ic=function(t,e){su(t);var n=lu(e),i=fu(n).concat(ac(n));return Du(i,(function(e){Ql&&!Gl(rc,n,e)||nc(t,e,n[e])})),t},rc=function(t){var e=uu(t),n=Gl(Yu,this,e);return!(this===ju&&tu($u,e)&&!tu(Gu,e))&&(!(n||!tu(this,e)||!tu($u,e)||tu(this,Pu)&&this[Pu][e])||n)},oc=function(t,e){var n=lu(t),i=uu(e);if(n!==ju||!tu($u,i)||tu(Gu,i)){var r=Hu(n,i);return!r||!tu($u,i)||tu(n,Pu)&&n[Pu][i]||(r.enumerable=!0),r}},sc=function(t){var e=qu(lu(t)),n=[];return Du(e,(function(t){tu($u,t)||tu(Su,t)||Xu(n,t)})),n},ac=function(t){var e=t===ju,n=qu(e?Gu:lu(t)),i=[];return Du(n,(function(t){!tu($u,t)||e&&!tu(ju,t)||Xu(i,$u[t])})),i};if(Jl||(zu=function(){if(ru(Lu,this))throw Ru("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?cu(arguments[0]):void 0,e=Eu(t),n=function(t){this===ju&&Gl(n,Gu,t),tu(this,Pu)&&tu(this[Pu],e)&&(this[Pu][e]=!1),tc(this,e,hu(1,t))};return Ql&&Zu&&tc(ju,e,{configurable:!0,set:n}),ec(e,t)},ku(Lu=zu.prototype,"toString",(function(){return Bu(this).tag})),ku(zu,"withoutSetter",(function(t){return ec(Eu(t),t)})),wu.f=rc,mu.f=nc,bu.f=ic,gu.f=oc,pu.f=vu.f=sc,yu.f=ac,Tu.f=function(t){return ec(Ou(t),t)},Ql&&Wu(Lu,"description",{configurable:!0,get:function(){return Bu(this).description}})),ql({global:!0,wrap:!0,forced:!Jl,sham:!Jl},{Symbol:zu}),Du(fu(Ju),(function(t){Iu(t)})),ql({target:Mu,stat:!0,forced:!Jl},{for:function(t){var e=cu(t);if(tu(Ku,e))return Ku[e];var n=zu(e);return Ku[e]=n,Qu[n]=e,n},keyFor:function(t){if(!ou(t))throw Ru(t+" is not a symbol");if(tu(Qu,t))return Qu[t]},useSetter:function(){Zu=!0},useSimple:function(){Zu=!1}}),ql({target:"Object",stat:!0,forced:!Jl,sham:!Ql},{create:function(t,e){return void 0===e?du(t):ic(du(t),e)},defineProperty:nc,defineProperties:ic,getOwnPropertyDescriptor:oc}),ql({target:"Object",stat:!0,forced:!Jl},{getOwnPropertyNames:sc,getOwnPropertySymbols:ac}),ql({target:"Object",stat:!0,forced:Zl((function(){yu.f(1)}))},{getOwnPropertySymbols:function(t){return yu.f(au(t))}}),Vu){var lc=!Jl||Zl((function(){var t=zu();return"[null]"!=Vu([t])||"{}"!=Vu({a:t})||"{}"!=Vu(Object(t))}));ql({target:"JSON",stat:!0,forced:lc},{stringify:function(t,e,n){var i=_u(arguments),r=e;if((iu(e)||void 0!==t)&&!ou(t))return eu(e)||(e=function(t,e){if(nu(r)&&(e=Gl(r,this,t,e)),!ou(e))return e}),i[1]=e,$l(Vu,null,i)}})}if(!Lu[Fu]){var uc=Lu.valueOf;ku(Lu,Fu,(function(t){return Gl(uc,this)}))}Cu(zu,Mu),Su[Pu]=!0;var cc=G.Object.getOwnPropertySymbols,hc={exports:{}},dc=En,fc=s,pc=Y,vc=w.f,yc=_,gc=fc((function(){vc(1)}));dc({target:"Object",stat:!0,forced:!yc||gc,sham:!yc},{getOwnPropertyDescriptor:function(t,e){return vc(pc(t),e)}});var mc=G.Object,bc=hc.exports=function(t,e){return mc.getOwnPropertyDescriptor(t,e)};mc.getOwnPropertyDescriptor.sham&&(bc.sham=!0);var wc=hc.exports,_c=wc,kc=tt,xc=al,Sc=Zn,Ec=Je,Oc=m([].concat),Tc=kc("Reflect","ownKeys")||function(t){var e=xc.f(Ec(t)),n=Sc.f;return n?Oc(e,n(t)):e},Ic=Tc,Cc=Y,Ac=w,Dc=ua;En({target:"Object",stat:!0,sham:!_},{getOwnPropertyDescriptors:function(t){for(var e,n,i=Cc(t),r=Ac.f,o=Ic(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&Dc(s,e,n);return s}});var Pc=G.Object.getOwnPropertyDescriptors,Mc={exports:{}},Fc=En,Nc=_,Bc=Jr.f;Fc({target:"Object",stat:!0,forced:Object.defineProperties!==Bc,sham:!Nc},{defineProperties:Bc});var jc=G.Object,zc=Mc.exports=function(t,e){return jc.defineProperties(t,e)};jc.defineProperties.sham&&(zc.sham=!0);var Lc=Mc.exports,Rc={exports:{}},Uc=En,Vc=_,Hc=Ye.f;Uc({target:"Object",stat:!0,forced:Object.defineProperty!==Hc,sham:!Vc},{defineProperty:Hc});var Wc=G.Object,qc=Rc.exports=function(t,e,n){return Wc.defineProperty(t,e,n)};Wc.defineProperty.sham&&(qc.sham=!0);var Yc=Rc.exports,Xc=Yc;function $c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Gc=Yc;function Kc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Gc(t,i.key,i)}}function Qc(t,e,n){return e&&Kc(t.prototype,e),n&&Kc(t,n),Gc(t,"prototype",{writable:!1}),t}function Jc(t,e,n){return e in t?Gc(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}En({target:"Array",stat:!0},{isArray:sl});var Zc=G.Array.isArray,th=Zc,eh=s,nh=ut,ih=se("species"),rh=function(t){return nh>=51||!eh((function(){var e=[];return(e.constructor={})[ih]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},oh=En,sh=o,ah=s,lh=sl,uh=$,ch=Ut,hh=Bn,dh=ua,fh=Bl,ph=rh,vh=ut,yh=se("isConcatSpreadable"),gh=9007199254740991,mh="Maximum allowed index exceeded",bh=sh.TypeError,wh=vh>=51||!ah((function(){var t=[];return t[yh]=!1,t.concat()[0]!==t})),_h=ph("concat"),kh=function(t){if(!uh(t))return!1;var e=t[yh];return void 0!==e?!!e:lh(t)};oh({target:"Array",proto:!0,forced:!wh||!_h},{concat:function(t){var e,n,i,r,o,s=ch(this),a=fh(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(kh(o=-1===e?s:arguments[e])){if(l+(r=hh(o))>gh)throw bh(mh);for(n=0;n<r;n++,l++)n in o&&dh(a,l,o[n])}else{if(l>=gh)throw bh(mh);dh(a,l++,o)}return a.length=l,a}}),Il("asyncIterator"),Il("hasInstance"),Il("isConcatSpreadable"),Il("iterator"),Il("match"),Il("matchAll"),Il("replace"),Il("search"),Il("species"),Il("split"),Il("toPrimitive"),Il("toStringTag"),Il("unscopables"),Jo(o.JSON,"JSON",!0);var xh=G.Symbol,Sh=xh;Il("asyncDispose"),Il("dispose"),Il("matcher"),Il("metadata"),Il("observable"),Il("patternMatch"),Il("replaceAll");var Eh=Sh,Oh=En,Th=o,Ih=sl,Ch=oa,Ah=$,Dh=Pn,Ph=Bn,Mh=Y,Fh=ua,Nh=se,Bh=vi,jh=rh("slice"),zh=Nh("species"),Lh=Th.Array,Rh=Math.max;Oh({target:"Array",proto:!0,forced:!jh},{slice:function(t,e){var n,i,r,o=Mh(this),s=Ph(o),a=Dh(t,s),l=Dh(void 0===e?s:e,s);if(Ih(o)&&(n=o.constructor,(Ch(n)&&(n===Lh||Ih(n.prototype))||Ah(n)&&null===(n=n[zh]))&&(n=void 0),n===Lh||void 0===n))return Bh(o,a,l);for(i=new(void 0===n?Lh:n)(Rh(l-a,0)),r=0;a<l;a++,r++)a in o&&Fh(i,r,o[a]);return i.length=r,i}});var Uh=Ai("Array").slice,Vh=et,Hh=Uh,Wh=Array.prototype,qh=function(t){var e=t.slice;return t===Wh||Vh(Wh,t)&&e===Wh.slice?Hh:e},Yh=qh,Xh=Yh,$h=La;function Gh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Kh(t,e){var n;if(t){if("string"==typeof t)return Gh(t,e);var i=Xh(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?$h(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Gh(t,e):void 0}}function Qh(t,e){return function(t){if(th(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==Eh&&rl(t)||t["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(t){a=!0,r=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,e)||Kh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jh=kl.f("iterator");function Zh(t){return Zh="function"==typeof Eh&&"symbol"==typeof Jh?function(t){return typeof t}:function(t){return t&&"function"==typeof Eh&&t.constructor===Eh&&t!==Eh.prototype?"symbol":typeof t},Zh(t)}function td(t){return function(t){if(th(t))return Gh(t)}(t)||function(t){if(void 0!==Eh&&null!=rl(t)||null!=t["@@iterator"])return $h(t)}(t)||Kh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ed=xh,nd=Ai("Array").concat,id=et,rd=nd,od=Array.prototype,sd=function(t){var e=t.concat;return t===od||id(od,t)&&e===od.concat?rd:e},ad=sd,ld=Yh;En({target:"Reflect",stat:!0},{ownKeys:Tc}),G.Reflect.ownKeys;var ud=Zc,cd=Wl.map;En({target:"Array",proto:!0,forced:!rh("map")},{map:function(t){return cd(this,t,arguments.length>1?arguments[1]:void 0)}});var hd=Ai("Array").map,dd=et,fd=hd,pd=Array.prototype,vd=function(t){var e=t.map;return t===pd||dd(pd,t)&&e===pd.map?fd:e},yd=vd,gd=Ut,md=Jn;En({target:"Object",stat:!0,forced:s((function(){md(1)}))},{keys:function(t){return md(gd(t))}});var bd=G.Object.keys,wd=En,_d=m,kd=o.Date,xd=_d(kd.prototype.getTime);wd({target:"Date",stat:!0},{now:function(){return xd(new kd)}});var Sd=G.Date.now,Ed=s,Od=function(t,e){var n=[][t];return!!n&&Ed((function(){n.call(null,e||function(){return 1},1)}))},Td=Wl.forEach,Id=Od("forEach")?[].forEach:function(t){return Td(this,t,arguments.length>1?arguments[1]:void 0)};En({target:"Array",proto:!0,forced:[].forEach!=Id},{forEach:Id});var Cd=Ai("Array").forEach,Ad=tr,Dd=Wt,Pd=et,Md=Cd,Fd=Array.prototype,Nd={DOMTokenList:!0,NodeList:!0},Bd=function(t){var e=t.forEach;return t===Fd||Pd(Fd,t)&&e===Fd.forEach||Dd(Nd,Ad(t))?Md:e},jd=En,zd=sl,Ld=m([].reverse),Rd=[1,2];jd({target:"Array",proto:!0,forced:String(Rd)===String(Rd.reverse())},{reverse:function(){return zd(this)&&(this.length=this.length),Ld(this)}});var Ud=Ai("Array").reverse,Vd=et,Hd=Ud,Wd=Array.prototype,qd=function(t){var e=t.reverse;return t===Wd||Vd(Wd,t)&&e===Wd.reverse?Hd:e},Yd=qd,Xd=En,$d=o,Gd=Pn,Kd=In,Qd=Bn,Jd=Ut,Zd=Bl,tf=ua,ef=rh("splice"),nf=$d.TypeError,rf=Math.max,of=Math.min,sf=9007199254740991,af="Maximum allowed length exceeded";Xd({target:"Array",proto:!0,forced:!ef},{splice:function(t,e){var n,i,r,o,s,a,l=Jd(this),u=Qd(l),c=Gd(t,u),h=arguments.length;if(0===h?n=i=0:1===h?(n=0,i=u-c):(n=h-2,i=of(rf(Kd(e),0),u-c)),u+n-i>sf)throw nf(af);for(r=Zd(l,i),o=0;o<i;o++)(s=c+o)in l&&tf(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var lf=Ai("Array").splice,uf=et,cf=lf,hf=Array.prototype,df=function(t){var e=t.splice;return t===hf||uf(hf,t)&&e===hf.splice?cf:e},ff=df,pf=Un.includes;En({target:"Array",proto:!0},{includes:function(t){return pf(this,t,arguments.length>1?arguments[1]:void 0)}});var vf=Ai("Array").includes,yf=$,gf=N,mf=se("match"),bf=function(t){var e;return yf(t)&&(void 0!==(e=t[mf])?!!e:"RegExp"==gf(t))},wf=o.TypeError,_f=se("match"),kf=En,xf=function(t){if(bf(t))throw wf("The method doesn't accept regular expressions");return t},Sf=H,Ef=ir,Of=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[_f]=!1,"/./"[t](e)}catch(t){}}return!1},Tf=m("".indexOf);kf({target:"String",proto:!0,forced:!Of("includes")},{includes:function(t){return!!~Tf(Ef(Sf(this)),Ef(xf(t)),arguments.length>1?arguments[1]:void 0)}});var If=Ai("String").includes,Cf=et,Af=vf,Df=If,Pf=Array.prototype,Mf=String.prototype,Ff=function(t){var e=t.includes;return t===Pf||Cf(Pf,t)&&e===Pf.includes?Af:"string"==typeof t||t===Mf||Cf(Mf,t)&&e===Mf.includes?Df:e},Nf=Ff,Bf=Ut,jf=Po,zf=xo;En({target:"Object",stat:!0,forced:s((function(){jf(1)})),sham:!zf},{getPrototypeOf:function(t){return jf(Bf(t))}});var Lf=G.Object.getPrototypeOf,Rf=Lf,Uf=Wl.filter;En({target:"Array",proto:!0,forced:!rh("filter")},{filter:function(t){return Uf(this,t,arguments.length>1?arguments[1]:void 0)}});var Vf=Ai("Array").filter,Hf=et,Wf=Vf,qf=Array.prototype,Yf=function(t){var e=t.filter;return t===qf||Hf(qf,t)&&e===qf.filter?Wf:e},Xf=Yf,$f=_,Gf=m,Kf=Jn,Qf=Y,Jf=Gf(E.f),Zf=Gf([].push),tp=function(t){return function(e){for(var n,i=Qf(e),r=Kf(i),o=r.length,s=0,a=[];o>s;)n=r[s++],$f&&!Jf(i,n)||Zf(a,t?[n,i[n]]:i[n]);return a}},ep=(tp(!0),tp(!1));En({target:"Object",stat:!0},{values:function(t){return ep(t)}}),G.Object.values;var np="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",ip=H,rp=ir,op=m("".replace),sp="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",ap=RegExp("^"+sp+sp+"*"),lp=RegExp(sp+sp+"*$"),up=function(t){return function(e){var n=rp(ip(e));return 1&t&&(n=op(n,ap,"")),2&t&&(n=op(n,lp,"")),n}},cp={start:up(1),end:up(2),trim:up(3)},hp=o,dp=s,fp=m,pp=ir,vp=cp.trim,yp=np,gp=hp.parseInt,mp=hp.Symbol,bp=mp&&mp.iterator,wp=/^[+-]?0x/i,_p=fp(wp.exec),kp=8!==gp(yp+"08")||22!==gp(yp+"0x16")||bp&&!dp((function(){gp(Object(bp))}))?function(t,e){var n=vp(pp(t));return gp(n,e>>>0||(_p(wp,n)?16:10))}:gp;En({global:!0,forced:parseInt!=kp},{parseInt:kp});var xp=G.parseInt,Sp=En,Ep=Un.indexOf,Op=Od,Tp=m([].indexOf),Ip=!!Tp&&1/Tp([1],1,-0)<0,Cp=Op("indexOf");Sp({target:"Array",proto:!0,forced:Ip||!Cp},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Ip?Tp(this,t,e)||0:Ep(this,t,e)}});var Ap=Ai("Array").indexOf,Dp=et,Pp=Ap,Mp=Array.prototype,Fp=function(t){var e=t.indexOf;return t===Mp||Dp(Mp,t)&&e===Mp.indexOf?Pp:e},Np=Fp,Bp=Qr.PROPER,jp=s,zp=np,Lp=cp.trim;En({target:"String",proto:!0,forced:function(t){return jp((function(){return!!zp[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||Bp&&zp[t].name!==t}))}("trim")},{trim:function(){return Lp(this)}}),Ai("String").trim,En({target:"Object",stat:!0,sham:!_},{create:ko});var Rp=G.Object,Up=function(t,e){return Rp.create(t,e)},Vp=Up,Hp=En,Wp=tt,qp=d,Yp=m,Xp=s,$p=o.Array,Gp=Wp("JSON","stringify"),Kp=Yp(/./.exec),Qp=Yp("".charAt),Jp=Yp("".charCodeAt),Zp=Yp("".replace),tv=Yp(1..toString),ev=/[\uD800-\uDFFF]/g,nv=/^[\uD800-\uDBFF]$/,iv=/^[\uDC00-\uDFFF]$/,rv=function(t,e,n){var i=Qp(n,e-1),r=Qp(n,e+1);return Kp(nv,t)&&!Kp(iv,r)||Kp(iv,t)&&!Kp(nv,i)?"\\u"+tv(Jp(t,0),16):t},ov=Xp((function(){return'"\\udf06\\ud834"'!==Gp("\udf06\ud834")||'"\\udead"'!==Gp("\udead")}));Gp&&Hp({target:"JSON",stat:!0,forced:ov},{stringify:function(t,e,n){for(var i=0,r=arguments.length,o=$p(r);i<r;i++)o[i]=arguments[i];var s=qp(Gp,null,o);return"string"==typeof s?Zp(s,ev,rv):s}});var sv=G,av=d;sv.JSON||(sv.JSON={stringify:JSON.stringify});var lv=function(t,e,n){return av(sv.JSON.stringify,null,arguments)},uv=lv,cv=o.TypeError,hv=En,dv=o,fv=d,pv=b,vv=vi,yv=function(t,e){if(t<e)throw cv("Not enough arguments");return t},gv=/MSIE .\./.test(nt),mv=dv.Function,bv=function(t){return function(e,n){var i=yv(arguments.length,1)>2,r=pv(e)?e:mv(e),o=i?vv(arguments,2):void 0;return t(i?function(){fv(r,this,o)}:r,n)}};hv({global:!0,bind:!0,forced:gv},{setTimeout:bv(dv.setTimeout),setInterval:bv(dv.setInterval)});var wv=G.setTimeout,_v=Ut,kv=Pn,xv=Bn,Sv=function(t){for(var e=_v(this),n=xv(e),i=arguments.length,r=kv(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:kv(o,n);s>r;)e[r++]=t;return e};En({target:"Array",proto:!0},{fill:Sv});var Ev,Ov=Ai("Array").fill,Tv=et,Iv=Ov,Cv=Array.prototype,Av=function(t){var e=t.fill;return t===Cv||Tv(Cv,t)&&e===Cv.fill?Iv:e},Dv=Av;function Pv(){return Pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pv.apply(this,arguments)}function Mv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Fv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Ev="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var Nv,Bv=Ev,jv=["","webkit","Moz","MS","ms","o"],zv="undefined"==typeof document?{style:{}}:document.createElement("div"),Lv=Math.round,Rv=Math.abs,Uv=Date.now;function Vv(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<jv.length;){if((i=(n=jv[o])?n+r:e)in t)return i;o++}}Nv="undefined"==typeof window?{}:window;var Hv=Vv(zv.style,"touchAction"),Wv=void 0!==Hv,qv="compute",Yv="auto",Xv="manipulation",$v="none",Gv="pan-x",Kv="pan-y",Qv=function(){if(!Wv)return!1;var t={},e=Nv.CSS&&Nv.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return t[n]=!e||Nv.CSS.supports("touch-action",n)})),t}(),Jv="ontouchstart"in Nv,Zv=void 0!==Vv(Nv,"PointerEvent"),ty=Jv&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ey="touch",ny="mouse",iy=16,ry=24,oy=["x","y"],sy=["clientX","clientY"];function ay(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function ly(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function uy(t,e){return t.indexOf(e)>-1}var cy=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===qv&&(t=this.compute()),Wv&&this.manager.element.style&&Qv[t]&&(this.manager.element.style[Hv]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return ay(this.manager.recognizers,(function(e){ly(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(uy(t,$v))return $v;var e=uy(t,Gv),n=uy(t,Kv);return e&&n?$v:e||n?e?Gv:Kv:uy(t,Xv)?Xv:Yv}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=uy(i,$v)&&!Qv.none,o=uy(i,Kv)&&!Qv["pan-y"],s=uy(i,Gv)&&!Qv["pan-x"];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&6&n||s&&n&ry?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function hy(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function dy(t){var e=t.length;if(1===e)return{x:Lv(t[0].clientX),y:Lv(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:Lv(n/e),y:Lv(i/e)}}function fy(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Lv(t.pointers[n].clientX),clientY:Lv(t.pointers[n].clientY)},n++;return{timeStamp:Uv(),pointers:e,center:dy(e),deltaX:t.deltaX,deltaY:t.deltaY}}function py(t,e,n){n||(n=oy);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function vy(t,e,n){n||(n=oy);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function yy(t,e){return t===e?1:Rv(t)>=Rv(e)?t<0?2:4:e<0?8:iy}function gy(t,e,n){return{x:e/t||0,y:n/t||0}}function my(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=fy(e)),r>1&&!n.firstMultiple?n.firstMultiple=fy(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=dy(i);e.timeStamp=Uv(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=vy(a,l),e.distance=py(a,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=yy(e.deltaX,e.deltaY);var u,c,h=gy(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=Rv(h.x)>Rv(h.y)?h.x:h.y,e.scale=s?(u=s.pointers,py((c=i)[0],c[1],sy)/py(u[0],u[1],sy)):1,e.rotation=s?function(t,e){return vy(e[1],e[0],sy)+vy(t[1],t[0],sy)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=gy(a,l,u);i=c.x,r=c.y,n=Rv(c.x)>Rv(c.y)?c.x:c.y,o=yy(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var d,f=t.element,p=e.srcEvent;hy(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}function by(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,s=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,my(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function wy(t){return t.trim().split(/\s+/g)}function _y(t,e,n){ay(wy(e),(function(e){t.addEventListener(e,n,!1)}))}function ky(t,e,n){ay(wy(e),(function(e){t.removeEventListener(e,n,!1)}))}function xy(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Sy=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){ly(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&_y(this.element,this.evEl,this.domHandler),this.evTarget&&_y(this.target,this.evTarget,this.domHandler),this.evWin&&_y(xy(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ky(this.element,this.evEl,this.domHandler),this.evTarget&&ky(this.target,this.evTarget,this.domHandler),this.evWin&&ky(xy(this.element),this.evWin,this.domHandler)},t}();function Ey(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var Oy={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Ty={2:ey,3:"pen",4:ny,5:"kinect"},Iy="pointerdown",Cy="pointermove pointerup pointercancel";Nv.MSPointerEvent&&!Nv.PointerEvent&&(Iy="MSPointerDown",Cy="MSPointerMove MSPointerUp MSPointerCancel");var Ay=function(t){function e(){var n,i=e.prototype;return i.evEl=Iy,i.evWin=Cy,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Mv(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Oy[i],o=Ty[t.pointerType]||t.pointerType,s=o===ey,a=Ey(e,t.pointerId,"pointerId");1&r&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&r&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},e}(Sy);function Dy(t){return Array.prototype.slice.call(t,0)}function Py(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];Ey(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}var My={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Fy="touchstart touchmove touchend touchcancel",Ny=function(t){function e(){var n;return e.prototype.evTarget=Fy,(n=t.apply(this,arguments)||this).targetIds={},n}return Mv(e,t),e.prototype.handler=function(t){var e=My[t.type],n=By.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ey,srcEvent:t})},e}(Sy);function By(t,e){var n,i,r=Dy(t.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Dy(t.changedTouches),a=[],l=this.target;if(i=r.filter((function(t){return hy(t.target,l)})),1===e)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&e&&delete o[s[n].identifier],n++;return a.length?[Py(i.concat(a),"identifier",!0),a]:void 0}var jy={mousedown:1,mousemove:2,mouseup:4},zy="mousedown",Ly="mousemove mouseup",Ry=function(t){function e(){var n,i=e.prototype;return i.evEl=zy,i.evWin=Ly,(n=t.apply(this,arguments)||this).pressed=!1,n}return Mv(e,t),e.prototype.handler=function(t){var e=jy[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ny,srcEvent:t}))},e}(Sy);function Uy(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function Vy(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,Uy.call(this,e)):12&t&&Uy.call(this,e)}function Hy(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var Wy=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r=n.pointerType===ey,o=n.pointerType===ny;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Vy.call(Fv(Fv(i)),e,n);else if(o&&Hy.call(Fv(Fv(i)),n))return;i.callback(t,e,n)}},i.touch=new Ny(i.manager,i.handler),i.mouse=new Ry(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return Mv(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Sy);function qy(t,e,n){return!!Array.isArray(t)&&(ay(t,n[e],n),!0)}var Yy=32,Xy=1;function $y(t,e){var n=e.manager;return n?n.get(t):t}function Gy(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Ky=function(){function t(t){void 0===t&&(t={}),this.options=Pv({enable:!0},t),this.id=Xy++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Bv(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(qy(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=$y(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return qy(t,"dropRecognizeWith",this)||(t=$y(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(qy(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Ey(e,t=$y(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(qy(t,"dropRequireFailure",this))return this;t=$y(t,this);var e=Ey(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+Gy(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+Gy(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Yy},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Bv({},t);if(!ly(this.options.enable,[this,e]))return this.reset(),void(this.state=Yy);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Qy=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Pv({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Mv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Xv]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime<n.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<n.interval,a=!this.pCenter||py(this.pCenter,t.center)<n.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.interval),2):8}return Yy},n.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Yy}),this.options.interval),Yy},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ky),Jy=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Pv({pointers:1},e))||this}Mv(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:Yy},e}(Ky);function Zy(t){return t===iy?"down":8===t?"up":2===t?"left":4===t?"right":""}var tg=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Pv({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,n.pY=null,n}Mv(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push(Kv),t&ry&&e.push(Gv),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:iy,n=s!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return Jy.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=Zy(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(Jy),eg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Pv({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}Mv(e,t);var n=e.prototype;return n.getTouchAction=function(){return tg.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return 30&i?n=e.overallVelocity:6&i?n=e.overallVelocityX:i&ry&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Rv(n)>this.options.velocity&&4&e.eventType},n.emit=function(t){var e=Zy(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Jy),ng=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Pv({event:"pinch",threshold:0,pointers:2},e))||this}Mv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[$v]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},n.emit=function(e){if(1!==e.scale){var n=e.scale<1?"in":"out";e.additionalEvent=this.options.event+n}t.prototype.emit.call(this,e)},e}(Jy),ig=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Pv({event:"rotate",threshold:0,pointers:2},e))||this}Mv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[$v]},n.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(Jy),rg=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,Pv({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,n._input=null,n}Mv(e,t);var n=e.prototype;return n.getTouchAction=function(){return[Yv]},n.process=function(t){var e=this,n=this.options,i=t.pointers.length===n.pointers,r=t.distance<n.threshold,o=t.deltaTime>n.time;if(this._input=t,!r||!i||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),n.time);else if(4&t.eventType)return 8;return Yy},n.reset=function(){clearTimeout(this._timer)},n.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Uv(),this.manager.emit(this.options.event,this._input)))},e}(Ky),og={domEvents:!1,touchAction:qv,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},sg=[[ig,{enable:!1}],[ng,{enable:!1},["rotate"]],[eg,{direction:6}],[tg,{direction:6},["swipe"]],[Qy],[Qy,{event:"doubletap",taps:2},["tap"]],[rg]];function ag(t,e){var n,i=t.element;i.style&&(ay(t.options.cssProps,(function(r,o){n=Vv(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}var lg=function(){function t(t,e){var n,i=this;this.options=Bv({},og,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(Zv?Ay:ty?Ny:Jv?Wy:Ry))(n,by),this.touchAction=new cy(this,this.options.touchAction),ag(this,!0),ay(this.options.recognizers,(function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Bv(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof Ky)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(qy(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(qy(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=Ey(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return ay(wy(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return ay(wy(t),(function(t){e?n[t]&&n[t].splice(Ey(n[t],e),1):delete n[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&ag(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),ug={touchstart:1,touchmove:2,touchend:4,touchcancel:8},cg="touchstart",hg="touchstart touchmove touchend touchcancel",dg=function(t){function e(){var n,i=e.prototype;return i.evTarget=cg,i.evWin=hg,(n=t.apply(this,arguments)||this).started=!1,n}return Mv(e,t),e.prototype.handler=function(t){var e=ug[t.type];if(1===e&&(this.started=!0),this.started){var n=fg.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ey,srcEvent:t})}},e}(Sy);function fg(t,e){var n=Dy(t.touches),i=Dy(t.changedTouches);return 12&e&&(n=Py(n.concat(i),"identifier",!0)),[n,i]}function pg(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var vg=pg((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),yg=pg((function(t,e){return vg(t,e,!0)}),"merge","Use `assign`.");function gg(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&Bv(i,n)}function mg(t,e){return function(){return t.apply(e,arguments)}}var bg=function(){var t=function(t,e){return void 0===e&&(e={}),new lg(t,Pv({recognizers:sg.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=iy,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=ry,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=iy,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Yy,t.Manager=lg,t.Input=Sy,t.TouchAction=cy,t.TouchInput=Ny,t.MouseInput=Ry,t.PointerEventInput=Ay,t.TouchMouseInput=Wy,t.SingleTouchInput=dg,t.Recognizer=Ky,t.AttrRecognizer=Jy,t.Tap=Qy,t.Pan=tg,t.Swipe=eg,t.Pinch=ng,t.Rotate=ig,t.Press=rg,t.on=_y,t.off=ky,t.each=ay,t.merge=yg,t.extend=vg,t.bindFn=mg,t.assign=Bv,t.inherit=gg,t.bindFn=mg,t.prefixed=Vv,t.toArray=Dy,t.inArray=Ey,t.uniqueArray=Py,t.splitStr=wy,t.boolOrFn=ly,t.hasParent=hy,t.addEventListeners=_y,t.removeEventListeners=ky,t.defaults=Bv({},og,{preset:sg}),t}(),wg=bg;function _g(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return kg(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function kg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function xg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Sg(e.length?e:[Sd()])}function Sg(t){var e=function(){for(var t=Eg(),e=t(" "),n=t(" "),i=t(" "),r=0;r<arguments.length;r++)(e-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(e+=1),(n-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1),(i-=t(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1);return[e,n,i]}(t),n=Qh(e,3),i=n[0],r=n[1],o=n[2],s=1,a=function(){var t=2091639*i+2.3283064365386963e-10*s;return i=r,r=o,o=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}function Eg(){var t=4022871197;return function(e){for(var n=e.toString(),i=0;i<n.length;i++){var r=.02519603282416938*(t+=n.charCodeAt(i));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}ed("DELETE");var Og="undefined"!=typeof window?window.Hammer||wg:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Tg(t){var e,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=Og(this._dom.overlay);i.on("tap",Bi(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Bd(r).call(r,(function(t){i.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&n.deactivate()}}Wi(Tg.prototype),Tg.current=null,Tg.prototype.destroy=function(){var t,e;this.deactivate();var n,i=_g(Yd(t=ff(e=this._cleanupQueue).call(e,0)).call(t));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(t){i.e(t)}finally{i.f()}},Tg.prototype.activate=function(){Tg.current&&Tg.current.deactivate(),Tg.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Tg.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Tg.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Ig=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Cg=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ag=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Dg=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Pg(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(Pg(e),t.removeChild(e))}}function Mg(t){return t instanceof String||"string"==typeof t}function Fg(t){return"object"===Zh(t)&&null!==t}function Ng(t,e,n,i){var r=!1;!0===i&&(r=null===e[n]&&void 0!==t[n]),r?delete t[n]:t[n]=e[n]}function Bg(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in t)if(void 0!==e[i])if(null===e[i]||"object"!==Zh(e[i]))Ng(t,e,i,n);else{var r=t[i],o=e[i];Fg(r)&&Fg(o)&&Bg(r,o,n)}}function jg(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ud(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var o=t[r];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?Lg(e[o],n[o],!1,i):Ng(e,n,o,i);else{if(ud(n[o]))throw new TypeError("Arrays are not supported by deepExtend");Ng(e,n,o,i)}}return e}function zg(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ud(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&!Nf(t).call(t,r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Lg(e[r],n[r]):Ng(e,n,r,i);else if(ud(n[r])){e[r]=[];for(var o=0;o<n[r].length;o++)e[r].push(n[r][o])}else Ng(e,n,r,i);return e}function Lg(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===n)if("object"===Zh(e[r])&&null!==e[r]&&Rf(e[r])===Object.prototype)void 0===t[r]?t[r]=Lg({},e[r],n):"object"===Zh(t[r])&&null!==t[r]&&Rf(t[r])===Object.prototype?Lg(t[r],e[r],n):Ng(t,e,r,i);else if(ud(e[r])){var o;t[r]=ld(o=e[r]).call(o)}else Ng(t,e,r,i);return t}function Rg(t,e){var n;return ad(n=[]).call(n,td(t),[e])}function Ug(t){return ld(t).call(t)}function Vg(t){return t.getBoundingClientRect().top}function Hg(t,e){if(ud(t))for(var n=t.length,i=0;i<n;i++)e(t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function Wg(t){var e;switch(t.length){case 3:case 4:return(e=Cg.exec(t))?{r:xp(e[1]+e[1],16),g:xp(e[2]+e[2],16),b:xp(e[3]+e[3],16)}:null;case 6:case 7:return(e=Ig.exec(t))?{r:xp(e[1],16),g:xp(e[2],16),b:xp(e[3],16)}:null;default:return null}}function qg(t,e){if(Nf(t).call(t,"rgba"))return t;if(Nf(t).call(t,"rgb")){var n=t.substr(Np(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+e+")"}var i=Wg(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}function Yg(t,e,n){var i;return"#"+ld(i=((1<<24)+(t<<16)+(e<<8)+n).toString(16)).call(i,1)}function Xg(t,e){if(Mg(t)){var n=t;if(Jg(n)){var i,r=yd(i=n.substr(4).substr(0,n.length-5).split(",")).call(i,(function(t){return xp(t)}));n=Yg(r[0],r[1],r[2])}if(!0===Qg(n)){var o=function(t){var e=Wg(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return $g(e.r,e.g,e.b)}(n),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},l=Kg(a.h,a.s,a.v),u=Kg(s.h,s.s,s.v);return{background:n,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:Mg(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Mg(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Mg(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Mg(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function $g(t,e,n){t/=255,e/=255,n/=255;var i=Math.min(t,Math.min(e,n)),r=Math.max(t,Math.max(e,n));return i===r?{h:0,s:0,v:i}:{h:60*((t===i?3:n===i?1:5)-(t===i?e-n:n===i?t-e:n-t)/(r-i))/360,s:(r-i)/r,v:r}}function Gg(t,e,n){var i,r,o,s=Math.floor(6*t),a=6*t-s,l=n*(1-e),u=n*(1-a*e),c=n*(1-(1-a)*e);switch(s%6){case 0:i=n,r=c,o=l;break;case 1:i=u,r=n,o=l;break;case 2:i=l,r=n,o=c;break;case 3:i=l,r=u,o=n;break;case 4:i=c,r=l,o=n;break;case 5:i=n,r=l,o=u}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function Kg(t,e,n){var i=Gg(t,e,n);return Yg(i.r,i.g,i.b)}function Qg(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function Jg(t){return Ag.test(t)}function Zg(t){return Dg.test(t)}function tm(t){if(null===t||"object"!==Zh(t))return null;if(t instanceof Element)return t;var e=Vp(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&"object"==Zh(t[n])&&(e[n]=tm(t[n]));return e}function em(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},o=function(t){return null!==t&&"object"===Zh(t)},s=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var a=function(t,e,n){o(t[n])||(t[n]={});var i=e[n],r=t[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},l=e[n],u=o(i)&&!s(i)?i[n]:void 0,c=u?u.enabled:void 0;if(void 0!==l){if("boolean"==typeof l)return o(t[n])||(t[n]={}),void(t[n].enabled=l);if(null===l&&!o(t[n])){if(!r(u))return;t[n]=Vp(u)}if(o(l)){var h=!0;void 0!==l.enabled?h=l.enabled:void 0!==c&&(h=u.enabled),a(t,e,n),t[n].enabled=h}}}var nm={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function im(t,e){var n;ud(e)||(e=[e]);var i,r=_g(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){n=o[e[0]];for(var s=1;s<e.length;s++)n&&(n=n[e[s]]);if(void 0!==n)break}}}catch(t){r.e(t)}finally{r.f()}return n}var rm={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},om=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;$c(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Qc(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return rm[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n,i=this._isColorString(t);if(void 0!==i&&(t=i),!0===Mg(t)){if(!0===Jg(t)){var r=t.substr(4).substr(0,t.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===Zg(t)){var o=t.substr(5).substr(0,t.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===Qg(t)){var s=Wg(t);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:a}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+uv(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=pi({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",wv((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=pi({},t)),this.color=t;var e=$g(t.r,t.g,t.b),n=2*Math.PI,i=this.r*e.s,r=this.centerCoordinates.x+i*Math.sin(n*e.h),o=this.centerCoordinates.y+i*Math.cos(n*e.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=$g(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=Gg(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=$g(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Dv(n).call(n),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Bi(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Bi(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Bi(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Bi(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Og(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,n,i,r,o=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,o,s),this.centerCoordinates={x:.5*o,y:.5*s},this.r=.49*o;var a,l=2*Math.PI/360,u=1/this.r;for(i=0;i<360;i++)for(r=0;r<this.r;r++)e=this.centerCoordinates.x+r*Math.sin(l*i),n=this.centerCoordinates.y+r*Math.cos(l*i),a=Gg(.002777777777777778*i,r*u,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,o,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=t.center.x-e.left,i=t.center.y-e.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,s=n-o,a=i-r,l=Math.atan2(s,a),u=.98*Math.min(Math.sqrt(s*s+a*a),o),c=Math.cos(l)*u+r,h=Math.sin(l)*u+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var d=l/(2*Math.PI);d=d<0?d+1:d;var f=u/this.r,p=$g(this.color.r,this.color.g,this.color.b);p.h=d,p.s=f;var v=Gg(p.h,p.s,p.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function sm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var i=document.createElement(e[0]);return i.appendChild(sm.apply(void 0,td(ld(e).call(e,1)))),i}var am,lm=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};$c(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},pi(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new om(r),this.wrapper=void 0}return Qc(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(ud(t))this.options.filter=t.join();else if("object"===Zh(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==Xf(t)&&(this.options.filter=Xf(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===Xf(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=Xf(this.options),e=0,n=!1;for(var i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,"function"==typeof t?n=(n=t(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==t&&-1===Np(t).call(t,i)||(n=!0),!1!==n&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Bd(i).call(i,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===n){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(sm("i","b",t))}else i.innerText=t+":";return i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==e&&-1!==Np(t).call(t,e)&&(r=Np(t).call(t,e));for(var o=0;o<t.length;o++){var s=document.createElement("option");s.value=t[o],o===r&&(s.selected="selected"),s.innerText=t[o],i.appendChild(s)}var a=this;i.onchange=function(){a._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(t,e,n){var i=t[0],r=t[1],o=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=r,a.max=o}catch(t){}a.step=s;var l="",u=0;if(void 0!==e){var c=1.2;e<0&&e*c<r?(a.min=Math.ceil(e*c),u=a.min,l="range increased"):e/c<r&&(a.min=Math.ceil(e/c),u=a.min,l="range increased"),e*c>o&&1!==o&&(a.max=Math.ceil(e*c),u=a.max,l="range increased"),a.value=e}else a.value=i;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=a.value;var d=this;a.onchange=function(){h.value=this.value,d._update(Number(this.value),n)},a.oninput=function(){h.value=this.value};var f=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,f,a,h);""!==l&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(l,p))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=wv((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=wv((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&(i.checked=e,e!==t&&("object"===Zh(t)?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,r=t[1],o=document.createElement("div");"none"!==(e=void 0===e?r:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,o.onclick=function(){i._showColorPicker(e,o,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,o)}},{key:"_showColorPicker",value:function(t,e,n){var i=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var r="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){i._showColorPicker(t,e,n)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=Xf(this.options),o=!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){i=!0;var a=t[s],l=Rg(e,s);if("function"==typeof r&&!1===(i=r(s,e))&&!ud(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,i=this._handleObject(a,l,!0),this.allowCreation=!1===n),!1!==i){o=!0;var u=this._getValue(l);if(ud(a))this._handleArray(a,u,l);else if("string"==typeof a)this._makeTextInput(a,u,l);else if("boolean"==typeof a)this._makeCheckbox(a,u,l);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){var c=Rg(l,"enabled"),h=this._getValue(c);if(!0===h){var d=this._makeLabel(s,l,!0);this._makeItem(l,d),o=this._handleObject(a,l)||o}else this._makeCheckbox(a,h,l)}else{var f=this._makeLabel(s,l,!0);this._makeItem(l,f),o=this._handleObject(a,l)||o}}else console.error("dont know how to handle",a,s,l)}}return o}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;t="false"!==(t="true"===t||t)&&t;for(var r=0;r<e.length;r++)"global"!==e[r]&&(void 0===i[e[r]]&&(i[e[r]]={}),r!==e.length-1?i=i[e[r]]:i[e[r]]=t);return n}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(sm("pre","const options = "+uv(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),um=function(){function t(e,n){$c(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Qc(t,[{key:"setPosition",value:function(t,e){this.x=xp(t),this.y=xp(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+n>r-this.padding&&(a=!0),o=a?this.x-n:this.x,s=l?this.y-e:this.y}else(s=this.y-e)+e+this.padding>i&&(s=i-e-this.padding),s<this.padding&&(s=this.padding),(o=this.x)+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),cm=!1,hm="background: #FFeeee; color: #dd0000",dm=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"validate",value:function(e,n,i){cm=!1,am=n;var r=n;return void 0!==i&&(r=n[i]),t.parse(e,r,[]),cm}},{key:"parse",value:function(e,n,i){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.check(r,e,n,i)}},{key:"check",value:function(e,n,i,r){if(void 0!==i[e]||void 0!==i.__any__){var o=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(o="__any__",s="object"===t.getType(n[e]));var a=i[o];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,n,i,o,a,r)}else t.getSuggestion(e,i,r)}},{key:"checkFields",value:function(e,n,i,r,o,s){var a=function(n){console.error("%c"+n+t.printLocation(s,e),hm)},l=t.getType(n[e]),u=o[l];void 0!==u?"array"===t.getType(u)&&-1===Np(u).call(u,n[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(u)+' not "'+n[e]+'". '),cm=!0):"object"===l&&"__any__"!==r&&(s=Rg(s,e),t.parse(n[e],i[r],s)):void 0===o.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(bd(o))+". Received ["+l+'] "'+n[e]+'"'),cm=!0)}},{key:"getType",value:function(t){var e=Zh(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":ud(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,n,i){var r,o=t.findInOptions(e,n,i,!1),s=t.findInOptions(e,am,[],!0);r=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(bd(n))+t.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+r,hm),cm=!0}},{key:"findInOptions",value:function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",a=[],l=e.toLowerCase(),u=void 0;for(var c in n){var h=void 0;if(void 0!==n[c].__type__&&!0===r){var d=t.findInOptions(e,n[c],Rg(i,c));o>d.distance&&(s=d.closestMatch,a=d.path,o=d.distance,u=d.indexMatch)}else{var f;-1!==Np(f=c.toLowerCase()).call(f,l)&&(u=c),o>(h=t.levenshteinDistance(e,c))&&(s=c,a=Ug(i),o=h)}}return{closestMatch:s,path:a,distance:o,indexMatch:u}}},{key:"printLocation",value:function(t,e){for(var n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",i=0;i<t.length;i++){for(var r=0;r<i+1;r++)n+="  ";n+=t[i]+": {\n"}for(var o=0;o<t.length+1;o++)n+="  ";n+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return uv(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i,r=[];for(n=0;n<=e.length;n++)r[n]=[n];for(i=0;i<=t.length;i++)r[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)e.charAt(n-1)==t.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[e.length][t.length]}}]),t}(),fm=Tg,pm=lm,vm=Og,ym=um,gm=hm,mm=dm;function bm(t){return Tm=t,function(){var t={};if(Im=0,Cm=Tm.charAt(0),Rm(),"strict"===Am&&(t.strict=!0,Rm()),"graph"!==Am&&"digraph"!==Am||(t.type=Am,Rm()),Dm===Sm&&(t.id=Am,Rm()),"{"!=Am)throw Ym("Angle bracket { expected");if(Rm(),Um(t),"}"!=Am)throw Ym("Angle bracket } expected");if(Rm(),""!==Am)throw Ym("End of file expected");return Rm(),delete t.node,delete t.edge,delete t.graph,t}()}var wm={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},_m=Vp(wm);_m.color="color.color",_m.style="dashes";var km=0,xm=1,Sm=2,Em=3,Om={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Tm="",Im=0,Cm="",Am="",Dm=km;function Pm(){Im++,Cm=Tm.charAt(Im)}function Mm(){return Tm.charAt(Im+1)}function Fm(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Nm(t,e){if(t||(t={}),e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Bm(t,e,n){for(var i=e.split("."),r=t;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function jm(t,e){for(var n,i,r=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(e.id===s.nodes[n].id){r=s.nodes[n];break}for(r||(r={id:e.id},t.node&&(r.attr=Nm(r.attr,t.node))),n=o.length-1;n>=0;n--){var a,l=o[n];l.nodes||(l.nodes=[]),-1===Np(a=l.nodes).call(a,r)&&l.nodes.push(r)}e.attr&&(r.attr=Nm(r.attr,e.attr))}function zm(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var n=Nm({},t.edge);e.attr=Nm(n,e.attr)}}function Lm(t,e,n,i,r){var o={from:e,to:n,type:i};return t.edge&&(o.attr=Nm({},t.edge)),o.attr=Nm(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function Rm(){for(Dm=km,Am="";" "===Cm||"\t"===Cm||"\n"===Cm||"\r"===Cm;)Pm();do{var t=!1;if("#"===Cm){for(var e=Im-1;" "===Tm.charAt(e)||"\t"===Tm.charAt(e);)e--;if("\n"===Tm.charAt(e)||""===Tm.charAt(e)){for(;""!=Cm&&"\n"!=Cm;)Pm();t=!0}}if("/"===Cm&&"/"===Mm()){for(;""!=Cm&&"\n"!=Cm;)Pm();t=!0}if("/"===Cm&&"*"===Mm()){for(;""!=Cm;){if("*"===Cm&&"/"===Mm()){Pm(),Pm();break}Pm()}t=!0}for(;" "===Cm||"\t"===Cm||"\n"===Cm||"\r"===Cm;)Pm()}while(t);if(""!==Cm){var n=Cm+Mm();if(Om[n])return Dm=xm,Am=n,Pm(),void Pm();if(Om[Cm])return Dm=xm,Am=Cm,void Pm();if(Fm(Cm)||"-"===Cm){for(Am+=Cm,Pm();Fm(Cm);)Am+=Cm,Pm();return"false"===Am?Am=!1:"true"===Am?Am=!0:isNaN(Number(Am))||(Am=Number(Am)),void(Dm=Sm)}if('"'===Cm){for(Pm();""!=Cm&&('"'!=Cm||'"'===Cm&&'"'===Mm());)'"'===Cm?(Am+=Cm,Pm()):"\\"===Cm&&"n"===Mm()?(Am+="\n",Pm()):Am+=Cm,Pm();if('"'!=Cm)throw Ym('End of string " expected');return Pm(),void(Dm=Sm)}for(Dm=Em;""!=Cm;)Am+=Cm,Pm();throw new SyntaxError('Syntax error in part "'+Xm(Am,30)+'"')}Dm=xm}function Um(t){for(;""!==Am&&"}"!=Am;)Vm(t),";"===Am&&Rm()}function Vm(t){var e=Hm(t);if(e)Wm(t,e);else{var n=function(t){return"node"===Am?(Rm(),t.node=qm(),"node"):"edge"===Am?(Rm(),t.edge=qm(),"edge"):"graph"===Am?(Rm(),t.graph=qm(),"graph"):null}(t);if(!n){if(Dm!=Sm)throw Ym("Identifier expected");var i=Am;if(Rm(),"="===Am){if(Rm(),Dm!=Sm)throw Ym("Identifier expected");t[i]=Am,Rm()}else!function(t,e){var n={id:e},i=qm();i&&(n.attr=i),jm(t,n),Wm(t,e)}(t,i)}}}function Hm(t){var e=null;if("subgraph"===Am&&((e={}).type="subgraph",Rm(),Dm===Sm&&(e.id=Am,Rm())),"{"===Am){if(Rm(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,Um(e),"}"!=Am)throw Ym("Angle bracket } expected");Rm(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Wm(t,e){for(;"->"===Am||"--"===Am;){var n,i=Am;Rm();var r=Hm(t);if(r)n=r;else{if(Dm!=Sm)throw Ym("Identifier or subgraph expected");jm(t,{id:n=Am}),Rm()}zm(t,Lm(t,e,n,i,qm())),e=n}}function qm(){for(var t,e,n=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===Am;){for(Rm(),n={};""!==Am&&"]"!=Am;){if(Dm!=Sm)throw Ym("Attribute name expected");var a=Am;if(Rm(),"="!=Am)throw Ym("Equal sign = expected");if(Rm(),Dm!=Sm)throw Ym("Attribute value expected");var l=Am;"style"===a&&(l=i[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:r[l]}}),o.push({attr:n,name:a,value:l}),s.push(a),Rm(),","==Am&&Rm()}if("]"!=Am)throw Ym("Bracket ] expected");Rm()}if(Nf(s).call(s,"dir")){var u={arrows:{}};for(t=0;t<o.length;t++)if("arrows"===o[t].name)if(null!=o[t].value.to)u.arrows.to=t;else{if(null==o[t].value.from)throw Ym("Invalid value of arrows");u.arrows.from=t}else"dir"===o[t].name&&(u.dir=t);var c,h,d=o[u.dir].value;if(!Nf(s).call(s,"arrows"))if("both"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1,o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else if("forward"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1;else if("back"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else{if("none"!==d)throw Ym('Invalid dir type "'+d+'"');o.push({attr:o[u.dir].attr,name:"arrows",value:""}),u.arrows.to=o.length-1}if("both"===d)u.arrows.to&&u.arrows.from?(h=o[u.arrows.to].value.to.type,c=o[u.arrows.from].value.from.type,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},ff(o).call(o,u.arrows.from,1)):u.arrows.to?(h=o[u.arrows.to].value.to.type,c="arrow",o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c=o[u.arrows.from].value.from.type,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if("back"===d)u.arrows.to&&u.arrows.from?(h="",c=o[u.arrows.from].value.from.type,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.to?(h="",c="arrow",u.arrows.from=u.arrows.to,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="",c=o[u.arrows.from].value.from.type,o[u.arrows.to]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{from:{enabled:!0,type:o[u.arrows.from].value.from.type}}};else if("none"===d){var f;o[f=u.arrows.to?u.arrows.to:u.arrows.from]={attr:o[f].attr,name:o[f].name,value:""}}else{if("forward"!==d)throw Ym('Invalid dir type "'+d+'"');u.arrows.to&&u.arrows.from||u.arrows.to?(h=o[u.arrows.to].value.to.type,c="",o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):u.arrows.from&&(h="arrow",c="",u.arrows.to=u.arrows.from,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:o[u.arrows.to].value.to.type}}}}ff(o).call(o,u.dir,1)}if(Nf(s).call(s,"penwidth")){var p=[];for(e=o.length,t=0;t<e;t++)"width"!==o[t].name&&("penwidth"===o[t].name&&(o[t].name="width"),p.push(o[t]));o=p}for(e=o.length,t=0;t<e;t++)Bm(o[t].attr,o[t].name,o[t].value);return n}function Ym(t){return new SyntaxError(t+', got "'+Xm(Am,30)+'" (char '+Im+")")}function Xm(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function $m(t,e,n){for(var i=e.split("."),r=i.pop(),o=t,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[r]=n,t}function Gm(t,e){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=e[i];ud(r)?Bd(r).call(r,(function(e){$m(n,e,t[i])})):$m(n,"string"==typeof r?r:i,t[i])}return n}function Km(t){var e,n=bm(t),i={nodes:[],edges:[],options:{}};if(n.nodes&&Bd(e=n.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};Nm(e,Gm(t.attr,wm)),e.image&&(e.shape="image"),i.nodes.push(e)})),n.edges){var r,o=function(t){var e={from:t.from,to:t.to};return Nm(e,Gm(t.attr,_m)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Bd(r=n.edges).call(r,(function(t){var e,n,r,s,a,l,u;e=t.from instanceof Object?t.from.nodes:{id:t.from},n=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&Bd(r=t.from.edges).call(r,(function(t){var e=o(t);i.edges.push(e)})),a=n,l=function(e,n){var r=Lm(i,e.id,n.id,t.type,t.attr),s=o(r);i.edges.push(s)},ud(s=e)?Bd(s).call(s,(function(t){ud(a)?Bd(a).call(a,(function(e){l(t,e)})):l(t,a)})):ud(a)?Bd(a).call(a,(function(t){l(s,t)})):l(s,a),t.to instanceof Object&&t.to.edges&&Bd(u=t.to.edges).call(u,(function(t){var e=o(t);i.edges.push(e)}))}))}return n.attr&&(i.options=n.attr),i}var Qm=Object.freeze({__proto__:null,parseDOT:bm,DOTToGraph:Km});function Jm(t,e){var n,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(i.nodes.fixed=e.fixed),null!=e.parseColor&&(i.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(i.edges.inheritColor=e.inheritColor));var r=t.edges,o=yd(r).call(r,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===i.edges.inheritColor&&(e.color=t.color),e}));return{nodes:yd(n=t.nodes).call(n,(function(t){var e={id:t.id,fixed:i.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===i.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:o}}var Zm=Object.freeze({__proto__:null,parseGephi:Jm}),tb=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),eb=function(){function t(){$c(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Qc(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var n=Math.floor(e/2),i=Math.floor(e/4),r=Math.floor(e/8),o=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),u=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=n,this.coordinates=[[0,0,s,n],[s,0,a,i],[s,i,l,r],[5*l,i,u,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(t,e,n,i,r,o){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,i,r,o)}else t.drawImage(this.image,n,i,r,o)}}]),t}(),nb=function(){function t(e){$c(this,t),this.images={},this.imageBroken={},this.callback=e}return Qc(t,[{key:"_tryloadBrokenUrl",value:function(t,e,n){void 0!==t&&void 0!==n&&(void 0!==e?(n.image.onerror=function(){console.error("Could not load brokenImage:",e)},n.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var n=this,i=this.images[t];if(i)return i;var r=new eb;return this.images[t]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",t),n._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),ib={exports:{}},rb=s((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),ob=s,sb=$,ab=N,lb=rb,ub=Object.isExtensible,cb=ob((function(){ub(1)}))||lb?function(t){return!!sb(t)&&(!lb||"ArrayBuffer"!=ab(t))&&(!ub||ub(t))}:ub,hb=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),db=En,fb=m,pb=Vn,vb=$,yb=Wt,gb=Ye.f,mb=al,bb=cl,wb=cb,_b=hb,kb=!1,xb=Gt("meta"),Sb=0,Eb=function(t){gb(t,xb,{value:{objectID:"O"+Sb++,weakData:{}}})},Ob=ib.exports={enable:function(){Ob.enable=function(){},kb=!0;var t=mb.f,e=fb([].splice),n={};n[xb]=1,t(n).length&&(mb.f=function(n){for(var i=t(n),r=0,o=i.length;r<o;r++)if(i[r]===xb){e(i,r,1);break}return i},db({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:bb.f}))},fastKey:function(t,e){if(!vb(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!yb(t,xb)){if(!wb(t))return"F";if(!e)return"E";Eb(t)}return t[xb].objectID},getWeakData:function(t,e){if(!yb(t,xb)){if(!wb(t))return!0;if(!e)return!1;Eb(t)}return t[xb].weakData},onFreeze:function(t){return _b&&kb&&wb(t)&&!yb(t,xb)&&Eb(t),t}};pb[xb]=!0;var Tb=qe,Ib=S,Cb=Je,Ab=_t,Db=qs,Pb=Bn,Mb=et,Fb=_a,Nb=pa,Bb=Ls,jb=o.TypeError,zb=function(t,e){this.stopped=t,this.result=e},Lb=zb.prototype,Rb=function(t,e,n){var i,r,o,s,a,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),p=Tb(e,c),v=function(t){return i&&Bb(i,"normal",t),new zb(!0,t)},y=function(t){return h?(Cb(t),f?p(t[0],t[1],v):p(t[0],t[1])):f?p(t,v):p(t)};if(d)i=t;else{if(!(r=Nb(t)))throw jb(Ab(t)+" is not iterable");if(Db(r)){for(o=0,s=Pb(t);s>o;o++)if((a=y(t[o]))&&Mb(Lb,a))return a;return new zb(!1)}i=Fb(t,r)}for(l=i.next;!(u=Ib(l,i)).done;){try{a=y(u.value)}catch(t){Bb(i,"throw",t)}if("object"==typeof a&&a&&Mb(Lb,a))return a}return new zb(!1)},Ub=et,Vb=o.TypeError,Hb=function(t,e){if(Ub(e,t))return t;throw Vb("Incorrect invocation")},Wb=En,qb=o,Yb=ib.exports,Xb=s,$b=fn,Gb=Rb,Kb=Hb,Qb=b,Jb=$,Zb=Jo,tw=Ye.f,ew=Wl.forEach,nw=_,iw=qr.set,rw=qr.getterFor,ow=function(t,e,n){var i,r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),s=r?"set":"add",a=qb[t],l=a&&a.prototype,u={};if(nw&&Qb(a)&&(o||l.forEach&&!Xb((function(){(new a).entries().next()})))){var c=(i=e((function(e,n){iw(Kb(e,c),{type:t,collection:new a}),null!=n&&Gb(n,e[s],{that:e,AS_ENTRIES:r})}))).prototype,h=rw(t);ew(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in l)||o&&"clear"==t||$b(c,t,(function(n,i){var r=h(this).collection;if(!e&&o&&!Jb(n))return"get"==t&&void 0;var s=r[t](0===n?0:n,i);return e?this:s}))})),o||tw(c,"size",{configurable:!0,get:function(){return h(this).collection.size}})}else i=n.getConstructor(e,t,r,s),Yb.enable();return Zb(i,t,!1,!0),u[t]=i,Wb({global:!0,forced:!0},u),o||n.setStrong(i,t,r),i},sw=Fo,aw=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:sw(t,i,e[i],n);return t},lw=tt,uw=Ye,cw=_,hw=se("species"),dw=Ye.f,fw=ko,pw=aw,vw=qe,yw=Hb,gw=Rb,mw=Is,bw=function(t){var e=lw(t),n=uw.f;cw&&e&&!e[hw]&&n(e,hw,{configurable:!0,get:function(){return this}})},ww=_,_w=ib.exports.fastKey,kw=qr.set,xw=qr.getterFor,Sw={getConstructor:function(t,e,n,i){var r=t((function(t,r){yw(t,o),kw(t,{type:e,index:fw(null),first:void 0,last:void 0,size:0}),ww||(t.size=0),null!=r&&gw(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=xw(e),a=function(t,e,n){var i,r,o=s(t),a=l(t,e);return a?a.value=n:(o.last=a={index:r=_w(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),ww?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},l=function(t,e){var n,i=s(t),r=_w(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return pw(o,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,ww?t.size=0:this.size=0},delete:function(t){var e=this,n=s(e),i=l(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),ww?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=s(this),i=vw(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),pw(o,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),ww&&dw(o,"size",{get:function(){return s(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=xw(e),o=xw(i);mw(t,e,(function(t,e){kw(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),bw(e)}};ow("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Sw);var Ew=G.Map,Ow=function(){function t(){$c(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},pi(this.options,this.defaultOptions)}return Qc(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&-1===Np(e).call(e,n)){var i=t[n];this.add(n,i)}}},{key:"clear",value:function(){this._groups=new Ew,this._groupNames=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._groups.get(t);if(void 0===n&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var i=this._groupIndex%this._groupNames.length;++this._groupIndex,(n={}).color=this._groups.get(this._groupNames[i]),this._groups.set(t,n)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(n={}).color=this._defaultGroups[r],this._groups.set(t,n)}return n}},{key:"add",value:function(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}]),t}();En({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Tw=G.Number.isNaN,Iw=o.isFinite,Cw=Number.isFinite||function(t){return"number"==typeof t&&Iw(t)};En({target:"Number",stat:!0},{isFinite:Cw});var Aw=G.Number.isFinite,Dw=Wl.some;En({target:"Array",proto:!0,forced:!Od("some")},{some:function(t){return Dw(this,t,arguments.length>1?arguments[1]:void 0)}});var Pw=Ai("Array").some,Mw=et,Fw=Pw,Nw=Array.prototype,Bw=function(t){var e=t.some;return t===Nw||Mw(Nw,t)&&e===Nw.some?Fw:e},jw=Bw,zw=o,Lw=s,Rw=ir,Uw=cp.trim,Vw=m("".charAt),Hw=zw.parseFloat,Ww=zw.Symbol,qw=Ww&&Ww.iterator,Yw=1/Hw("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0||qw&&!Lw((function(){Hw(Object(qw))}))?function(t){var e=Uw(Rw(t)),n=Hw(e);return 0===n&&"-"==Vw(e,0)?-0:n}:Hw;En({global:!0,forced:parseFloat!=Yw},{parseFloat:Yw});var Xw=G.parseFloat,$w=En,Gw=s,Kw=cl.f;$w({target:"Object",stat:!0,forced:Gw((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:Kw});var Qw=G.Object,Jw=function(t){return Qw.getOwnPropertyNames(t)},Zw=Jw;function t_(t,e){var n=["node","edge","label"],i=!0,r=im(e,"chosen");if("boolean"==typeof r)i=r;else if("object"===Zh(r)){if(-1===Np(n).call(n,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+n.join("', '")+"'");var o=im(e,["chosen",t]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function e_(t,e,n){if(t.width<=0||t.height<=0)return!1;if(void 0!==n){var i={x:e.x-n.x,y:e.y-n.y};if(0!==n.angle){var r=-n.angle;e={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else e=i}var o=t.x+t.width,s=t.y+t.width;return t.left<e.x&&o>e.x&&t.top<e.y&&s>e.y}function n_(t){return"string"==typeof t&&""!==t}function i_(t,e,n,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(t,e),a=Math.sin(e)*s,l=Math.cos(e)*s;l===s?(r+=s,o=i.y):a===s?(r=i.x,o-=s):(r+=l,o-=a)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-n):(r=i.x+n,o=i.y-.5*i.shape.height);return{x:r,y:o}}var r_=Ai("Array").values,o_=tr,s_=Wt,a_=et,l_=r_,u_=Array.prototype,c_={DOMTokenList:!0,NodeList:!0},h_=function(t){var e=t.values;return t===u_||a_(u_,t)&&e===u_.values||s_(c_,o_(t))?l_:e},d_=function(){function t(e){$c(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return Qc(t,[{key:"_add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var i=e;void 0!==e&&""!==e||(i=" ");var r=this.measureText(i,n),o=pi({},h_(r));o.text=e,o.width=r.width,o.mod=n,void 0!==e&&""!==e||(o.width=0),this.lines[t].blocks.push(o),this.lines[t].width+=o.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],n=0;if(void 0!==e.blocks)for(var i=0;i<e.blocks.length;i++){var r=e.blocks[i];n<r.height&&(n=r.height)}e.height=n}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>t&&(t=i.width),e+=i.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var n=this.lines[e];if(0!==n.blocks.length&&(e!==this.lines.length-1||0!==n.width)){var i={};pi(i,n),i.blocks=[];for(var r=void 0,o=[],s=0;s<n.blocks.length;s++){var a=n.blocks[s];0!==a.width?o.push(a):void 0===r&&(r=a)}0===o.length&&void 0!==r&&o.push(r),i.blocks=o,t.push(i)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),f_={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},p_=function(){function t(e){$c(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Qc(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e))&&(this.setTag(t),!0)}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Qh(this.prepareRegExp(t),2),i=n[0],r=n[1],o=i.test(this.text.substr(this.position,r));return o&&e&&(this.position+=r-1),o}},{key:"parseEndTag",value:function(t,e,n){var i=this.mod()===t;return!(!(i="mono"===t?i&&this.mono:i&&!this.mono)||!this.match(e))&&(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(t):this.unsetTag(t),!0)}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,n;if(t instanceof RegExp)n=t,e=1;else{var i=f_[t];n=void 0!==i?i:new RegExp(t),e=t.length}return[n,e]}}]),t}(),v_=function(){function t(e,n,i,r){var o=this;$c(this,t),this.ctx=e,this.parent=n,this.selected=i,this.hover=r,this.lines=new d_((function(t,n){if(void 0===t)return 0;var s=o.parent.getFormattingValues(e,i,r,n),a=0;return""!==t&&(a=o.ctx.measureText(t).width),{width:a,values:s}}))}return Qc(t,[{key:"process",value:function(t){if(!n_(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(t).split("\n"),i=n.length;if(e.multi)for(var r=0;r<i;r++){var o=this.splitBlocks(n[r],e.multi);if(void 0!==o)if(0!==o.length){if(e.maxWdt>0)for(var s=0;s<o.length;s++){var a=o[s].mod,l=o[s].text;this.splitStringIntoLines(l,a,!0)}else for(var u=0;u<o.length;u++){var c=o[u].mod,h=o[u].text;this.lines.append(h,c)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var d=0;d<i;d++)this.splitStringIntoLines(n[d]);else for(var f=0;f<i;f++)this.lines.newLine(n[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new p_(t),n=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var i=e.text.charAt(e.position);e.parseWS(i)||/</.test(i)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||n(i)||e.add(i),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,n=new p_(t),i=!0,r=function(t){return!!/\\/.test(t)&&(n.position<e.text.length+1&&(n.position++,t=e.text.charAt(n.position),/ \t/.test(t)?n.spacing=!0:(n.add(t),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(t,e){var n=this.decodeMarkupSystem(e);return"none"===n?[{text:t,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(t):"html"===n?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",n=0;n<t.length;){var i=e+(""===e?"":" ")+t[n];if(this.overMaxWidth(i))break;e=i,n++}return n}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(ld(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var i=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var r=this.getLongestFit(i);if(0===r){var o=i[0],s=this.getLongestFitWord(o);this.lines.newLine(ld(o).call(o,0,s),e),i[0]=ld(o).call(o,s)}else{var a=r;" "===i[r-1]?r--:" "===i[a]&&a++;var l=ld(i).call(i,0,r).join("");r==i.length&&n?this.lines.append(l,e):this.lines.newLine(l,e),i=ld(i).call(i,a)}}}}]),t}(),y_=["bold","ital","boldital","mono"],g_=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$c(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return Qc(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),n_(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===Zh(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var n=this;Hg(y_,(function(t){n.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Hg(e,(function(t,e){null!=t&&"object"!==Zh(t)&&(n.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=im(t,"widthConstraint");if("number"==typeof n)e.maxWdt=Number(n),e.minWdt=Number(n);else if("object"===Zh(n)){var i=im(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));var r=im(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var o=im(t,"heightConstraint");if("number"==typeof o)e.minHgt=Number(o);else if("object"===Zh(o)){var s=im(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));var a=im(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),Lg(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=t_("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var n=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(t,e){for(var n=0;n<e.length;++n)this.addFontToPile(t,e[n])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var n=e.font;t.push(n)}}},{key:"getBasicOptions",value:function(e){for(var n={},i=0;i<e.length;++i){var r=e[i],o={};t.parseFontString(o,r)&&(r=o),Hg(r,(function(t,e){void 0!==t&&(Object.prototype.hasOwnProperty.call(n,e)||(-1!==Np(y_).call(y_,e)?n[e]={}:n[e]=t))}))}return n}},{key:"getFontOption",value:function(e,n,i){for(var r,o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(s,n)){if(null==(r=s[n]))continue;var a={};if(t.parseFontString(a,r)&&(r=a),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(t,e){for(var n={},i=["color","size","face","mod","vadjust"],r=0;r<i.length;++r){var o=i[r];n[o]=this.getFontOption(t,e,o)}return n}},{key:"propagateFonts",value:function(t){var e=this,n=[];this.addFontOptionsToPile(n,t),this.fontOptions=this.getBasicOptions(n);for(var i=function(t){var i=y_[t],r=e.fontOptions[i];Hg(e.getFontOptions(n,i),(function(t,e){r[e]=t})),r.size=Number(r.size),r.vadjust=Number(r.vadjust)},r=0;r<y_.length;++r)i(r)}},{key:"draw",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,i,r,e,n,o),this._drawBackground(t),this._drawText(t,e,this.size.yLine,o,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=Qh(this._setAlignment(t,e,n,i),2);e=o[0],n=o[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var s=0;s<this.lineCount;s++){var a=this.lines[s];if(a&&a.blocks){var l=0;this.isEdgeLabel||"center"===this.fontOptions.align?l+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(l+=this.size.width-a.width);for(var u=0;u<a.blocks.length;u++){var c=a.blocks[u];t.font=c.font;var h=Qh(this._getColor(c.color,r,c.strokeColor),2),d=h[0],f=h[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=f,t.lineJoin="round"),t.fillStyle=d,c.strokeWidth>0&&t.strokeText(c.text,e+l,n+c.vadjust),t.fillText(c.text,e+l,n+c.vadjust),l+=c.width}n+=a.height}}}},{key:"_setAlignment",value:function(t,e,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,n=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",n+=4):t.textBaseline="middle"):t.textBaseline=i,[e,n]}},{key:"_getColor",value:function(t,e,n){var i=t||"#000000",r=n||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));i=qg(i,o),r=qg(r,o)}return[i,r]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=n,e=.5*-this.size.height;break;case"top":t=n,e=-(this.size.height+2);break;case"bottom":t=n,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,n,i){var r=function(t,e,n){return"normal"===e?"mod"===n?"":t[n]:void 0!==t[e][n]?t[e][n]:t[n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,e,n));var s="";return void 0!==o.mod&&""!==o.mod&&(s+=o.mod+" "),s+=o.size+"px "+o.face,t.font=s.replace(/"/g,""),o.font=t.font,o.height=o.size,o}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,n,i){return new v_(t,this,e,n).process(i)}},{key:"_processLabel",value:function(t,e,n){if(!1!==this.labelDirty||this.differentState(e,n)){var i=this._processLabelText(t,e,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=e,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var n=e.split(" ");return t.size=+n[0].replace("px",""),t.face=n[1],t.color=n[2],!0}}]),t}(),m_=oa,b_=_t,w_=o.TypeError,__=En,k_=d,x_=Ti,S_=function(t){if(m_(t))return t;throw w_(b_(t)+" is not a constructor")},E_=Je,O_=$,T_=ko,I_=s,C_=tt("Reflect","construct"),A_=Object.prototype,D_=[].push,P_=I_((function(){function t(){}return!(C_((function(){}),[],t)instanceof t)})),M_=!I_((function(){C_((function(){}))})),F_=P_||M_;__({target:"Reflect",stat:!0,forced:F_,sham:F_},{construct:function(t,e){S_(t),E_(e);var n=arguments.length<3?t:S_(arguments[2]);if(M_&&!P_)return C_(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return k_(D_,i,e),new(k_(x_,t,i))}var r=n.prototype,o=T_(O_(r)?r:A_),s=k_(t,o,e);return O_(s)?s:o}});var N_=G.Reflect.construct,B_=Up;En({target:"Object",stat:!0},{setPrototypeOf:fs});var j_=G.Object.setPrototypeOf;function z_(t,e){return z_=j_||function(t,e){return t.__proto__=e,t},z_(t,e)}function L_(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=B_(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Gc(t,"prototype",{writable:!1}),e&&z_(t,e)}function R_(t,e){if(e&&("object"===Zh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var U_=Lf;function V_(t){return V_=j_?U_:function(t){return t.__proto__||U_(t)},V_(t)}var H_=function(){function t(e,n,i){$c(this,t),this.body=n,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Qc(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==Zh(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var n=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var n=e.borderDashes;!0===n&&(n=[5,15]),t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,n),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.save(),n>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),Dv(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r)}},{key:"getDimensionsFromLabel",value:function(t,e,n){this.textSize=this.labelModule.getTextSize(t,e,n);var i=this.textSize.width,r=this.textSize.height;return 0===i&&(i=14,r=14),{width:i,height:r}}}]),t}();function W_(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var q_=function(t){L_(n,t);var e=W_(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return Qc(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),zi(t,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(t,e,n,i,r){this._updateBoundingBox(t,e,n,i,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}}]),n}(H_);function Y_(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var X_=function(t){L_(n,t);var e=Y_(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r)).labelOffset=0,o.selected=!1,o}return Qc(n,[{key:"setOptions",value:function(t,e,n){this.options=t,void 0===e&&void 0===n||this.setImages(e,n)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==Zh(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),t=2*this.options.size*n,e=2*this.options.size*i}else{var r=this._getImagePadding();t=this.imageObj.width+r.left+r.right,e=this.imageObj.height+r.top+r.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,n,i){this.initContextForDraw(t,i),ji(t,e,n,i.size),this.performFill(t,i)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding(),r=this.left+i.left,o=this.top+i.top,s=this.width-i.left-i.right,a=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(t,n,r,o,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,n,i,r){var o=0;if(void 0!==this.height){o=.5*this.height;var s=this.labelModule.getTextSize(t,i,r);s.lineCount>=1&&(o+=s.height/2)}var a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(t,e,a,i,r,"hanging")}}]),n}(H_);function $_(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var G_=function(t){L_(n,t);var e=$_(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return Qc(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),r=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,o),this.updateBoundingBox(e,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),n}(X_);function K_(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Q_=function(t){L_(n,t);var e=K_(n);function n(t,i,r,o,s){var a;return $c(this,n),(a=e.call(this,t,i,r)).setImages(o,s),a}return Qc(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){this.switchImages(i),this.resize();var s=e,a=n;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=n-this.height/2),this._drawRawCircle(t,s,a,o),t.save(),t.clip(),this._drawImageAtPosition(t,o),t.restore(),this._drawImageLabel(t,s,a,i,r),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),n}(X_);function J_(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Z_=function(t){L_(n,t);var e=J_(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,n)){var r,o;this.labelModule.getTextSize(t,e,n);var s=2*i.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:s,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,n,i,r,o,s,a){var l,u=this;return this.resize(t,o,s,a),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(t,a),(l=e,Object.prototype.hasOwnProperty.call(Vi,l)?Vi[l]:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[l].call(t,n)})(t,i,r,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,i,r)),{drawExternalLabel:function(){if(void 0!==u.options.label){u.labelModule.calculateLabelSize(t,o,s,i,r,"hanging");var e=r+.5*u.height+.5*u.labelModule.size.height;u.labelModule.draw(t,i,e,o,s,"hanging")}u.updateBoundingBox(i,r)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),n}(H_);function tk(t,e){var n=bd(t);if(cc){var i=cc(t);e&&(i=Xf(i).call(i,(function(e){return _c(t,e).enumerable}))),n.push.apply(n,i)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Bd(n=tk(Object(r),!0)).call(n,(function(e){Jc(t,e,r[e])})):Pc?Lc(t,Pc(r)):Bd(i=tk(Object(r))).call(i,(function(e){Xc(t,e,_c(r,e))}))}return t}function nk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var ik=function(t){L_(n,t);var e=nk(n);function n(t,i,r,o){var s;return $c(this,n),(s=e.call(this,t,i,r,o)).ctxRenderer=o,s}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r,o),this.left=e-this.width/2,this.top=n-this.height/2,t.save();var s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:n,state:{selected:i,hover:r},style:ek({},o),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){t.save(),a(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Z_);function rk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var ok=function(t){L_(n,t);var e=rk(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return Qc(n,[{key:"resize",value:function(t,e,n){if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,o),Ri(t,e-this.width/2,n-this.height/2,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(H_);function sk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var ak=function(t){L_(n,t);var e=sk(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"diamond",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Z_);function lk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var uk=function(t){L_(n,t);var e=lk(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"circle",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),this.options.size}}]),n}(Z_);function ck(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var hk=function(t){L_(n,t);var e=ck(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(t,o),Li(t,this.left,this.top,this.width,this.height),this.performFill(t,o),this.updateBoundingBox(e,n,t,i,r),this.labelModule.draw(t,e,n,i,r)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var n=.5*this.width,i=.5*this.height,r=Math.sin(e)*n,o=Math.cos(e)*i;return n*i/Math.sqrt(r*r+o*o)}}]),n}(H_);function dk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var fk=function(t){L_(n,t);var e=dk(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return Qc(n,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){var s=this;return this.resize(t,i,r),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=n-this.height/2,this._icon(t,e,n,i,r,o),{drawExternalLabel:function(){void 0!==s.options.label&&s.labelModule.draw(t,s.left+s.iconSize.width/2+s.margin.left,n+s.height/2+5,i),s.updateBoundingBox(e,n)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,n,i,r,o){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:i?"bold":"",(null!=this.options.icon.weight&&i?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,o),t.fillText(this.options.icon.code,e,n),this.disableShadow(t,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(H_);function pk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var vk=function(t){L_(n,t);var e=pk(n);function n(t,i,r,o,s){var a;return $c(this,n),(a=e.call(this,t,i,r)).setImages(o,s),a}return Qc(n,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,r,o){t.save(),this.switchImages(i),this.resize();var s=e,a=n;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=n,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=n-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var l=this.options.borderWidth,u=this.options.borderWidthSelected||2*this.options.borderWidth,c=(i?u:l)/this.body.view.scale;t.lineWidth=Math.min(this.width,c),t.beginPath();var h=i?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,d=i?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(h=qg(h,o.opacity),d=qg(d,o.opacity)),t.strokeStyle=h,t.fillStyle=d,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),Dv(t).call(t),this.performStroke(t,o),t.closePath()}this._drawImageAtPosition(t,o),this._drawImageLabel(t,s,a,i,r),this.updateBoundingBox(e,n),t.restore()}},{key:"updateBoundingBox",value:function(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(X_);function yk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var gk=function(t){L_(n,t);var e=yk(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"square",2,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Z_);function mk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var bk=function(t){L_(n,t);var e=mk(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"hexagon",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Z_);function wk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var _k=function(t){L_(n,t);var e=wk(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"star",4,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Z_);function kk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var xk=function(t){L_(n,t);var e=kk(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r))._setMargins(r),o}return Qc(n,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.textSize=this.labelModule.getTextSize(t,e,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,r,o){this.resize(t,i,r),this.left=e-this.width/2,this.top=n-this.height/2,this.enableShadow(t,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(t,o),this.updateBoundingBox(e,n,t,i,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(H_);function Sk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Ek=function(t){L_(n,t);var e=Sk(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"triangle",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Z_);function Ok(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Tk=function(t){L_(n,t);var e=Ok(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"draw",value:function(t,e,n,i,r,o){return this._drawShape(t,"triangleDown",3,e,n,i,r,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),n}(Z_);function Ik(t,e){var n=bd(t);if(cc){var i=cc(t);e&&(i=Xf(i).call(i,(function(e){return _c(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Bd(n=Ik(Object(r),!0)).call(n,(function(e){Jc(t,e,r[e])})):Pc?Lc(t,Pc(r)):Bd(i=Ik(Object(r))).call(i,(function(e){Xc(t,e,_c(r,e))}))}return t}var Ak=function(){function t(e,n,i,r,o,s){$c(this,t),this.options=tm(o),this.globalOptions=o,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new g_(this.body,this.options,!1),this.setOptions(e)}return Qc(t,[{key:"attachEdge",value:function(t){var e;-1===Np(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,n,i=Np(e=this.edges).call(e,t);-1!=i&&ff(n=this.edges).call(n,i,1)}},{key:"setOptions",value:function(e){var n=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=xp(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=xp(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=Xw(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=t_("node",i),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(n),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var e=this.options.opacity;t.borderColor=qg(t.borderColor,e),t.color=qg(t.color,e),t.shadowColor=qg(t.shadowColor,e)}return t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,Ck(Ck({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[e,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new q_(this.options,this.body,this.labelModule);break;case"circle":this.shape=new G_(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Q_(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new ik(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new ok(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new ak(this.options,this.body,this.labelModule);break;case"dot":this.shape=new uk(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new hk(this.options,this.body,this.labelModule);break;case"icon":this.shape=new fk(this.options,this.body,this.labelModule);break;case"image":this.shape=new vk(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new gk(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new bk(this.options,this.body,this.labelModule);break;case"star":this.shape=new _k(this.options,this.body,this.labelModule);break;case"text":this.shape=new xk(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Ek(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Tk(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&e_(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),e_(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(e,n,i){var r;if(void 0!==i){var o=e.group;if(void 0!==n&&void 0!==n.group&&o!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=i.get(o);void 0!==s.opacity&&void 0===n.opacity&&(t.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=Xf(r=Zw(n)).call(r,(function(t){return null!=n[t]}));a.push("font"),zg(a,e,s),e.color=Xg(e.color)}}}},{key:"parseOptions",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(zg(["color","fixed","shadow"],e,n,i),t.checkMass(n),void 0!==e.opacity&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==n.opacity&&(t.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!t.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),em(e,n,"shadow",r),void 0!==n.color&&null!==n.color){var s=Xg(n.color);Bg(e.color,s)}else!0===i&&null===n.color&&(e.color=tm(r.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"==typeof n.fixed?(e.fixed.x=n.fixed,e.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(e.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(e.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(e.font=tm(r.font)),t.updateGroupOptions(e,n,o),void 0!==n.scaling&&em(e.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var n="";void 0!==e&&(n=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",gm),t.mass=1}}}]),t}();function Dk(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return Pk(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Pk(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Pk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Mk=function(){function t(e,n,i,r){var o,s=this;if($c(this,t),this.body=e,this.images=n,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=Bi(o=this.create).call(o,this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=tm(this.defaultOptions),this.bindEventListeners()}return Qc(t,[{key:"bindEventListeners",value:function(){var t,e,n=this;this.body.emitter.on("refreshNodes",Bi(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Bi(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Hg(n.nodesListeners,(function(t,e){n.body.data.nodes&&n.body.data.nodes.off(e,t)})),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(Ak.parseOptions(this.options,t),void 0!==t.opacity&&(Tw(t.opacity)||!Aw(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var n=0,i=bd(this.body.nodes);n<i.length;n++){var r=i[n];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==t.size)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(e.isDataViewLike("id",t))this.body.data.nodes=t;else if(ud(t))this.body.data.nodes=new e.DataSet,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new e.DataSet}if(i&&Hg(this.nodesListeners,(function(t,e){i.off(e,t)})),this.body.nodes={},this.body.data.nodes){var r=this;Hg(this.nodesListeners,(function(t,e){r.body.data.nodes.on(e,t)}));var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],r=0;r<t.length;r++){e=t[r];var o=this.body.data.nodes.get(e),s=this.create(o);i.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,n){for(var i=this.body.nodes,r=!1,o=0;o<t.length;o++){var s=t[o],a=i[s],l=e[o];void 0!==a?a.setOptions(l)&&(r=!0):(r=!0,a=this.create(l),i[s]=a)}r||void 0===n||(r=jw(e).call(e,(function(t,e){var i=n[e];return i&&i.level!==t.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,n=0;n<t.length;n++)delete e[t[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ak)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Hg(this.body.nodes,(function(n,i){var r=t.body.data.nodes.get(i);void 0!==r&&(!0===e&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===ud(t)){for(var n=0;n<t.length;n++)if(void 0!==this.body.nodes[t[n]]){var i=this.body.nodes[t[n]];e[t[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[t]){var r=this.body.nodes[t];e[t]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];e[this.body.nodeIndices[o]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,e=[],n=this.body.data.nodes.getDataSet(),i=Dk(n.get());try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.id,s=this.body.nodes[o],a=Math.round(s.x),l=Math.round(s.y);r.x===a&&r.y===l||e.push({id:o,x:a,y:l})}}catch(t){i.e(t)}finally{i.f()}n.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var n=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],r={},o=0;o<i.edges.length;o++){var s=i.edges[o];"to"!==e&&s.toId==i.id?void 0===r[s.fromId]&&(n.push(s.fromId),r[s.fromId]=!0):"from"!==e&&s.fromId==i.id&&void 0===r[s.toId]&&(n.push(s.toId),r[s.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],i=0;i<n.edges.length;i++)e.push(n.edges[i].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,n){var i=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(n),wv((function(){i.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),Fk=Wt,Nk=S,Bk=$,jk=Je,zk=function(t){return void 0!==t&&(Fk(t,"value")||Fk(t,"writable"))},Lk=w,Rk=Po;En({target:"Reflect",stat:!0},{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return jk(e)===o?e[n]:(i=Lk.f(e,n))?zk(i)?i.value:void 0===i.get?void 0:Nk(i.get,o):Bk(r=Rk(e))?t(r,n,o):void 0}});var Uk=G.Reflect.get,Vk=wc;function Hk(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V_(t)););return t}function Wk(){return Wk="undefined"!=typeof Reflect&&Uk?Uk:function(t,e,n){var i=Hk(t,e);if(i){var r=Vk(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Wk.apply(this,arguments)}var qk=En,Yk=Math.hypot,Xk=Math.abs,$k=Math.sqrt;qk({target:"Math",stat:!0,forced:!!Yk&&Yk(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=Xk(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*$k(r)}});var Gk=G.Math.hypot;function Kk(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Qk=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"transform",value:function(t,e){ud(t)||(t=[t]);for(var n=e.point.x,i=e.point.y,r=e.angle,o=e.length,s=0;s<t.length;++s){var a=t[s],l=a.x*Math.cos(r)-a.y*Math.sin(r),u=a.x*Math.sin(r)+a.y*Math.cos(r);a.x=n+o*l,a.y=i+o*u}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;++n)t.lineTo(e[n].x,e[n].y);t.closePath()}}]),t}(),Jk=function(t){L_(n,t);var e=Kk(n);function n(){return $c(this,n),e.apply(this,arguments)}return Qc(n,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var n=null!=e.imageWidth?e.imageWidth:e.image.width,i=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-n/2,0,n,i),t.restore()}return!1}}]),n}(Qk),Zk=function(t){L_(n,t);var e=Kk(n);function n(){return $c(this,n),e.apply(this,arguments)}return Qc(n,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),n}(Qk),tx=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),t}(),ex=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};Qk.transform(n,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=e.angle-i/2,o=e.angle+i/2;return t.beginPath(),t.arc(n.x,n.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),nx=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n={x:-.3,y:0};Qk.transform(n,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=e.angle+i/2,o=e.angle+3*i/2;return t.beginPath(),t.arc(n.x,n.y,.4*e.length,r,o,!1),t.stroke(),!0}}]),t}(),ix=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),t}(),rx=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),t}(),ox=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};return Qk.transform(n,e),ji(t,n.x,n.y,.4*e.length),!0}}]),t}(),sx=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),t}(),ax=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),t}(),lx=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),t}(),ux=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Qk.transform(n,e),Qk.drawPath(t,n),!0}}]),t}(),cx=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"draw",value:function(t,e){var n;switch(e.type&&(n=e.type.toLowerCase()),n){case"image":return Jk.draw(t,e);case"circle":return ox.draw(t,e);case"box":return ax.draw(t,e);case"crow":return tx.draw(t,e);case"curve":return ex.draw(t,e);case"diamond":return lx.draw(t,e);case"inv_curve":return nx.draw(t,e);case"triangle":return ix.draw(t,e);case"inv_triangle":return rx.draw(t,e);case"bar":return sx.draw(t,e);case"vee":return ux.draw(t,e);default:return Zk.draw(t,e)}}}]),t}();function hx(t,e){var n=bd(t);if(cc){var i=cc(t);e&&(i=Xf(i).call(i,(function(e){return _c(t,e).enumerable}))),n.push.apply(n,i)}return n}function dx(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Bd(n=hx(Object(r),!0)).call(n,(function(e){Jc(t,e,r[e])})):Pc?Lc(t,Pc(r)):Bd(i=hx(Object(r))).call(i,(function(e){Xc(t,e,_c(r,e))}))}return t}var fx=function(){function t(e,n,i){$c(this,t),this._body=n,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return Qc(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,r):this._drawLine(t,e,r)}},{key:"_drawLine",value:function(t,e,n,i,r){if(this.from!=this.to)this._line(t,e,n,i,r);else{var o=Qh(this._getCircleData(t),3),s=o[0],a=o[1],l=o[2];this._circle(t,e,s,a,l)}}},{key:"_drawDashedLine",value:function(t,e,n,i,r){t.lineCap="round";var o=ud(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(o),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,n);else{var s=Qh(this._getCircleData(t),3),a=s[0],l=s[1],u=s[2];this._circle(t,e,a,l,u)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Ui(t,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var c=Qh(this._getCircleData(t),3),h=c[0],d=c[1],f=c[2];this._circle(t,e,h,d,f)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,n){return this.from!=this.to?this._findBorderPosition(t,e,n):this._findBorderPositionCircle(t,e,n)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,n=Qh(ld(e=this._getCircleData(t)).call(e,0,2),2),i=n[0],r=n[1];return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var n=i_(t,this.options.selfReference.angle,e,this.from);return[n.x,n.y,e]}},{key:"_pointOnCircle",value:function(t,e,n,i){var r=2*i*Math.PI;return{x:t+n*Math.cos(r),y:e-n*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(t,e,n){var i,r=n.x,o=n.y,s=n.low,a=n.high,l=n.direction,u=this.options.selfReference.size,c=.5*(s+a),h=0;!0===this.options.arrowStrikethrough&&(-1===l?h=this.options.endPointOffset.from:1===l&&(h=this.options.endPointOffset.to));var d=0;do{c=.5*(s+a),i=this._pointOnCircle(r,o,u,c);var f=Math.atan2(t.y-i.y,t.x-i.x),p=t.distanceToBorder(e,f)+h-Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));if(Math.abs(p)<.05)break;p>0?l>0?s=c:a=c:l>0?a=c:s=c,++d}while(s<=a&&d<10);return dx(dx({},i),{},{t:c})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=qg(this.from.options.color.border,e.opacity),r=qg(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return"to"===e.inheritsColor?qg(this.to.options.color.border,e.opacity):qg(this.from.options.color.border,e.opacity)}return qg(e.color,e.opacity)}},{key:"_circle",value:function(t,e,n,i,r){this.enableShadow(t,e);var o=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,u=this._findBorderPositionCircle(this.from,t,{x:n,y:i,low:a,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,t,{x:n,y:i,low:a,high:l,direction:1});o=Math.atan2(u.y-i,u.x-n),s=Math.atan2(c.y-i,c.x-n)}t.beginPath(),t.arc(n,i,r,o,s,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,n,i,r,o){if(this.from!=this.to)return this._getDistanceToEdge(t,e,n,i,r,o);var s=Qh(this._getCircleData(void 0),3),a=s[0],l=s[1],u=s[2],c=a-r,h=l-o;return Math.abs(Math.sqrt(c*c+h*h)-u)}},{key:"_getDistanceToLine",value:function(t,e,n,i,r,o){var s=n-t,a=i-e,l=((r-t)*s+(o-e)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);var u=t+l*s-r,c=e+l*a-o;return Math.sqrt(u*u+c*c)}},{key:"getArrowData",value:function(t,e,n,i,r,o){var s,a,l,u,c,h,d,f=o.width;"from"===e?(l=this.from,u=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),d=o.fromArrowType):"to"===e?(l=this.to,u=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),d=o.toArrowType):(l=this.to,u=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),d=o.middleArrowType);var p=15*h+3*f;if(l!=u){var v=p/Gk(l.x-u.x,l.y-u.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var y=this._findBorderPosition(l,t,{via:n}),g=this.getPoint(y.t+v*("from"===e?1:-1),n);s=Math.atan2(y.y-g.y,y.x-g.x),a=y}else s=Math.atan2(l.y-u.y,l.x-u.x),a=this._findBorderPosition(l,t);else{var m=(c?-v:v)/2,b=this.getPoint(.5+m,n),w=this.getPoint(.5-m,n);s=Math.atan2(b.y-w.y,b.x-w.x),a=this.getPoint(.5,n)}}else{var _=Qh(this._getCircleData(t),3),k=_[0],x=_[1],S=_[2];if("from"===e){var E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,T=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:E,high:O,direction:-1});s=-2*T.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=T}else if("to"===e){var I=this.options.selfReference.angle,C=this.options.selfReference.angle+Math.PI,A=this._findBorderPositionCircle(this.from,t,{x:k,y:x,low:I,high:C,direction:1});s=-2*A.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=A}else{var D=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(k,x,S,D),s=-2*D*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*p*Math.cos(s),y:a.y-.9*p*Math.sin(s)},angle:s,length:p,type:d}}},{key:"drawArrowHead",value:function(t,e,n,i,r){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,cx.draw(t,r)&&(this.enableShadow(t,e),Dv(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var n={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=n.strokeStyle,t.lineWidth=n.lineWidth,t.dashes=n.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var n=ud(e)?e:[5,5];t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function px(t,e){var n=bd(t);if(cc){var i=cc(t);e&&(i=Xf(i).call(i,(function(e){return _c(t,e).enumerable}))),n.push.apply(n,i)}return n}function vx(t){for(var e=1;e<arguments.length;e++){var n,i,r=null!=arguments[e]?arguments[e]:{};e%2?Bd(n=px(Object(r),!0)).call(n,(function(e){Jc(t,e,r[e])})):Pc?Lc(t,Pc(r)):Bd(i=px(Object(r))).call(i,(function(e){Xc(t,e,_c(r,e))}))}return t}function yx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var gx=function(t){L_(n,t);var e=yx(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"_findBorderPositionBezier",value:function(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=10,s=.2,a=!1,l=1,u=0,c=this.to,h=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(c=this.from,a=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(h=0);var d=0;do{i=.5*(u+l),n=this.getPoint(i,r);var f=Math.atan2(c.y-n.y,c.x-n.x),p=c.distanceToBorder(e,f)+h-Math.sqrt(Math.pow(n.x-c.x,2)+Math.pow(n.y-c.y,2));if(Math.abs(p)<s)break;p<0?!1===a?u=i:l=i:!1===a?l=i:u=i,++d}while(u<=l&&d<o);return vx(vx({},n),{},{t:i})}},{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,r,o,s){var a,l,u,c,h,d=1e9,f=t,p=e;for(l=1;l<10;l++)u=.1*l,c=Math.pow(1-u,2)*t+2*u*(1-u)*s.x+Math.pow(u,2)*n,h=Math.pow(1-u,2)*e+2*u*(1-u)*s.y+Math.pow(u,2)*i,l>0&&(d=(a=this._getDistanceToLine(f,p,c,h,r,o))<d?a:d),f=c,p=h;return d}},{key:"_bezierCurve",value:function(t,e,n,i){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?t.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),n}(fx);function mx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var bx=function(t){L_(n,t);var e=mx(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return Qc(n,[{key:"setOptions",value:function(t){Wk(V_(n.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var n=Qh(this._getCircleData(),3),i=n[0],r=n[1],o=n[2],s=2*Math.PI*(1-t);return{x:i+o*Math.sin(s),y:r+o-o*(1-Math.cos(s))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToBezierEdge(t,e,n,i,r,o,this.via)}}]),n}(gx);function wx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var _x=function(t){L_(n,t);var e=wx(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,n=this.options.smooth.roundness,i=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var s,a;s=a=r<=o?n*o:n*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var l=this.from.x+s,u=this.from.y+a;return"discrete"===i&&(r<=o?l=r<n*o?this.from.x:l:u=o<n*r?this.from.y:u),{x:l,y:u}}if("straightCross"===i){var c=(1-n)*r,h=(1-n)*o;return r<=o?(c=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(c=-c),h=0),{x:this.to.x+c,y:this.to.y+h}}if("horizontal"===i){var d=(1-n)*r;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===i){var f=(1-n)*o;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var p=Math.sqrt(r*r+o*o),v=Math.PI,y=(Math.atan2(o,r)+(.5*n+.5)*v)%(2*v);return{x:this.from.x+(.5*n+.5)*p*Math.sin(y),y:this.from.y+(.5*n+.5)*p*Math.cos(y)}}if("curvedCCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var g=Math.sqrt(r*r+o*o),m=Math.PI,b=(Math.atan2(o,r)+(.5*-n+.5)*m)%(2*m);return{x:this.from.x+(.5*n+.5)*g*Math.sin(b),y:this.from.y+(.5*n+.5)*g*Math.cos(b)}}t=e=r<=o?n*o:n*r,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var w=this.from.x+t,_=this.from.y+e;return r<=o?w=this.from.x<=this.to.x?this.to.x<w?this.to.x:w:this.to.x>w?this.to.x:w:_=this.from.y>=this.to.y?this.to.y>_?this.to.y:_:this.to.y<_?this.to.y:_,{x:w,y:_}}},{key:"_findBorderPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,n,i,r,o,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=t;return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y}}}]),n}(gx);function kx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var xx=function(t){L_(n,t);var e=kx(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"_getDistanceToBezierEdge2",value:function(t,e,n,i,r,o,s,a){for(var l=1e9,u=t,c=e,h=[0,0,0,0],d=1;d<10;d++){var f=.1*d;h[0]=Math.pow(1-f,3),h[1]=3*f*Math.pow(1-f,2),h[2]=3*Math.pow(f,2)*(1-f),h[3]=Math.pow(f,3);var p=h[0]*t+h[1]*s.x+h[2]*a.x+h[3]*n,v=h[0]*e+h[1]*s.y+h[2]*a.y+h[3]*i;if(d>0){var y=this._getDistanceToLine(u,c,p,v,r,o);l=y<l?y:l}u=p,c=v}return l}}]),n}(gx);function Sx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Ex=function(t){L_(n,t);var e=Sx(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"_line",value:function(t,e,n){var i=n[0],r=n[1];this._bezierCurve(t,e,i,r)}},{key:"_getViaCoordinates",value:function(){var t,e,n,i,r=this.from.x-this.to.x,o=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,i=this.to.y,t=this.from.x-s*r,n=this.to.x+s*r):(e=this.from.y-s*o,i=this.to.y+s*o,t=this.from.x,n=this.to.x),[{x:t,y:e},{x:n,y:i}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){var s=Qh(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),a=s[0],l=s[1];return this._getDistanceToBezierEdge2(t,e,n,i,r,o,a,l)}},{key:"getPoint",value:function(t){var e=Qh(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),n=e[0],i=e[1],r=t,o=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:o[0]*this.fromPoint.x+o[1]*n.x+o[2]*i.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*n.y+o[2]*i.y+o[3]*this.toPoint.y}}}]),n}(xx);function Ox(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Tx=function(t){L_(n,t);var e=Ox(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var n=this.to,i=this.from;t.id===this.from.id&&(n=this.from,i=this.to);var r=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,s=n.y-i.y,a=Math.sqrt(o*o+s*s),l=(a-t.distanceToBorder(e,r))/a;return{x:(1-l)*i.x+l*n.x,y:(1-l)*i.y+l*n.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,n,i,r,o){return this._getDistanceToLine(t,e,n,i,r,o)}}]),n}(fx),Ix=function(){function t(e,n,i,r,o){if($c(this,t),void 0===n)throw new Error("No body provided");this.options=tm(r),this.globalOptions=r,this.defaultOptions=o,this.body=n,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new g_(this.body,this.options,!0),this.setOptions(e)}return Qc(t,[{key:"setOptions",value:function(e){if(e){var n=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=Xw(e.value));var i=[e,this.options,this.defaultOptions];return this.chooser=t_("edge",i),this.updateLabelModule(e),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,r={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"==typeof o?r.width=o(r.width):"number"==typeof o&&(r.width+=o),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?r.width=s(r.width):"number"==typeof s&&(r.width+=s),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)));else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof bx&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof Ex&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof _x&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof Tx&&!1===t.type.enabled)&&(n=!1),!0===n&&(e=this.cleanup())),!0===n?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new bx(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new Ex(this.options,this.body,this.labelModule):this.edgeType=new _x(this.options,this.body,this.labelModule):this.edgeType=new Tx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,n),this.drawLabel(t,n)}}},{key:"drawArrows",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core),e.fromArrowSrc&&(i.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(i.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(i.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core),e.toArrowSrc&&(i.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(i.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(i.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,e),e.middleArrowSrc&&(i.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(i.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(i.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var n,i=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=r.id){this.labelModule.pointToSelf=!1,n=this.edgeType.getPoint(.5,e),t.save();var o=this._getRotation(t);0!=o.angle&&(t.translate(o.x,o.y),t.rotate(o.angle)),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s=i_(t,this.options.selfReference.angle,this.options.selfReference.size,i);n=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,n.x,n.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var n=this._getRotation();e_(this.labelModule.getSize(),t,n)&&e.push({edgeId:this.id,labelId:0})}var i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,n=this.from.y,i=this.to.x,r=this.to.y,o=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,n,i,r,o,s)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var r=this.from.y-this.to.y,o=this.from.x-this.to.x,s=Math.atan2(r,o);return(s<-1&&o<0||s>0&&o<0)&&(s+=Math.PI),i.angle=s,i}},{key:"_pointOnCircle",value:function(t,e,n,i){return{x:t+n*Math.cos(i),y:e-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(jg(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,n),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(Aw(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==i.endPointOffset.from?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(Aw(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==i.endPointOffset.to?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),n_(e.label)?t.label=e.label:n_(t.label)||(t.label=void 0),em(t,e,"smooth",i),em(t,e,"shadow",i),em(t,e,"background",i),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===n&&null===e.dashes&&(t.dashes=Vp(i.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),em(t.scaling,e.scaling,"label",i.scaling)):!0===n&&null===e.scaling&&(t.scaling=Vp(i.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var o=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=Np(o).call(o,"to"),t.arrows.middle.enabled=-1!=Np(o).call(o,"middle"),t.arrows.from.enabled=-1!=Np(o).call(o,"from")}else{if("object"!==Zh(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+uv(e.arrows));em(t.arrows,e.arrows,"to",i.arrows),em(t.arrows,e.arrows,"middle",i.arrows),em(t.arrows,e.arrows,"from",i.arrows)}else!0===n&&null===e.arrows&&(t.arrows=Vp(i.arrows));if(void 0!==e.color&&null!==e.color){var s=Mg(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,a=t.color;if(r)Lg(a,i.color,!1,n);else for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&delete a[l];if(Mg(a))a.color=a,a.highlight=a,a.hover=a,a.inherit=!1,void 0===s.opacity&&(a.opacity=1);else{var u=!1;void 0!==s.color&&(a.color=s.color,u=!0),void 0!==s.highlight&&(a.highlight=s.highlight,u=!0),void 0!==s.hover&&(a.hover=s.hover,u=!0),void 0!==s.inherit&&(a.inherit=s.inherit),void 0!==s.opacity&&(a.opacity=Math.min(1,Math.max(0,s.opacity))),!0===u?a.inherit=!1:void 0===a.inherit&&(a.inherit="from")}}else!0===n&&null===e.color&&(t.color=tm(i.color));!0===n&&null===e.font&&(t.font=tm(i.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}}]),t}(),Cx=function(){function t(e,n,i){var r,o=this;$c(this,t),this.body=e,this.images=n,this.groups=i,this.body.functions.createEdge=Bi(r=this.create).call(r,this),this.edgesListeners={add:function(t,e){o.add(e.items)},update:function(t,e){o.update(e.items)},remove:function(t,e){o.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){if(e===t)return.5;var r=1/(e-t);return Math.max(0,(i-t)*r)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Lg(this.options,this.defaultOptions),this.bindEventListeners()}return Qc(t,[{key:"bindEventListeners",value:function(){var t,e,n=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var i=!1;for(var r in n.body.edges)if(Object.prototype.hasOwnProperty.call(n.body.edges,r)){var o=n.body.edges[r],s=n.body.data.edges.get(r);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),i=!0)}}!0===e&&!0===i&&n.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){n.reconnectEdges()})),this.body.emitter.on("refreshEdges",Bi(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Bi(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Hg(n.edgesListeners,(function(t,e){n.body.data.edges&&n.body.data.edges.off(e,t)})),delete n.body.functions.createEdge,delete n.edgesListeners.add,delete n.edgesListeners.update,delete n.edgesListeners.remove,delete n.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){Ix.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(e=this.body.edges[n].updateEdgeType()||e);if(void 0!==t.font)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(e.isDataViewLike("id",t))this.body.data.edges=t;else if(ud(t))this.body.data.edges=new e.DataSet,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new e.DataSet}if(r&&Hg(this.edgesListeners,(function(t,e){r.off(e,t)})),this.body.edges={},this.body.data.edges){Hg(this.edgesListeners,(function(t,e){n.body.data.edges.on(e,t)}));var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<t.length;r++){var o=t[r],s=n[o];s&&s.disconnect();var a=i.get(o,{showInternalIds:!0});n[o]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<t.length;r++){var o=t[r],s=n.get(o),a=e[o];void 0!==a?(a.disconnect(),i=a.setOptions(s)||i,a.connect()):(this.body.edges[o]=this.create(s),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var n=this.body.edges;Hg(t,(function(t){var e=n[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;Hg(this.body.edges,(function(e,n){var i=t.body.data.edges.get(n);void 0!==i&&e.setOptions(i)}))}},{key:"create",value:function(t){return new Ix(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,n=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=n[t];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var n=this.body.edges[t];void 0!==n.fromId&&e.push(n.fromId),void 0!==n.toId&&e.push(n.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];Hg(this.body.edges,(function(n,i){var r=t.body.nodes[n.toId],o=t.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||e.push(i)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,n=[];Bd(t).call(t,(function(t,i){void 0===e[i]&&n.push(i)})),this.add(n,!0)}}}]),t}(),Ax=function(){function t(e,n,i){$c(this,t),this.body=e,this.physicsBody=n,this.barnesHutTree,this.setOptions(i),this._rng=xg("BARNES HUT SOLVER")}return Qc(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(e,n);this.barnesHutTree=r;for(var o=0;o<i;o++)(t=e[n[o]]).options.mass>0&&this._getForceContributions(r.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var n=t.centerOfMass.x-e.x,i=t.centerOfMass.y-e.y,r=Math.sqrt(n*n+i*i);r*t.calcSize>this.thetaInversed?this._calculateForces(r,n,i,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(r,n,i,e,t)}}},{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass/Math.pow(t,3),s=e*o,a=n*o;this.physicsBody.forces[i.id].x+=s,this.physicsBody.forces[i.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var n,i=e.length,r=t[e[0]].x,o=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;l<i;l++){var u=t[e[l]],c=u.x,h=u.y;u.options.mass>0&&(c<r&&(r=c),c>s&&(s=c),h<o&&(o=h),h>a&&(a=h))}var d=Math.abs(s-r)-Math.abs(a-o);d>0?(o-=.5*d,a+=.5*d):(r+=.5*d,s-=.5*d);var f=Math.max(1e-5,Math.abs(s-r)),p=.5*f,v=.5*(r+s),y=.5*(o+a),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-p,maxX:v+p,minY:y-p,maxY:y+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var m=0;m<i;m++)(n=t[e[m]]).options.mass>0&&this._placeInTree(g.root,n);return g}},{key:"_updateBranchMass",value:function(t,e){var n=t.centerOfMass,i=t.mass+e.options.mass,r=1/i;n.x=n.x*t.mass+e.x*e.options.mass,n.x*=r,n.y=n.y*t.mass+e.y*e.options.mass,n.y*=r,t.mass=i;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth}},{key:"_placeInTree",value:function(t,e,n){1==n&&void 0!==n||this._updateBranchMass(t,e);var i,r=t.children.NW.range;i=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,i)}},{key:"_placeInRegion",value:function(t,e,n){var i=t.children[n];switch(i.childrenCount){case 0:i.children.data=e,i.childrenCount=1,this._updateBranchMass(i,e);break;case 1:i.children.data.x===e.x&&i.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,e));break;case 4:this._placeInTree(i,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var n,i,r,o,s=.5*t.size;switch(e){case"NW":n=t.range.minX,i=t.range.minX+s,r=t.range.minY,o=t.range.minY+s;break;case"NE":n=t.range.minX+s,i=t.range.maxX,r=t.range.minY,o=t.range.minY+s;break;case"SW":n=t.range.minX,i=t.range.minX+s,r=t.range.minY+s,o=t.range.maxY;break;case"SE":n=t.range.minX+s,i=t.range.maxX,r=t.range.minY+s,o=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,n){void 0===n&&(n="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=n,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),Dx=function(){function t(e,n,i){$c(this,t),this._rng=xg("REPULSION SOLVER"),this.body=e,this.physicsBody=n,this.setOptions(i)}return Qc(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,s,a,l=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,d=-2/3/h,f=0;f<u.length-1;f++){s=l[u[f]];for(var p=f+1;p<u.length;p++)t=(a=l[u[p]]).x-s.x,e=a.y-s.y,0===(n=Math.sqrt(t*t+e*e))&&(t=n=.1*this._rng()),n<2*h&&(o=n<.5*h?1:d*n+1.3333333333333333,i=t*(o/=n),r=e*o,c[s.id].x-=i,c[s.id].y-=r,c[a.id].x+=i,c[a.id].y+=r)}}}]),t}(),Px=function(){function t(e,n,i){$c(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return Qc(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance,r=0;r<e.length-1;r++)for(var o=t[e[r]],s=r+1;s<e.length;s++){var a=t[e[s]];if(o.level===a.level){var l=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(a.shape.radius||0)/2),u=a.x-o.x,c=a.y-o.y,h=Math.sqrt(u*u+c*c),d=void 0;d=h<l?-Math.pow(.05*h,2)+Math.pow(.05*l,2):0,0!==h&&(d/=h);var f=u*d,p=c*d;n[o.id].x-=f,n[o.id].y-=p,n[a.id].x+=f,n[a.id].y+=p}}}}]),t}(),Mx=function(){function t(e,n,i){$c(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return Qc(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<o.length;a++)!0===(e=s[o[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.to,i=e.edgeType.via,r=e.from,this._calculateSpringForce(n,i,.5*t),this._calculateSpringForce(i,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.max(Math.sqrt(i*i+r*r),.01),s=this.options.springConstant*(n-o)/o,a=i*s,l=r*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}(),Fx=function(){function t(e,n,i){$c(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return Qc(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r,o,s,a,l,u,c=this.body.edges,h=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<f.length;v++){var y=f[v];p[y].springFx=0,p[y].springFy=0}for(var g=0;g<d.length;g++)!0===(e=c[d[g]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.from.x-e.to.x,i=e.from.y-e.to.y,a=0===(a=Math.sqrt(n*n+i*i))?.01:a,r=n*(s=this.options.springConstant*(t-a)/a),o=i*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=r,p[e.toId].springFy-=o),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=r,p[e.fromId].springFy+=o)):(void 0!==p[e.toId]&&(p[e.toId].x-=h*r,p[e.toId].y-=h*o),void 0!==p[e.fromId]&&(p[e.fromId].x+=h*r,p[e.fromId].y+=h*o)));s=1;for(var m=0;m<f.length;m++){var b=f[m];l=Math.min(s,Math.max(-s,p[b].springFx)),u=Math.min(s,Math.max(-s,p[b].springFy)),p[b].x+=l,p[b].y+=u}for(var w=0,_=0,k=0;k<f.length;k++){var x=f[k];w+=p[x].x,_+=p[x].y}for(var S=w/f.length,E=_/f.length,O=0;O<f.length;O++){var T=f[O];p[T].x-=S,p[T].y-=E}}}]),t}(),Nx=function(){function t(e,n,i){$c(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return Qc(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<o.length;a++)t=-(i=r[o[a]]).x,e=-i.y,n=Math.sqrt(t*t+e*e),this._calculateForces(n,t,e,s,i)}},{key:"_calculateForces",value:function(t,e,n,i,r){var o=0===t?0:this.options.centralGravity/t;i[r.id].x=e*o,i[r.id].y=n*o}}]),t}();function Bx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var jx=function(t){L_(n,t);var e=Bx(n);function n(t,i,r){var o;return $c(this,n),(o=e.call(this,t,i,r))._rng=xg("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return Qc(n,[{key:"_calculateForces",value:function(t,e,n,i,r){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var o=i.edges.length+1,s=this.options.gravitationalConstant*r.mass*i.options.mass*o/Math.pow(t,2),a=e*s,l=n*s;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}}]),n}(Ax);function zx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Lx,Rx=function(t){L_(n,t);var e=zx(n);function n(t,i,r){return $c(this,n),e.call(this,t,i,r)}return Qc(n,[{key:"_calculateForces",value:function(t,e,n,i,r){if(t>0){var o=r.edges.length+1,s=this.options.centralGravity*o*r.options.mass;i[r.id].x=e*s,i[r.id].y=n*s}}}]),n}(Nx),Ux=function(){function t(e){$c(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},pi(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Qc(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,zg(["stabilization"],this.options,t),em(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var e=this.options.wind;e&&(("number"!=typeof e.x||Tw(e.x))&&(e.x=0),("number"!=typeof e.y||Tw(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new jx(this.body,this.physicsBody,t),this.edgesSolver=new Mx(this.body,this.physicsBody,t),this.gravitySolver=new Rx(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new Dx(this.body,this.physicsBody,t),this.edgesSolver=new Mx(this.body,this.physicsBody,t),this.gravitySolver=new Nx(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new Px(this.body,this.physicsBody,t),this.edgesSolver=new Fx(this.body,this.physicsBody,t),this.gravitySolver=new Nx(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new Ax(this.body,this.physicsBody,t),this.edgesSolver=new Mx(this.body,this.physicsBody,t),this.gravitySolver=new Nx(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Bi(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Sd();this.physicsTick(),(Sd()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&wv((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&!0===t[n].options.physics&&this.physicsBody.physicsNodeIndices.push(t[n].id);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=bd(this.previousStates),e=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<t.length;i++){var r=t[i];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t,e,n=this.body.nodes,i=this.referenceState;for(var r in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,r)&&void 0!==n[r]&&(t=n[r].x-i[r].positions.x,e=n[r].y-i[r].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,n=0,i=0;i<t.length;i++){var r=t[i],o=this._performStep(r);e=Math.max(e,o),n+=o}this.adaptiveTimestepEnabled=n/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,n){t+=(e-this.modelOptions.damping*t)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(t)>i&&(t=t>0?i:-i),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],n=this.physicsBody.forces[t];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var i=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:i.x,vy:i.y},!1===e.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,e.options.mass),e.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===e.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,e.options.mass),e.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){var n=t[e].options.fixed;this.freezeCache[e]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,wv((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},n=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&n();for(var i,r=0;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;n(),e()?wv(Bi(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var n=this.physicsBody.physicsNodeIndices[e],i=this.body.nodes[n],r=this.physicsBody.forces[n],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),s=Math.min(Math.max(5,o),15),a=3*s,l=Kg((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),u={x:i.x+20*r.x,y:i.y+20*r.y};t.lineWidth=s,t.strokeStyle=l,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(u.x,u.y),t.stroke();var c=Math.atan2(r.y,r.x);t.fillStyle=l,cx.draw(t,{type:"arrow",point:u,angle:c,length:a}),Dv(t).call(t)}}}]),t}(),Vx=new Uint8Array(16);function Hx(){if(!Lx&&!(Lx="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lx(Vx)}var Wx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qx(t){return"string"==typeof t&&Wx.test(t)}for(var Yx=[],Xx=0;Xx<256;++Xx)Yx.push((Xx+256).toString(16).substr(1));function $x(t,e,n){var i=(t=t||{}).random||(t.rng||Hx)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Yx[t[e+0]]+Yx[t[e+1]]+Yx[t[e+2]]+Yx[t[e+3]]+"-"+Yx[t[e+4]]+Yx[t[e+5]]+"-"+Yx[t[e+6]]+Yx[t[e+7]]+"-"+Yx[t[e+8]]+Yx[t[e+9]]+"-"+Yx[t[e+10]]+Yx[t[e+11]]+Yx[t[e+12]]+Yx[t[e+13]]+Yx[t[e+14]]+Yx[t[e+15]]).toLowerCase();if(!qx(n))throw TypeError("Stringified UUID is invalid");return n}(i)}var Gx=function(){function t(){$c(this,t)}return Qc(t,null,[{key:"getRange",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(e=t[n[a]]).shape.boundingBox.left&&(o=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),i>e.shape.boundingBox.top&&(i=e.shape.boundingBox.top),r<e.shape.boundingBox.bottom&&(r=e.shape.boundingBox.bottom);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"getRangeCore",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)o>(e=t[n[a]]).x&&(o=e.x),s<e.x&&(s=e.x),i>e.y&&(i=e.y),r<e.y&&(r=e.y);return 1e9===o&&-1e9===s&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:r}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var n={};return void 0===e||"node"===e?(Lg(n,t.options,!0),n.x=t.x,n.y=t.y,n.amountOfConnections=t.edges.length):Lg(n,t.options,!0),n}}]),t}();function Kx(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var Qx=function(t){L_(n,t);var e=Kx(n);function n(t,i,r,o,s,a){var l;return $c(this,n),(l=e.call(this,t,i,r,o,s,a)).isCluster=!0,l.containedNodes={},l.containedEdges={},l}return Qc(n,[{key:"_openChildCluster",value:function(t){var e=this,n=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],Hg(n.edges,(function(t){delete e.containedEdges[t.id]})),Hg(n.containedNodes,(function(t,n){e.containedNodes[n]=t})),n.containedNodes={},Hg(n.containedEdges,(function(t,n){e.containedEdges[n]=t})),n.containedEdges={},Hg(n.edges,(function(t){Hg(e.edges,(function(n){var i,r,o=Np(i=n.clusteringEdgeReplacingIds).call(i,t.id);-1!==o&&(Hg(t.clusteringEdgeReplacingIds,(function(t){n.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=n.id})),ff(r=n.clusteringEdgeReplacingIds).call(r,o,1))}))})),n.edges=[]}}]),n}(Ak),Jx=function(){function t(e){var n=this;$c(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},pi(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){n.clusteredNodes={},n.clusteredEdges={}}))}return Qc(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===Zh(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=t&&n.push(r.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var i={},r={};Hg(this.body.nodes,(function(n,o){n.options&&!0===e.joinCondition(n.options)&&(i[o]=n,Hg(n.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(r[e.id]=e)})))})),this._cluster(i,r,e,n)}},{key:"clusterByEdgeCount",value:function(t,e){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r,o,s,a=[],l={},u=function(i){var u={},c={},h=n.body.nodeIndices[i],d=n.body.nodes[h];if(void 0===l[h]){s=0,o=[];for(var f=0;f<d.edges.length;f++)r=d.edges[f],void 0===n.clusteredEdges[r.id]&&(r.toId!==r.fromId&&s++,o.push(r));if(s===t){for(var p=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var n=Gx.cloneOptions(t);return e.joinCondition(n)},v=!0,y=0;y<o.length;y++){r=o[y];var g=n._getConnectedId(r,h);if(!p(d)){v=!1;break}c[r.id]=r,u[h]=d,u[g]=n.body.nodes[g],l[h]=!0}if(bd(u).length>0&&bd(c).length>0&&!0===v){var m=function(){for(var t=0;t<a.length;++t)for(var e in u)if(void 0!==a[t].nodes[e])return a[t]}();if(void 0!==m){for(var b in u)void 0===m.nodes[b]&&(m.nodes[b]=u[b]);for(var w in c)void 0===m.edges[w]&&(m.edges[w]=c[w])}else a.push({nodes:u,edges:c})}}}},c=0;c<this.body.nodeIndices.length;c++)u(c);for(var h=0;h<a.length;h++)this._cluster(a[h].nodes,a[h].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},s={},a=r.id,l=Gx.cloneOptions(r);o[a]=r;for(var u=0;u<r.edges.length;u++){var c=r.edges[u];if(void 0===this.clusteredEdges[c.id]){var h=this._getConnectedId(c,a);if(void 0===this.clusteredNodes[h])if(h!==a)if(void 0===e.joinCondition)s[c.id]=c,o[h]=this.body.nodes[h];else{var d=Gx.cloneOptions(this.body.nodes[h]);!0===e.joinCondition(l,d)&&(s[c.id]=c,o[h]=this.body.nodes[h])}else s[c.id]=c}}var f=yd(n=bd(o)).call(n,(function(t){return o[t].id}));for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p))for(var v=o[p],y=0;y<v.edges.length;y++){var g=v.edges[y];Np(f).call(f,this._getConnectedId(g,v.id))>-1&&(s[g.id]=g)}this._cluster(o,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,n,i){for(var r,o,s,a,l,u,c=bd(t),h=[],d=0;d<c.length;d++){s=t[o=c[d]];for(var f=0;f<s.edges.length;f++)r=s.edges[f],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==o?(a=n.id,u=l=r.fromId):(a=r.toId,l=n.id,u=a),void 0===t[u]&&h.push({edge:r,fromId:l,toId:a}))}for(var p=[],v=function(t){for(var e=0;e<p.length;e++){var n=p[e],i=t.fromId===n.fromId&&t.toId===n.toId,r=t.fromId===n.toId&&t.toId===n.fromId;if(i||r)return n}return null},y=0;y<h.length;y++){var g=h[y],m=g.edge,b=v(g);null===b?(b=this._createClusteredEdge(g.fromId,g.toId,m,i),p.push(b)):b.clusteringEdgeReplacingIds.push(m.id),this.body.edges[m.id].edgeReplacedById=b.id,this._backupEdgeOptions(m),m.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var s=0;s<r.length;++s)delete t[r[s]];if(0!=bd(t).length&&(1!=bd(t).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var a=Lg({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var c=Gx.cloneOptions(t[u]);l.push(c)}var h=[];for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)&&"clusterEdge:"!==d.substr(0,12)){var f=Gx.cloneOptions(e[d],"edge");h.push(f)}if(!(a=n.processProperties(a,l,h)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+$x());var p=a.id;void 0===a.label&&(a.label="cluster");var v=void 0;void 0===a.x&&(v=this._getClusterPosition(t),a.x=v.x),void 0===a.y&&(void 0===v&&(v=this._getClusterPosition(t)),a.y=v.y),a.id=p;var y=this.body.functions.createNode(a,Qx);y.containedNodes=t,y.containedEdges=e,y.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=y,this._clusterEdges(t,e,a,n.clusterEdgeProperties),a.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,n=bd(t),i=t[n[0]].x,r=t[n[0]].x,o=t[n[0]].y,s=t[n[0]].y,a=1;a<n.length;a++)i=(e=t[n[a]]).x<i?e.x:i,r=e.x>r?e.x:r,o=e.y<o?e.y:o,s=e.y>s?e.y:s;return{x:.5*(i+r),y:.5*(o+s)}}},{key:"openCluster",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[t];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var r=this.findNode(t),o=Np(r).call(r,t)-1;if(o>=0){var s=r[o];return this.body.nodes[s]._openChildCluster(t),delete this.body.nodes[t],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var a=i.containedNodes,l=i.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var u={},c={x:i.x,y:i.y};for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){var d=this.body.nodes[h];u[h]={x:d.x,y:d.y}}var f=e.releaseFunction(c,u);for(var p in a)if(Object.prototype.hasOwnProperty.call(a,p)){var v=this.body.nodes[p];void 0!==f[p]&&(v.x=void 0===f[p].x?i.x:f[p].x,v.y=void 0===f[p].y?i.y:f[p].y)}}else Hg(a,(function(t){!1===t.options.fixed.x&&(t.x=i.x),!1===t.options.fixed.y&&(t.y=i.y)}));for(var y in a)if(Object.prototype.hasOwnProperty.call(a,y)){var g=this.body.nodes[y];g.vx=i.vx,g.vy=i.vy,g.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var m=[],b=0;b<i.edges.length;b++)m.push(i.edges[b]);for(var w=0;w<m.length;w++){for(var _=m[w],k=this._getConnectedId(_,t),x=this.clusteredNodes[k],S=0;S<_.clusteringEdgeReplacingIds.length;S++){var E=_.clusteringEdgeReplacingIds[S],O=this.body.edges[E];if(void 0!==O)if(void 0!==x){var T=this.body.nodes[x.clusterId];T.containedEdges[O.id]=O,delete l[O.id];var I=O.fromId,C=O.toId;O.toId==k?C=x.clusterId:I=x.clusterId,this._createClusteredEdge(I,C,O,T.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(O)}_.remove()}for(var A in l)Object.prototype.hasOwnProperty.call(l,A)&&this._restoreEdge(l[A]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var n=this.body.nodes[t].containedNodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e,n=[],i=0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(e=this.body.nodes[t]))return[];n.push(e.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(e=this.body.nodes[t])?[]:(n.push(e.id),Yd(n).call(n),n)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(t),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],n=0;void 0!==t&&void 0!==this.body.edges[t]&&n<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return Yd(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],n=[],i=[],r=0;e.length>0&&r<100;){var o=e.pop();if(void 0!==o){var s=this.body.edges[o];if(void 0!==s){r++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)i.push(o);else for(var l=0;l<a.length;++l){var u=a[l];-1===Np(e).call(e,a)&&-1===Np(n).call(n,a)&&e.push(u)}n.push(o)}}}return i}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,n=0,i=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>i&&(i=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),n+=1}t/=n;var s=(e/=n)-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return l>i&&(l=i),l}},{key:"_createClusteredEdge",value:function(t,e,n,i,r){var o=Gx.cloneOptions(n,"edge");Lg(o,i),o.from=t,o.to=e,o.id="clusterEdge:"+$x(),void 0!==r&&Lg(o,r);var s=this.body.functions.createEdge(o);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,n,i){if(e instanceof Ix){var r=e,o={};o[r.id]=r,e=o}if(t instanceof Ak){var s=t,a={};a[s.id]=s,t=a}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(t,e,n,i),e)if(Object.prototype.hasOwnProperty.call(e,l)&&void 0!==this.body.edges[l]){var u=this.body.edges[l];this._backupEdgeOptions(u),u.setOptions({physics:!1})}for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var n=e.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(t,e){var n=[];return Hg(t,(function(t){e(t)&&n.push(t)})),n}},{key:"_updateState",value:function(){var t,e=this,n=[],i={},r=function(t){Hg(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&n.push(t);r((function(t){for(var e=0;e<n.length;e++)delete t.containedNodes[n[e]]}));for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];Hg(this.clusteredEdges,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()||(i[t]=t)})),r((function(t){Hg(t.containedEdges,(function(t,e){t.endPointsValid()||i[e]||(i[e]=e)}))})),Hg(this.body.edges,(function(t,n){var r=!0,o=t.clusteringEdgeReplacingIds;if(void 0!==o){var s=0;Hg(o,(function(t){var n=e.body.edges[t];void 0!==n&&n.endPointsValid()&&(s+=1)})),r=s>0}t.endPointsValid()&&r||(i[n]=n)})),r((function(t){Hg(i,(function(n){delete t.containedEdges[n],Hg(t.edges,(function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=e._filter(r.clusteringEdgeReplacingIds,(function(t){return!i[t]})):t.edges[o]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),Hg(i,(function(t){delete e.clusteredEdges[t]})),Hg(i,(function(t){delete e.body.edges[t]})),Hg(bd(this.body.edges),(function(t){var n=e.body.edges[t],i=e._isClusteredNode(n.fromId)||e._isClusteredNode(n.toId);if(i!==e._isClusteredEdge(n.id))if(i){var r=e._getClusterNodeForNode(n.fromId);void 0!==r&&e._clusterEdges(e.body.nodes[n.fromId],n,r);var o=e._getClusterNodeForNode(n.toId);void 0!==o&&e._clusterEdges(e.body.nodes[n.toId],n,o)}else delete e._clusterEdges[t],e._restoreEdge(n)}));for(var s=!1,a=!0,l=function(){var t=[];r((function(e){var n=bd(e.containedNodes).length,i=!0===e.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&t.push(e.id)}));for(var n=0;n<t.length;++n)e.openCluster(t[n],{},!1);a=t.length>0,s=s||a};a;)l();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();function Zx(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return tS(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?tS(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function tS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var eS=function(){function t(e,n){var i;$c(this,t),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(t){t()}:i,this.body=e,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},pi(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Qc(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=wv((function(){var t;e.zooming=!1,Bi(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Bi(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){void 0!==t&&jg(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var n,i=window;return!0===this.requiresTimeout?n=wv(t,e):i.requestAnimationFrame&&(n=i.requestAnimationFrame(t)),n}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Bi(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,r),0===this.canvas.frame.clientWidth)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(n),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var o=this._drawNodes(n,t).drawExternalLabels;e.drawExternalLabels=o}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(n),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),!0===t&&n.clearRect(0,0,i,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,n=this.body.nodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&((e=n[i]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,s=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:c.y,right:c.x},d=[],f=0;f<o.length;f++)if((e=r[o[f]]).hover)a.push(o[f]);else if(e.isSelected())s.push(o[f]);else if(!0===i){var p=e.draw(t);null!=p.drawExternalLabel&&d.push(p.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(h)){var v=e.draw(t);null!=v.drawExternalLabel&&d.push(v.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);var y=s.length,g=a.length;for(n=0;n<y;n++){var m=(e=r[s[n]]).draw(t);null!=m.drawExternalLabel&&d.push(m.drawExternalLabel)}for(n=0;n<g;n++){var b=(e=r[a[n]]).draw(t);null!=b.drawExternalLabel&&d.push(b.drawExternalLabel)}return{drawExternalLabels:function(){var t,e=Zx(d);try{for(e.s();!(t=e.n()).done;)(0,t.value)()}catch(t){e.e(t)}finally{e.f()}}}}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=e[n[i]];!0===r.connected&&r.draw(t)}}},{key:"_drawArrows",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=e[n[i]];!0===r.connected&&r.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=Np(t).call(t,"msie 9.0")||-1!=Np(t).call(t,"safari")&&Np(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,n),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,n),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),t}(),nS=G.setInterval;function iS(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function rS(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}var oS=function(){function t(e){$c(this,t),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},pi(this.options,this.defaultOptions),this.bindEventListeners()}return Qc(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Bi(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e,n,i,r,o,s=this;if(void 0!==t&&jg(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var a;if(window.ResizeObserver){var l=new ResizeObserver((function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")})),u=this.frame;l.observe(u),this._cleanupCallbacks.push((function(){l.unobserve(u)}))}else{var c=nS((function(){!0===s.setSize()&&s.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(c)}))}var h=Bi(a=this._onResize).call(a,this);e=window,n="resize",i=h,e.addEventListener?(void 0===r&&(r=!1),"mousewheel"===n&&Nf(o=navigator.userAgent).call(o,"Firefox")&&(n="DOMMouseScroll"),e.addEventListener(n,i,r)):e.attachEvent("on"+n,i),this._cleanupCallbacks.push((function(){!function(t,e,n,i){var r;t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&Nf(r=navigator.userAgent).call(r,"Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,n,i)):t.detachEvent("on"+e,n)}(window,"resize",h)}))}}},{key:"_cleanUp",value:function(){var t,e,n;Bd(t=Yd(e=ff(n=this._cleanupCallbacks).call(n,0)).call(e)).call(t,(function(t){try{t()}catch(t){console.error(t)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=t&&1!=e?n=.5*this.cameraState.scale*(t+e):1!=t?n=this.cameraState.scale*t:1!=e&&(n=this.cameraState.scale*e),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==Np(t).call(t,"%")||-1!==Np(t).call(t,"px"))return t;if(-1===Np(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new vm(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:vm.DIRECTION_ALL}),iS(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new vm(this.frame),rS(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var n=!1,i=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(o),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(o),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,n=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();function sS(t,e){var n=pi({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!ud(n.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===n.nodes.length&&(n.nodes=e),!("number"==typeof n.minZoomLevel&&n.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof n.maxZoomLevel&&n.minZoomLevel<=n.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return n}var aS=function(){function t(e,n){var i,r,o=this;$c(this,t),this.body=e,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Bi(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Bi(r=this.releaseNode).call(r,this))}return Qc(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=sS(t,this.body.nodeIndices);var n,i,r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)i=1,n=Gx.getRange(this.body.nodes,t.nodes);else if(!0===e){var s=0;for(var a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&!0===this.body.nodes[a].predefinedPosition&&(s+=1);if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);n=Gx.getRange(this.body.nodes,t.nodes),i=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,i*=Math.min(r/600,o/600)}else{this.body.emitter.emit("_resizeNodes"),n=Gx.getRange(this.body.nodes,t.nodes);var l=r/(1.1*Math.abs(n.maxX-n.minX)),u=o/(1.1*Math.abs(n.maxY-n.minY));i=l<=u?l:u}i>t.maxZoomLevel?i=t.maxZoomLevel:i<t.minZoomLevel&&(i=t.minZoomLevel);var c={position:Gx.findCenter(n),scale:i,animation:t.animation};this.moveTo(c)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=n,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!Aw(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!Aw(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!Aw(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!Aw(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,n,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=i.x-t.position.x,o=i.y-t.position.y;this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+t.offset.x,y:this.sourceTranslation.y+o*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=Bi(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Bi(n=this._transitionRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=n.x-t,r=n.y-e,o=this.body.view.translation,s={x:o.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e,n=nm[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=Bi(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function lS(t){var e,n=t&&t.preventDefault||!1,i=t&&t.container||window,r={},o={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){u(t,"keydown")},l=function(t){u(t,"keyup")},u=function(t,e){if(void 0!==o[e][t.keyCode]){for(var i=o[e][t.keyCode],r=0;r<i.length;r++)(void 0===i[r].shift||1==i[r].shift&&1==t.shiftKey||0==i[r].shift&&0==t.shiftKey)&&i[r].fn(t);1==n&&t.preventDefault()}};return r.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===o[n][s[t].code]&&(o[n][s[t].code]=[]),o[n][s[t].code].push({fn:e,shift:s[t].shift})},r.bindAll=function(t,e){for(var n in void 0===e&&(e="keydown"),s)s.hasOwnProperty(n)&&r.bind(n,t,e)},r.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},r.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],r=o[n][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||i.push(o[n][s[t].code][a]);o[n][s[t].code]=i}else o[n][s[t].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",a,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",a,!0),i.addEventListener("keyup",l,!0),r}var uS=function(){function t(e,n){var i=this;$c(this,t),this.body=e,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return Qc(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[i]]);var r,o,s=new vm(this.navigationDOM[e[i]]);"_fit"===n[i]?iS(s,Bi(r=this._fit).call(r,this)):iS(s,Bi(o=this.bindToRedraw).call(o,this,n[i])),this.navigationHammers.push(s)}var a=new vm(this.canvas.frame);rS(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Bi(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=e/t,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=e,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,p,v,y,g,m,b,w,_,k,x,S=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(!0===this.options.keyboard.bindToWindow?this.keycharm=lS({container:window,preventDefault:!0}):this.keycharm=lS({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Bi(t=this.keycharm).call(t,"up",(function(){S.bindToRedraw("_moveUp")}),"keydown"),Bi(e=this.keycharm).call(e,"down",(function(){S.bindToRedraw("_moveDown")}),"keydown"),Bi(n=this.keycharm).call(n,"left",(function(){S.bindToRedraw("_moveLeft")}),"keydown"),Bi(i=this.keycharm).call(i,"right",(function(){S.bindToRedraw("_moveRight")}),"keydown"),Bi(r=this.keycharm).call(r,"=",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Bi(o=this.keycharm).call(o,"num+",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Bi(s=this.keycharm).call(s,"num-",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Bi(a=this.keycharm).call(a,"-",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Bi(l=this.keycharm).call(l,"[",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Bi(u=this.keycharm).call(u,"]",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Bi(c=this.keycharm).call(c,"pageup",(function(){S.bindToRedraw("_zoomIn")}),"keydown"),Bi(h=this.keycharm).call(h,"pagedown",(function(){S.bindToRedraw("_zoomOut")}),"keydown"),Bi(d=this.keycharm).call(d,"up",(function(){S.unbindFromRedraw("_moveUp")}),"keyup"),Bi(f=this.keycharm).call(f,"down",(function(){S.unbindFromRedraw("_moveDown")}),"keyup"),Bi(p=this.keycharm).call(p,"left",(function(){S.unbindFromRedraw("_moveLeft")}),"keyup"),Bi(v=this.keycharm).call(v,"right",(function(){S.unbindFromRedraw("_moveRight")}),"keyup"),Bi(y=this.keycharm).call(y,"=",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Bi(g=this.keycharm).call(g,"num+",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Bi(m=this.keycharm).call(m,"num-",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Bi(b=this.keycharm).call(b,"-",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Bi(w=this.keycharm).call(w,"[",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup"),Bi(_=this.keycharm).call(_,"]",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Bi(k=this.keycharm).call(k,"pageup",(function(){S.unbindFromRedraw("_zoomIn")}),"keyup"),Bi(x=this.keycharm).call(x,"pagedown",(function(){S.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function cS(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return hS(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?hS(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function hS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var dS=function(){function t(e,n,i){var r,o,s,a,l,u,c,h,d,f,p,v,y;$c(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new uS(e,n),this.body.eventListeners.onTap=Bi(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=Bi(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=Bi(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Bi(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Bi(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Bi(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Bi(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=Bi(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Bi(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=Bi(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=Bi(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Bi(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Bi(y=this.getPointer).call(y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},pi(this.options,this.defaultOptions),this.bindEventListeners()}return Qc(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){void 0!==t&&(zg(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),em(this.options,t,"keyboard"),t.tooltip&&(pi(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Xg(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-Vg(this.canvas.frame.canvas)};var e}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,n),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,n),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];-1===Np(e).call(e,r)&&n.push(r)}return n};return{nodes:n(t.nodes,e.nodes),edges:n(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=pi({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var i,r=cS(this.selectionHandler.getSelectedNodes());try{for(r.s();!(i=r.n()).done;){var o=i.value,s={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(s)}}catch(t){r.e(t)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;Bd(i).call(i,(function(t){var n=t.node;!1===t.xFixed&&(n.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+r)),!1===t.yFixed&&(n.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+o))})),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=n.x-this.drag.pointer.x,a=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var e=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var i=this.body.selectionBox.position,r={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=Xf(n=this.body.nodeIndices).call(n,(function(t){var n=e.body.nodes[t];return n.x>=r.minX&&n.x<=r.maxX&&n.y>=r.minY&&n.y<=r.maxY}));Bd(o).call(o,(function(t){return e.selectionHandler.selectObject(e.body.nodes[t])}));var s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(Bd(a).call(a,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*t.scale;this.zoom(n,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var n=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=t/n,s=(1-o)*e.x+r.x*o,a=(1-o)*e.y+r.y*o;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=i){var l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),n<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var n=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,n)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=wv((function(){return e._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,n)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),n=this.canvas._YconvertDOMtoCanvas(t.y),i={left:e,top:n,right:e,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,s="node";if(void 0===this.popupObj){for(var a,l=this.body.nodeIndices,u=this.body.nodes,c=[],h=0;h<l.length;h++)!0===(a=u[l[h]]).isOverlappingWith(i)&&(o=!0,void 0!==a.getTitle()&&c.push(l[h]));c.length>0&&(this.popupObj=u[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var d,f=this.body.edgeIndices,p=this.body.edges,v=[],y=0;y<f.length;y++)!0===(d=p[f[y]]).isOverlappingWith(i)&&!0===d.connected&&void 0!==d.getTitle()&&v.push(f[y]);v.length>0&&(this.popupObj=p[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new ym(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var i=this.selectionHandler.getNodeAt(t);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();ow("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Sw);var fS=G.Set,pS=m,vS=aw,yS=ib.exports.getWeakData,gS=Je,mS=$,bS=Hb,wS=Rb,_S=Wt,kS=qr.set,xS=qr.getterFor,SS=Wl.find,ES=Wl.findIndex,OS=pS([].splice),TS=0,IS=function(t){return t.frozen||(t.frozen=new CS)},CS=function(){this.entries=[]},AS=function(t,e){return SS(t.entries,(function(t){return t[0]===e}))};CS.prototype={get:function(t){var e=AS(this,t);if(e)return e[1]},has:function(t){return!!AS(this,t)},set:function(t,e){var n=AS(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=ES(this.entries,(function(e){return e[0]===t}));return~e&&OS(this.entries,e,1),!!~e}};var DS,PS={getConstructor:function(t,e,n,i){var r=t((function(t,r){bS(t,o),kS(t,{type:e,id:TS++,frozen:void 0}),null!=r&&wS(r,t[i],{that:t,AS_ENTRIES:n})})),o=r.prototype,s=xS(e),a=function(t,e,n){var i=s(t),r=yS(gS(e),!0);return!0===r?IS(i).set(e,n):r[i.id]=n,t};return vS(o,{delete:function(t){var e=s(this);if(!mS(t))return!1;var n=yS(t);return!0===n?IS(e).delete(t):n&&_S(n,e.id)&&delete n[e.id]},has:function(t){var e=s(this);if(!mS(t))return!1;var n=yS(t);return!0===n?IS(e).has(t):n&&_S(n,e.id)}}),vS(o,n?{get:function(t){var e=s(this);if(mS(t)){var n=yS(t);return!0===n?IS(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),r}},MS=o,FS=m,NS=aw,BS=ib.exports,jS=ow,zS=PS,LS=$,RS=cb,US=qr.enforce,VS=xr,HS=!MS.ActiveXObject&&"ActiveXObject"in MS,WS=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},qS=jS("WeakMap",WS,zS);if(VS&&HS){DS=zS.getConstructor(WS,"WeakMap",!0),BS.enable();var YS=qS.prototype,XS=FS(YS.delete),$S=FS(YS.has),GS=FS(YS.get),KS=FS(YS.set);NS(YS,{delete:function(t){if(LS(t)&&!RS(t)){var e=US(this);return e.frozen||(e.frozen=new DS),XS(this,t)||e.frozen.delete(t)}return XS(this,t)},has:function(t){if(LS(t)&&!RS(t)){var e=US(this);return e.frozen||(e.frozen=new DS),$S(this,t)||e.frozen.has(t)}return $S(this,t)},get:function(t){if(LS(t)&&!RS(t)){var e=US(this);return e.frozen||(e.frozen=new DS),$S(this,t)?GS(this,t):e.frozen.get(t)}return GS(this,t)},set:function(t,e){if(LS(t)&&!RS(t)){var n=US(this);n.frozen||(n.frozen=new DS),$S(this,t)?KS(this,t,e):n.frozen.set(t,e)}else KS(this,t,e);return this}})}var QS,JS,ZS,tE,eE,nE=G.WeakMap;function iE(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function rE(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n}function oE(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return sE(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?sE(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function sE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function aE(t,e){var n,i=new fS,r=oE(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.has(o)||i.add(o)}}catch(t){r.e(t)}finally{r.f()}return i}var lE=function(){function t(){$c(this,t),QS.set(this,new fS),JS.set(this,new fS)}return Qc(t,[{key:"size",get:function(){return iE(this,JS,"f").size}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];iE(this,JS,"f").add(o)}}},{key:"delete",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];iE(this,JS,"f").delete(o)}}},{key:"clear",value:function(){iE(this,JS,"f").clear()}},{key:"getSelection",value:function(){return td(iE(this,JS,"f"))}},{key:"getChanges",value:function(){return{added:td(aE(iE(this,QS,"f"),iE(this,JS,"f"))),deleted:td(aE(iE(this,JS,"f"),iE(this,QS,"f"))),previous:td(new fS(iE(this,QS,"f"))),current:td(new fS(iE(this,JS,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();rE(this,QS,iE(this,JS,"f"),"f"),rE(this,JS,new fS(iE(this,QS,"f")),"f");var e,n=oE(t.added);try{for(n.s();!(e=n.n()).done;)e.value.select()}catch(t){n.e(t)}finally{n.f()}var i,r=oE(t.deleted);try{for(r.s();!(i=r.n()).done;)i.value.unselect()}catch(t){r.e(t)}finally{r.f()}return t}}]),t}();QS=new nE,JS=new nE;var uE=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};$c(this,t),ZS.set(this,new lE),tE.set(this,new lE),eE.set(this,void 0),rE(this,eE,e,"f")}return Qc(t,[{key:"sizeNodes",get:function(){return iE(this,ZS,"f").size}},{key:"sizeEdges",get:function(){return iE(this,tE,"f").size}},{key:"getNodes",value:function(){return iE(this,ZS,"f").getSelection()}},{key:"getEdges",value:function(){return iE(this,tE,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=iE(this,ZS,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=iE(this,tE,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){iE(this,ZS,"f").delete(t)}},{key:"deleteEdges",value:function(t){iE(this,tE,"f").delete(t)}},{key:"clear",value:function(){iE(this,ZS,"f").clear(),iE(this,tE,"f").clear()}},{key:"commit",value:function(){for(var t,e,n={nodes:iE(this,ZS,"f").commit(),edges:iE(this,tE,"f").commit()},i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=iE(this,eE,"f")).call.apply(t,ad(e=[this,n]).call(e,r)),n}}]),t}();function cE(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return hE(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?hE(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function hE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}ZS=new nE,tE=new nE,eE=new nE;var dE=function(){function t(e,n){var i=this;$c(this,t),this.body=e,this.canvas=n,this._selectionAccumulator=new uE,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},pi(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return Qc(t,[{key:"setOptions",value:function(t){void 0!==t&&jg(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==n&&(e=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==n&&(e=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var n={};return n.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},n.event=t,n}},{key:"generateClickEvent",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(e,n);if(!0===r)o.nodes=[],o.edges=[];else{var s=this.getSelection();o.nodes=s.nodes,o.edges=s.edges}void 0!==i&&(o.previousSelection=i),"click"==t&&(o.items=this.getClickedItems(n)),void 0!==e.controlEdge&&(o.controlEdge=e.controlEdge),this.body.emitter.emit(t,o)}},{key:"selectObject",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof Ak?(!0===n&&(e=this._selectionAccumulator).addEdges.apply(e,td(t.edges)),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===e?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var r=this.body.edgeIndices[i];n[r].isOverlappingWith(t)&&e.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(t),i=10,r=null,o=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=o[a];if(l.connected){var u=l.from.x,c=l.from.y,h=l.to.x,d=l.to.y,f=l.edgeType.getDistanceToEdge(u,c,h,d,n.x,n.y);f<i&&(r=a,i=f)}}return null!==r?!0===e?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(t){t instanceof Ak?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var e;t instanceof Ak?(this._selectionAccumulator.deleteNodes(t),(e=this._selectionAccumulator).deleteEdges.apply(e,td(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e);!0===n.hover&&(n.hover=!1,n instanceof Ak?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof Ak?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(t,e){var n=this.getNodeAt(e);void 0===n&&(n=this.getEdgeAt(e));var i=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===n||n instanceof Ak&&n.id!=r||n instanceof Ix)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof Ix&&n.id!=o||n instanceof Ak&&!n.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var s=bd(this.hoverObj.edges).length,a=bd(this.hoverObj.nodes).length;(i||n instanceof Ix&&0===s&&0===a||n instanceof Ak&&0===s&&0===a)&&(i=this.emitHoverEvent(t,e,n)),n instanceof Ak&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,e){var n=!1,i=this._selectionAccumulator.commit(),r={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,r),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,r),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),n=!0),!0===n&&this.generateClickEvent("select",e,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return yd(t=this._selectionAccumulator.getNodes()).call(t,(function(t){return t.id}))}},{key:"getSelectedEdgeIds",value:function(){var t;return yd(t=this._selectionAccumulator.getEdges()).call(t,(function(t){return t.id}))}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes){var n,i=cE(t.nodes);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=this.body.nodes[r];if(!o)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(o,e.highlightEdges)}}catch(t){i.e(t)}finally{i.f()}}if(t.edges){var s,a=cE(t.edges);try{for(a.s();!(s=a.n()).done;){var l=s.value,u=this.body.edges[l];if(!u)throw new RangeError('Edge with id "'+l+'" not found');this.selectObject(u)}}catch(t){a.e(t)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;o>=0;o--){var s=r[i[o]].getItemsOnPoint(e);n.push.apply(n,s)}for(var a=this.body.edgeIndices,l=this.body.edges,u=a.length-1;u>=0;u--){var c=l[a[u]].getItemsOnPoint(e);n.push.apply(n,c)}return n}}]),t}(),fE=yl,pE=Math.floor,vE=function(t,e){var n=t.length,i=pE(n/2);return n<8?yE(t,e):gE(t,vE(fE(t,0,i),e),vE(fE(t,i),e),e)},yE=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},gE=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},mE=vE,bE=nt.match(/firefox\/(\d+)/i),wE=!!bE&&+bE[1],_E=/MSIE|Trident/.test(nt),kE=nt.match(/AppleWebKit\/(\d+)\./),xE=!!kE&&+kE[1],SE=En,EE=m,OE=Et,TE=Ut,IE=Bn,CE=ir,AE=s,DE=mE,PE=Od,ME=wE,FE=_E,NE=ut,BE=xE,jE=[],zE=EE(jE.sort),LE=EE(jE.push),RE=AE((function(){jE.sort(void 0)})),UE=AE((function(){jE.sort(null)})),VE=PE("sort"),HE=!AE((function(){if(NE)return NE<70;if(!(ME&&ME>3)){if(FE)return!0;if(BE)return BE<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)jE.push({k:e+i,v:n})}for(jE.sort((function(t,e){return e.v-t.v})),i=0;i<jE.length;i++)e=jE[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));SE({target:"Array",proto:!0,forced:RE||!UE||!VE||!HE},{sort:function(t){void 0!==t&&OE(t);var e=TE(this);if(HE)return void 0===t?zE(e):zE(e,t);var n,i,r=[],o=IE(e);for(i=0;i<o;i++)i in e&&LE(r,e[i]);for(DE(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:CE(e)>CE(n)?1:-1}}(t)),n=r.length,i=0;i<n;)e[i]=r[i++];for(;i<o;)delete e[i++];return e}});var WE=Ai("Array").sort,qE=et,YE=WE,XE=Array.prototype,$E=function(t){var e=t.sort;return t===XE||qE(XE,t)&&e===XE.sort?YE:e},GE=$E,KE=Et,QE=Ut,JE=U,ZE=Bn,tO=o.TypeError,eO=function(t){return function(e,n,i,r){KE(n);var o=QE(e),s=JE(o),a=ZE(o),l=t?a-1:0,u=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,t?l<0:a<=l)throw tO("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},nO={left:eO(!1),right:eO(!0)},iO="process"==N(o.process),rO=nO.left,oO=ut,sO=iO;En({target:"Array",proto:!0,forced:!Od("reduce")||!sO&&oO>79&&oO<83},{reduce:function(t){var e=arguments.length;return rO(this,t,e,e>1?arguments[1]:void 0)}});var aO=Ai("Array").reduce,lO=et,uO=aO,cO=Array.prototype,hO=function(t){var e=t.reduce;return t===cO||lO(cO,t)&&e===cO.reduce?uO:e},dO=hO,fO={};!function(t){!function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.sort=v;var n=32,i=7,r=256,o=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function s(t){return t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9}function a(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(0===t||0===e)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}var n=s(t),i=s(e),r=0;return n<i?(t*=o[i-n-1],e/=10,r=-1):n>i&&(e*=o[n-i-1],t/=10,r=1),t===e?r:t<e?-1:1}var a=String(t),l=String(e);return a===l?0:a<l?-1:1}function l(t){for(var e=0;t>=n;)e|=1&t,t>>=1;return t+e}function u(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;c(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function c(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}function h(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o=t[i],s=e,a=i;s<a;){var l=s+a>>>1;r(o,t[l])<0?a=l:s=l+1}var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=o}}function d(t,e,n,i,r,o){var s=0,a=0,l=1;if(o(t,e[n+r])>0){for(a=i-r;l<a&&o(t,e[n+r+l])>0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}else{for(a=r+1;l<a&&o(t,e[n+r-l])<=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}for(s++;s<l;){var c=s+(l-s>>>1);o(t,e[n+c])>0?s=c+1:l=c}return l}function f(t,e,n,i,r,o){var s=0,a=0,l=1;if(o(t,e[n+r])<0){for(a=r+1;l<a&&o(t,e[n+r-l])<0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}else{for(a=i-r;l<a&&o(t,e[n+r+l])>=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}for(s++;s<l;){var c=s+(l-s>>>1);o(t,e[n+c])<0?l=c:s=c+1}return l}var p=function(){function t(n,o){e(this,t),this.array=null,this.compare=null,this.minGallop=i,this.length=0,this.tmpStorageLength=r,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=n,this.compare=o,this.length=n.length,this.length<2*r&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return t.prototype.pushRun=function(t,e){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=e,this.stackSize+=1},t.prototype.mergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;if(t>=1&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||t>=2&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},t.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;t>0&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},t.prototype.mergeAt=function(t){var e=this.compare,n=this.array,i=this.runStart[t],r=this.runLength[t],o=this.runStart[t+1],s=this.runLength[t+1];this.runLength[t]=r+s,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;var a=f(n[o],n,i,r,0,e);i+=a,0!=(r-=a)&&0!==(s=d(n[i+r-1],n,o,s,s-1,e))&&(r<=s?this.mergeLow(i,r,o,s):this.mergeHigh(i,r,o,s))},t.prototype.mergeLow=function(t,e,n,r){var o=this.compare,s=this.array,a=this.tmp,l=0;for(l=0;l<e;l++)a[l]=s[t+l];var u=0,c=n,h=t;if(s[h++]=s[c++],0!=--r)if(1!==e){for(var p=this.minGallop;;){var v=0,y=0,g=!1;do{if(o(s[c],a[u])<0){if(s[h++]=s[c++],y++,v=0,0==--r){g=!0;break}}else if(s[h++]=a[u++],v++,y=0,1==--e){g=!0;break}}while((v|y)<p);if(g)break;do{if(0!==(v=f(s[c],a,u,e,0,o))){for(l=0;l<v;l++)s[h+l]=a[u+l];if(h+=v,u+=v,(e-=v)<=1){g=!0;break}}if(s[h++]=s[c++],0==--r){g=!0;break}if(0!==(y=d(a[u],s,c,r,0,o))){for(l=0;l<y;l++)s[h+l]=s[c+l];if(h+=y,c+=y,0==(r-=y)){g=!0;break}}if(s[h++]=a[u++],1==--e){g=!0;break}p--}while(v>=i||y>=i);if(g)break;p<0&&(p=0),p+=2}if(this.minGallop=p,p<1&&(this.minGallop=1),1===e){for(l=0;l<r;l++)s[h+l]=s[c+l];s[h+r]=a[u]}else{if(0===e)throw new Error("mergeLow preconditions were not respected");for(l=0;l<e;l++)s[h+l]=a[u+l]}}else{for(l=0;l<r;l++)s[h+l]=s[c+l];s[h+r]=a[u]}else for(l=0;l<e;l++)s[h+l]=a[u+l]},t.prototype.mergeHigh=function(t,e,n,r){var o=this.compare,s=this.array,a=this.tmp,l=0;for(l=0;l<r;l++)a[l]=s[n+l];var u=t+e-1,c=r-1,h=n+r-1,p=0,v=0;if(s[h--]=s[u--],0!=--e)if(1!==r){for(var y=this.minGallop;;){var g=0,m=0,b=!1;do{if(o(a[c],s[u])<0){if(s[h--]=s[u--],g++,m=0,0==--e){b=!0;break}}else if(s[h--]=a[c--],m++,g=0,1==--r){b=!0;break}}while((g|m)<y);if(b)break;do{if(0!=(g=e-f(a[c],s,t,e,e-1,o))){for(e-=g,v=1+(h-=g),p=1+(u-=g),l=g-1;l>=0;l--)s[v+l]=s[p+l];if(0===e){b=!0;break}}if(s[h--]=a[c--],1==--r){b=!0;break}if(0!=(m=r-d(s[u],a,0,r,r-1,o))){for(r-=m,v=1+(h-=m),p=1+(c-=m),l=0;l<m;l++)s[v+l]=a[p+l];if(r<=1){b=!0;break}}if(s[h--]=s[u--],0==--e){b=!0;break}y--}while(g>=i||m>=i);if(b)break;y<0&&(y=0),y+=2}if(this.minGallop=y,y<1&&(this.minGallop=1),1===r){for(v=1+(h-=e),p=1+(u-=e),l=e-1;l>=0;l--)s[v+l]=s[p+l];s[h]=a[c]}else{if(0===r)throw new Error("mergeHigh preconditions were not respected");for(p=h-(r-1),l=0;l<r;l++)s[p+l]=a[l]}}else{for(v=1+(h-=e),p=1+(u-=e),l=e-1;l>=0;l--)s[v+l]=s[p+l];s[h]=a[c]}else for(p=h-(r-1),l=0;l<r;l++)s[p+l]=a[l]},t}();function v(t,e,i,r){if(!Array.isArray(t))throw new TypeError("Can only sort arrays");e?"function"!=typeof e&&(r=i,i=e,e=a):e=a,i||(i=0),r||(r=t.length);var o=r-i;if(!(o<2)){var s=0;if(o<n)h(t,i,r,i+(s=u(t,i,r,e)),e);else{var c=new p(t,e),d=l(o);do{if((s=u(t,i,r,e))<d){var f=o;f>d&&(f=d),h(t,i,i+f,i+s,e),s=f}c.pushRun(i,s),c.mergeRuns(),o-=s,i+=s}while(0!==o);c.forceMergeRuns()}}}}(t)}(fO);var pO=fO;function vO(t){var e=function(){if("undefined"==typeof Reflect||!N_)return!1;if(N_.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(N_(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=V_(t);if(e){var r=V_(this).constructor;n=N_(i,arguments,r)}else n=i.apply(this,arguments);return R_(this,n)}}var yO=function(){function t(){$c(this,t)}return Qc(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,n),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),gO=function(t){L_(n,t);var e=vO(n);function n(t){var i;return $c(this,n),(i=e.call(this)).layout=t,i}return Qc(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){pO.sort(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),n}(yO),mO=function(t){L_(n,t);var e=vO(n);function n(t){var i;return $c(this,n),(i=e.call(this)).layout=t,i}return Qc(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){pO.sort(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),n}(yO),bO=Wl.every;En({target:"Array",proto:!0,forced:!Od("every")},{every:function(t){return bO(this,t,arguments.length>1?arguments[1]:void 0)}});var wO=Ai("Array").every,_O=et,kO=wO,xO=Array.prototype,SO=function(t){var e=t.every;return t===xO||_O(xO,t)&&e===xO.every?kO:e},EO=SO;function OO(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return TO(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?TO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function TO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function IO(t,e){var n=new fS;return Bd(t).call(t,(function(t){var e;Bd(e=t.edges).call(e,(function(t){t.connected&&n.add(t)}))})),Bd(n).call(n,(function(t){var n=t.from.id,i=t.to.id;null==e[n]&&(e[n]=0),(null==e[i]||e[n]>=e[i])&&(e[i]=e[n]+1)})),e}function CO(t,e,n,i){var r,o,s=Vp(null),a=dO(r=td(h_(i).call(i))).call(r,(function(t,e){return t+1+e.edges.length}),0),l=n+"Id",u="to"===n?1:-1,c=OO(i);try{var h=function(){var r=Qh(o.value,2),c=r[0],h=r[1];if(!i.has(c)||!t(h))return"continue";s[c]=0;for(var d=[h],f=0,p=void 0,v=function(){var t,r;if(!i.has(c))return"continue";var o=s[p.id]+u;if(Bd(t=Xf(r=p.edges).call(r,(function(t){return t.connected&&t.to!==t.from&&t[n]!==p&&i.has(t.toId)&&i.has(t.fromId)}))).call(t,(function(t){var i=t[l],r=s[i];(null==r||e(o,r))&&(s[i]=o,d.push(t[n]))})),f>a)return{v:{v:IO(i,s)}};++f};p=d.pop();){var y=v();if("continue"!==y&&"object"===Zh(y))return y.v}};for(c.s();!(o=c.n()).done;){var d=h();if("continue"!==d&&"object"===Zh(d))return d.v}}catch(t){c.e(t)}finally{c.f()}return s}var AO=function(){function t(){$c(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Qc(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,n={};return function t(i){if(void 0!==n[i])return n[i];var r=e.levels[i];if(e.childrenReference[i]){var o=e.childrenReference[i];if(o.length>0)for(var s=0;s<o.length;s++)r=Math.max(r,t(o[s]))}return n[i]=r,r}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==this.levels[n]&&(e=Math.min(this.levels[n],e));for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(this.levels[i]-=e)}},{key:"getTreeSize",value:function(t,e){var n=1e9,i=-1e9,r=1e9,o=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){var a=t[s];n=Math.min(a.x,n),i=Math.max(a.x,i),r=Math.min(a.y,r),o=Math.max(a.y,o)}return{min_x:n,max_x:i,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(t,e){var n=this.parentReference[t.id],i=this.parentReference[e.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return bd(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var n=!1,i=this.distributionOrdering[e];for(var r in i)if(i[r]===t){n=!0;break}n||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),DO=function(){function t(e){$c(this,t),this.body=e,this._resetRNG(Math.random()+":"+Sd()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},pi(this.options,this.defaultOptions),this.bindEventListeners()}return Qc(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var n=this.options.hierarchical,i=n.enabled;if(jg(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),em(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),Lg(e,this.optionsBackup)}return e}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=xg(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===Zh(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:n};else{var i=t.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}},t.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var e=t.length+50,n=0;n<t.length;n++){var i=t[n],r=2*Math.PI*this._rng();void 0===i.x&&(i.x=e*Math.cos(r)),void 0===i.y&&(i.y=e*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,n=0;n<t.length;n++)!0===this.body.nodes[t[n]].predefinedPosition&&(e+=1);if(e<.5*t.length){var i=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>r){for(var s=t.length;t.length>r&&i<=10;){i+=1;var a=t.length;if(i%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),a==t.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=0;l<t.length;l++){var u=this.body.nodes[t[l]];!1===u.predefinedPosition&&(u.x+=70*(.5-this._rng()),u.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=Gx.getRangeCore(this.body.nodes,this.body.nodeIndices),e=Gx.findCenter(t),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=e.x,i.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,n=!1,i=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new AO,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(n=!0,this.hierarchical.levels[e]=t.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,n={},i=function(e,n){var i=t.hierarchical.trees;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===e&&t.direction.shift(r,n)},r=function(){for(var e=[],n=0;n<t.hierarchical.numTrees();n++)e.push(t.direction.getTreeSize(n));return e},o=function e(n,i){if(!i[n.id]&&(i[n.id]=!0,t.hierarchical.childrenReference[n.id])){var r=t.hierarchical.childrenReference[n.id];if(r.length>0)for(var o=0;o<r.length;o++)e(t.body.nodes[r[o]],i)}},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,s=-1e9;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=t.body.nodes[a],u=t.hierarchical.levels[l.id],c=t.direction.getPosition(l),h=Qh(t._getSpaceAroundNode(l,e),2),d=h[0],f=h[1];i=Math.min(d,i),r=Math.min(f,r),u<=n&&(o=Math.min(c,o),s=Math.max(c,s))}return[o,s,i,r]},a=function(e,n){var i=t.hierarchical.getMaxLevel(e.id),r=t.hierarchical.getMaxLevel(n.id);return Math.min(i,r)},l=function(e,n,i){for(var r=t.hierarchical,o=0;o<n.length;o++){var s=n[o],a=r.distributionOrdering[s];if(a.length>1)for(var l=0;l<a.length-1;l++){var u=a[l],c=a[l+1];r.hasSameParent(u,c)&&r.inSameSubNetwork(u,c)&&e(u,c,i)}}},u=function(n,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=t.direction.getPosition(n),u=t.direction.getPosition(i),c=Math.abs(u-l),h=t.options.hierarchical.nodeSpacing;if(c>h){var d={},f={};o(n,d),o(i,f);var p=a(n,i),v=s(d,p),y=s(f,p),g=v[1],m=y[0],b=y[2];if(Math.abs(g-m)>h){var w=g-m+h;w<-b+h&&(w=-b+h),w<0&&(t._shiftBlock(i.id,w),e=!0,!0===r&&t._centerParent(i))}}},c=function(i,r){for(var a=r.id,l=r.edges,u=t.hierarchical.levels[r.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,h={},d=[],f=0;f<l.length;f++){var p=l[f];if(p.toId!=p.fromId){var v=p.toId==a?p.from:p.to;h[l[f].id]=v,t.hierarchical.levels[v.id]<u&&d.push(p)}}var y=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==h[n[r].id]){var o=t.direction.getPosition(h[n[r].id])-e;i+=o/Math.sqrt(o*o+c)}return i},g=function(e,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==h[n[r].id]){var o=t.direction.getPosition(h[n[r].id])-e;i-=c*Math.pow(o*o+c,-1.5)}return i},m=function(e,n){for(var i=t.direction.getPosition(r),o={},s=0;s<e;s++){var a=y(i,n),l=g(i,n);if(void 0!==o[i-=Math.max(-40,Math.min(40,Math.round(a/l)))])break;o[i]=s}return i},b=m(i,d);!function(i){var a=t.direction.getPosition(r);if(void 0===n[r.id]){var l={};o(r,l),n[r.id]=l}var u=s(n[r.id]),c=u[2],h=u[3],d=i-a,f=0;d>0?f=Math.min(d,h-t.options.hierarchical.nodeSpacing):d<0&&(f=-Math.min(-d,c-t.options.hierarchical.nodeSpacing)),0!=f&&(t._shiftBlock(r.id,f),e=!0)}(b),function(n){var i=t.direction.getPosition(r),o=Qh(t._getSpaceAroundNode(r),2),s=o[0],a=o[1],l=n-i,u=i;l>0?u=Math.min(i+(a-t.options.hierarchical.nodeSpacing),n):l<0&&(u=Math.max(i-(s-t.options.hierarchical.nodeSpacing),n)),u!==i&&(t.direction.setPosition(r,u),e=!0)}(b=m(i,l))};!0===this.options.hierarchical.blockShifting&&(function(n){var i=t.hierarchical.getLevels();i=Yd(i).call(i);for(var r=0;r<n&&(e=!1,l(u,i,!0),!0===e);r++);}(5),function(){for(var e in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var i=t.hierarchical.getLevels();i=Yd(i).call(i);for(var r=0;r<n;r++){e=!1;for(var o=0;o<i.length;o++)for(var s=i[o],a=t.hierarchical.distributionOrdering[s],l=0;l<a.length;l++)c(1e3,a[l]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=Yd(e).call(e);for(var n=0;n<e.length;n++)for(var i=e[n],r=t.hierarchical.distributionOrdering[i],o=0;o<r.length;o++)t._centerParent(r[o])}(),function(){for(var e=r(),n=0,o=0;o<e.length-1;o++)n+=e[o].max-e[o+1].min+t.options.hierarchical.treeSpacing,i(o+1,n)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var n=!0;void 0===e&&(n=!1);var i=this.hierarchical.levels[t.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[t.id],o=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[i],a=1e9,l=1e9;if(0!==r){var u=s[r-1];(!0===n&&void 0===e[u.id]||!1===n)&&(a=o-this.direction.getPosition(u))}if(r!=s.length-1){var c=s[r+1];if(!0===n&&void 0===e[c.id]||!1===n){var h=this.direction.getPosition(c);l=Math.min(l,h-o)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],n=0;n<e.length;n++){var i=e[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var s=this._getCenterPosition(o),a=this.direction.getPosition(r),l=Qh(this._getSpaceAroundNode(r),2),u=l[0],c=l[1],h=a-s;(h<0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var n,i=bd(t[e]);i=this._indexArrayToNodes(i),GE(n=this.direction).call(n,i);for(var r=0,o=0;o<i.length;o++){var s=i[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,l=a*r;r>0&&(l=this.direction.getPosition(i[o-1])+a),this.direction.setPosition(s,l,e),this._validatePositionAndContinue(s,e,l),r++}}}}},{key:"_placeBranchNodes",value:function(t,e){var n,i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var r=[],o=0;o<i.length;o++)r.push(this.body.nodes[i[o]]);GE(n=this.direction).call(n,r);for(var s=0;s<r.length;s++){var a=r[s],l=this.hierarchical.levels[a.id];if(!(l>e&&void 0===this.positionedNodes[a.id]))return;var u=this.options.hierarchical.nodeSpacing,c=void 0;c=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[s-1])+u,this.direction.setPosition(a,c,l),this._validatePositionAndContinue(a,l,c)}var h=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],h,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.body.nodes[t[n]]);return e}},{key:"_getDistribution",value:function(){var t,e,n={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];var i=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,i),void 0===n[i]&&(n[i]={}),n[i][t]=e}return n}},{key:"_getActiveEdges",value:function(t){var e=this,n=[];return Hg(t.edges,(function(t){var i;-1!==Np(i=e.body.edgeIndices).call(i,t.id)&&n.push(t)})),n}},{key:"_getHubSizes",value:function(){var t=this,e={};Hg(this.body.nodeIndices,(function(n){var i=t.body.nodes[n],r=t._getActiveEdges(i).length;e[r]=!0}));var n=[];return Hg(e,(function(t){n.push(Number(t))})),GE(pO).call(pO,n,(function(t,e){return e-t})),n}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,n){t.hierarchical.levelDownstream(e,n)},n=this._getHubSizes(),i=function(i){var r=n[i];if(0===r)return"break";Hg(t.body.nodeIndices,(function(n){var i=t.body.nodes[n];r===t._getActiveEdges(i).length&&t._crawlNetwork(e,n)}))},r=0;r<n.length&&"break"!==i(r);++r);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,n,i){var r=t.hierarchical.levels[e.id];void 0===r&&(r=t.hierarchical.levels[e.id]=1e5);var o=(Gx.cloneOptions(e,"node"),Gx.cloneOptions(n,"node"),void Gx.cloneOptions(i,"edge"));t.hierarchical.levels[n.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,n=dO(t=this.body.nodeIndices).call(t,(function(t,n){return t.set(n,e.body.nodes[n]),t}),new Ew);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return CO((function(e){var n,i;return EO(n=Xf(i=e.edges).call(i,(function(e){return t.has(e.toId)}))).call(n,(function(t){return t.from===e}))}),(function(t,e){return e<t}),"to",t)}(n):this.hierarchical.levels=function(t){return CO((function(e){var n,i;return EO(n=Xf(i=e.edges).call(i,(function(e){return t.has(e.toId)}))).call(n,(function(t){return t.to===e}))}),(function(t,e){return e>t}),"from",t)}(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,n){t.hierarchical.levels[n.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){var s;t.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var a=t._getActiveEdges(r),l=0;l<a.length;l++){var u=a[l];!0===u.connected&&(s=u.toId==r.id?u.from:u.to,r.id!=s.id&&(e(r,s,u),n(s,o)))}}};if(void 0===n)for(var o=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];void 0===i[a]&&(r(this.body.nodes[a],o),o+=1)}else{var l=this.body.nodes[n];if(void 0===l)return void console.error("Node not found:",n);r(l)}}},{key:"_shiftBlock",value:function(t,e){var n=this,i={};!function t(r){if(!i[r]){i[r]=!0,n.direction.shift(r,e);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var s=0;s<o.length;s++)t(o[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var n=this,i={};return function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];e[s]=!0,t(e,s)}}(i,t),function t(e,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var s=r[o];if(void 0!==e[s])return{foundParent:s,withChild:i};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}}(i,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new gO(this):new mO(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,n=-1e9,i=0;i<t.length;i++){var r=void 0;if(void 0!==t[i].id)r=t[i];else{var o=t[i];r=this.body.nodes[o]}var s=this.direction.getPosition(r);e=Math.min(e,s),n=Math.max(n,s)}return.5*(e+n)}}]),t}();function PO(t,e){var n=void 0!==ed&&rl(t)||t["@@iterator"];if(!n){if(ud(t)||(n=function(t,e){var n;if(t){if("string"==typeof t)return MO(t,e);var i=ld(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Ra(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?MO(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function MO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var FO=function(){function t(e,n,i,r){var o,s,a=this;$c(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},pi(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Bi(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",Bi(s=this._restore).call(s,this))}return Qc(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,n){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=n.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=n.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,Lg(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),r=n+i,o=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(o)),1===n&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(o)):1===i&&0===n&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(o)),0!==r&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,Bi(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Bi(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Bi(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Bi(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var n=Lg({},e.options,!1);if(n.x=e.x,n.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,n,i,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Bi(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",Bi(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Bi(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Bi(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Bi(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Bi(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==Zh(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Bi(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var n,i,r,o,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),l=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Bi(n=this._controlNodeTouch).call(n,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Bi(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",Bi(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",Bi(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=s.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===l.selected&&(l.x=e.to.x,l.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var u=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(u.from.id,u.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),i=void 0;if(e.length>0){for(var r=0;r<e.length;r++)if(!0===this.body.nodes[e[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var o={nodes:e,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(o,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var n=Lg({},this.options.controlNodeStyle);n.id="targetNode"+$x(),n.hidden=!1,n.physics=!1,n.x=t,n.y=e;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},Pg(this.editModeDiv);var e=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Bi(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(Pg(this.editModeDiv),Pg(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,e,n=PO(ff(t=this._domEventListenerCleanupQueue).call(t,0));try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(t){n.e(t)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Pg(this.manipulationDiv),Pg(this.editModeDiv),Pg(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,n=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Bi(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,n=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Bi(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,n=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Bi(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,n=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Bi(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,n;n=this.options.rtl?"vis-delete-rtl":"vis-delete";var i=this._createButton("delete",n,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Bi(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,n=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Bi(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=i,this.manipulationDOM[t+"Label"].innerText=n,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+uv(bd(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,n=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,e){var n=new vm(t,{});iS(n,e),this._domEventListenerCleanupQueue.push((function(){n.destroy()}));var i=function(t){var n=t.keyCode,i=t.key;"Enter"!==i&&" "!==i&&13!==n&&32!==n||e()};t.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push((function(){t.removeEventListener("keyup",i,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var n,i=Np(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);-1!==i&&ff(n=this.body.edgeIndices).call(n,i,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var s,a=Np(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);-1!==a&&ff(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=pi({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(e),s=i.isOverlappingWith(e);!0===o?(this.selectedControlNode=n,r.edgeType.from=n):!0===s&&(this.selectedControlNode=i,r.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),n=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--)if(r[s]!==this.selectedControlNode.id){o=this.body.nodes[r[s]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=pi({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var e=this.lastTouch,n=this.selectionHandler.getNodeAt(e);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var r=this.body.functions.createEdge({id:"connectionEdge"+$x(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===Np(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}if(t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(e.x),l.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,s=r.length-1;s>=0;s--){var a;if(-1===Np(a=this.temporaryIds.nodes).call(a,r[s])){o=this.body.nodes[r[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),t.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,n={id:$x(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var n=this,i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,(function(t){null!=t&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var n=this,i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===Zh(r)&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,(function(t){null==t||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),NO="string",BO="boolean",jO="number",zO="array",LO="object",RO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],UO={borderWidth:{number:jO},borderWidthSelected:{number:jO,undefined:"undefined"},brokenImage:{string:NO,undefined:"undefined"},chosen:{label:{boolean:BO,function:"function"},node:{boolean:BO,function:"function"},__type__:{object:LO,boolean:BO}},color:{border:{string:NO},background:{string:NO},highlight:{border:{string:NO},background:{string:NO},__type__:{object:LO,string:NO}},hover:{border:{string:NO},background:{string:NO},__type__:{object:LO,string:NO}},__type__:{object:LO,string:NO}},opacity:{number:jO,undefined:"undefined"},fixed:{x:{boolean:BO},y:{boolean:BO},__type__:{object:LO,boolean:BO}},font:{align:{string:NO},color:{string:NO},size:{number:jO},face:{string:NO},background:{string:NO},strokeWidth:{number:jO},strokeColor:{string:NO},vadjust:{number:jO},multi:{boolean:BO,string:NO},bold:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},boldital:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},ital:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},mono:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},__type__:{object:LO,string:NO}},group:{string:NO,number:jO,undefined:"undefined"},heightConstraint:{minimum:{number:jO},valign:{string:NO},__type__:{object:LO,boolean:BO,number:jO}},hidden:{boolean:BO},icon:{face:{string:NO},code:{string:NO},size:{number:jO},color:{string:NO},weight:{string:NO,number:jO},__type__:{object:LO}},id:{string:NO,number:jO},image:{selected:{string:NO,undefined:"undefined"},unselected:{string:NO,undefined:"undefined"},__type__:{object:LO,string:NO}},imagePadding:{top:{number:jO},right:{number:jO},bottom:{number:jO},left:{number:jO},__type__:{object:LO,number:jO}},label:{string:NO,undefined:"undefined"},labelHighlightBold:{boolean:BO},level:{number:jO,undefined:"undefined"},margin:{top:{number:jO},right:{number:jO},bottom:{number:jO},left:{number:jO},__type__:{object:LO,number:jO}},mass:{number:jO},physics:{boolean:BO},scaling:{min:{number:jO},max:{number:jO},label:{enabled:{boolean:BO},min:{number:jO},max:{number:jO},maxVisible:{number:jO},drawThreshold:{number:jO},__type__:{object:LO,boolean:BO}},customScalingFunction:{function:"function"},__type__:{object:LO}},shadow:{enabled:{boolean:BO},color:{string:NO},size:{number:jO},x:{number:jO},y:{number:jO},__type__:{object:LO,boolean:BO}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:BO,array:zO},borderRadius:{number:jO},interpolation:{boolean:BO},useImageSize:{boolean:BO},useBorderWithImage:{boolean:BO},coordinateOrigin:{string:["center","top-left"]},__type__:{object:LO}},size:{number:jO},title:{string:NO,dom:"dom",undefined:"undefined"},value:{number:jO,undefined:"undefined"},widthConstraint:{minimum:{number:jO},maximum:{number:jO},__type__:{object:LO,boolean:BO,number:jO}},x:{number:jO},y:{number:jO},__type__:{object:LO}},VO={configure:{enabled:{boolean:BO},filter:{boolean:BO,string:NO,array:zO,function:"function"},container:{dom:"dom"},showButton:{boolean:BO},__type__:{object:LO,boolean:BO,string:NO,array:zO,function:"function"}},edges:{arrows:{to:{enabled:{boolean:BO},scaleFactor:{number:jO},type:{string:RO},imageHeight:{number:jO},imageWidth:{number:jO},src:{string:NO},__type__:{object:LO,boolean:BO}},middle:{enabled:{boolean:BO},scaleFactor:{number:jO},type:{string:RO},imageWidth:{number:jO},imageHeight:{number:jO},src:{string:NO},__type__:{object:LO,boolean:BO}},from:{enabled:{boolean:BO},scaleFactor:{number:jO},type:{string:RO},imageWidth:{number:jO},imageHeight:{number:jO},src:{string:NO},__type__:{object:LO,boolean:BO}},__type__:{string:["from","to","middle"],object:LO}},endPointOffset:{from:{number:jO},to:{number:jO},__type__:{object:LO,number:jO}},arrowStrikethrough:{boolean:BO},background:{enabled:{boolean:BO},color:{string:NO},size:{number:jO},dashes:{boolean:BO,array:zO},__type__:{object:LO,boolean:BO}},chosen:{label:{boolean:BO,function:"function"},edge:{boolean:BO,function:"function"},__type__:{object:LO,boolean:BO}},color:{color:{string:NO},highlight:{string:NO},hover:{string:NO},inherit:{string:["from","to","both"],boolean:BO},opacity:{number:jO},__type__:{object:LO,string:NO}},dashes:{boolean:BO,array:zO},font:{color:{string:NO},size:{number:jO},face:{string:NO},background:{string:NO},strokeWidth:{number:jO},strokeColor:{string:NO},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:jO},multi:{boolean:BO,string:NO},bold:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},boldital:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},ital:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},mono:{color:{string:NO},size:{number:jO},face:{string:NO},mod:{string:NO},vadjust:{number:jO},__type__:{object:LO,string:NO}},__type__:{object:LO,string:NO}},hidden:{boolean:BO},hoverWidth:{function:"function",number:jO},label:{string:NO,undefined:"undefined"},labelHighlightBold:{boolean:BO},length:{number:jO,undefined:"undefined"},physics:{boolean:BO},scaling:{min:{number:jO},max:{number:jO},label:{enabled:{boolean:BO},min:{number:jO},max:{number:jO},maxVisible:{number:jO},drawThreshold:{number:jO},__type__:{object:LO,boolean:BO}},customScalingFunction:{function:"function"},__type__:{object:LO}},selectionWidth:{function:"function",number:jO},selfReferenceSize:{number:jO},selfReference:{size:{number:jO},angle:{number:jO},renderBehindTheNode:{boolean:BO},__type__:{object:LO}},shadow:{enabled:{boolean:BO},color:{string:NO},size:{number:jO},x:{number:jO},y:{number:jO},__type__:{object:LO,boolean:BO}},smooth:{enabled:{boolean:BO},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:jO},forceDirection:{string:["horizontal","vertical","none"],boolean:BO},__type__:{object:LO,boolean:BO}},title:{string:NO,undefined:"undefined"},width:{number:jO},widthConstraint:{maximum:{number:jO},__type__:{object:LO,boolean:BO,number:jO}},value:{number:jO,undefined:"undefined"},__type__:{object:LO}},groups:{useDefaultGroups:{boolean:BO},__any__:UO,__type__:{object:LO}},interaction:{dragNodes:{boolean:BO},dragView:{boolean:BO},hideEdgesOnDrag:{boolean:BO},hideEdgesOnZoom:{boolean:BO},hideNodesOnDrag:{boolean:BO},hover:{boolean:BO},keyboard:{enabled:{boolean:BO},speed:{x:{number:jO},y:{number:jO},zoom:{number:jO},__type__:{object:LO}},bindToWindow:{boolean:BO},autoFocus:{boolean:BO},__type__:{object:LO,boolean:BO}},multiselect:{boolean:BO},navigationButtons:{boolean:BO},selectable:{boolean:BO},selectConnectedEdges:{boolean:BO},hoverConnectedEdges:{boolean:BO},tooltipDelay:{number:jO},zoomView:{boolean:BO},zoomSpeed:{number:jO},__type__:{object:LO}},layout:{randomSeed:{undefined:"undefined",number:jO,string:NO},improvedLayout:{boolean:BO},clusterThreshold:{number:jO},hierarchical:{enabled:{boolean:BO},levelSeparation:{number:jO},nodeSpacing:{number:jO},treeSpacing:{number:jO},blockShifting:{boolean:BO},edgeMinimization:{boolean:BO},parentCentralization:{boolean:BO},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:LO,boolean:BO}},__type__:{object:LO}},manipulation:{enabled:{boolean:BO},initiallyActive:{boolean:BO},addNode:{boolean:BO,function:"function"},addEdge:{boolean:BO,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:LO,boolean:BO,function:"function"}},deleteNode:{boolean:BO,function:"function"},deleteEdge:{boolean:BO,function:"function"},controlNodeStyle:UO,__type__:{object:LO,boolean:BO}},nodes:UO,physics:{enabled:{boolean:BO},barnesHut:{theta:{number:jO},gravitationalConstant:{number:jO},centralGravity:{number:jO},springLength:{number:jO},springConstant:{number:jO},damping:{number:jO},avoidOverlap:{number:jO},__type__:{object:LO}},forceAtlas2Based:{theta:{number:jO},gravitationalConstant:{number:jO},centralGravity:{number:jO},springLength:{number:jO},springConstant:{number:jO},damping:{number:jO},avoidOverlap:{number:jO},__type__:{object:LO}},repulsion:{centralGravity:{number:jO},springLength:{number:jO},springConstant:{number:jO},nodeDistance:{number:jO},damping:{number:jO},__type__:{object:LO}},hierarchicalRepulsion:{centralGravity:{number:jO},springLength:{number:jO},springConstant:{number:jO},nodeDistance:{number:jO},damping:{number:jO},avoidOverlap:{number:jO},__type__:{object:LO}},maxVelocity:{number:jO},minVelocity:{number:jO},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:BO},iterations:{number:jO},updateInterval:{number:jO},onlyDynamicEdges:{boolean:BO},fit:{boolean:BO},__type__:{object:LO,boolean:BO}},timestep:{number:jO},adaptiveTimestep:{boolean:BO},wind:{x:{number:jO},y:{number:jO},__type__:{object:LO}},__type__:{object:LO,boolean:BO}},autoResize:{boolean:BO},clickToUse:{boolean:BO},locale:{string:NO},locales:{__any__:{any:"any"},__type__:{object:LO}},height:{string:NO},width:{string:NO},__type__:{object:LO}},HO={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},WO=function(t,e,n){var i;return!(!Nf(t).call(t,"physics")||!Nf(i=HO.physics.solver).call(i,e)||n.physics.solver===e||"wind"===e)},qO=Object.freeze({__proto__:null,configuratorHideOption:WO,allOptions:VO,configureOptions:HO}),YO=function(){function t(){$c(this,t)}return Qc(t,[{key:"getDistances",value:function(t,e,n){for(var i={},r=t.edges,o=0;o<e.length;o++){var s={};i[e[o]]=s;for(var a=0;a<e.length;a++)s[e[a]]=o==a?0:1e9}for(var l=0;l<n.length;l++){var u=r[n[l]];!0===u.connected&&void 0!==i[u.fromId]&&void 0!==i[u.toId]&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}for(var c=e.length,h=0;h<c;h++)for(var d=e[h],f=i[d],p=0;p<c-1;p++)for(var v=e[p],y=i[v],g=p+1;g<c;g++){var m=e[g],b=i[m],w=Math.min(y[m],y[d]+f[m]);y[m]=w,b[v]=w}return i}}]),t}(),XO=function(){function t(e,n,i){$c(this,t),this.body=e,this.springLength=n,this.springConstant=i,this.distanceSolver=new YO}return Qc(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var r=.01,o=1,s=0,a=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5,u=1e9,c=0,h=0,d=0,f=0,p=0;u>r&&s<a;){s+=1;var v=Qh(this._getHighestEnergyNode(n),4);for(c=v[0],u=v[1],h=v[2],d=v[3],f=u,p=0;f>o&&p<l;){p+=1,this._moveNode(c,h,d);var y=Qh(this._getEnergy(c),3);f=y[0],h=y[1],d=y[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=0,r=e[0],o=0,s=0,a=0;a<e.length;a++){var l=e[a];if(!0!==n[l].predefinedPosition||!0===n[l].isCluster&&!0===t||!0!==n[l].options.fixed.x||!0!==n[l].options.fixed.y){var u=Qh(this._getEnergy(l),3),c=u[0],h=u[1],d=u[2];i<c&&(i=c,r=l,o=h,s=d)}}return[r,i,o,s]}},{key:"_getEnergy",value:function(t){var e=Qh(this.E_sums[t],2),n=e[0],i=e[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(t,e,n){for(var i=this.body.nodeIndices,r=this.body.nodes,o=0,s=0,a=0,l=r[t].x,u=r[t].y,c=this.K_matrix[t],h=this.L_matrix[t],d=0;d<i.length;d++){var f=i[d];if(f!==t){var p=r[f].x,v=r[f].y,y=c[f],g=h[f],m=1/Math.pow(Math.pow(l-p,2)+Math.pow(u-v,2),1.5);o+=y*(1-g*Math.pow(u-v,2)*m),s+=y*(g*(l-p)*(u-v)*m),a+=y*(1-g*Math.pow(l-p,2)*m)}}var b=(e/o+n/s)/(s/o-a/s),w=-(s*b+e)/o;r[t].x+=w,r[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<e.length;i++){this.L_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.L_matrix[e[i]][e[r]]=n*t[e[i]][e[r]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<e.length;i++){this.K_matrix[e[i]]={};for(var r=0;r<e.length;r++)this.K_matrix[e[i]][e[r]]=n*Math.pow(t[e[i]][e[r]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<t.length;n++)this.E_matrix[t[n]]=[];for(var i=0;i<t.length;i++){for(var r=t[i],o=e[r].x,s=e[r].y,a=0,l=0,u=i;u<t.length;u++){var c=t[u];if(c!==r){var h=e[c].x,d=e[c].y,f=1/Math.sqrt(Math.pow(o-h,2)+Math.pow(s-d,2));this.E_matrix[r][u]=[this.K_matrix[r][c]*(o-h-this.L_matrix[r][c]*(o-h)*f),this.K_matrix[r][c]*(s-d-this.L_matrix[r][c]*(s-d)*f)],this.E_matrix[c][i]=this.E_matrix[r][u],a+=this.E_matrix[r][u][0],l+=this.E_matrix[r][u][1]}}this.E_sums[r]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[t],r=this.K_matrix[t],o=this.L_matrix[t],s=n[t].x,a=n[t].y,l=0,u=0,c=0;c<e.length;c++){var h=e[c];if(h!==t){var d=i[c],f=d[0],p=d[1],v=n[h].x,y=n[h].y,g=1/Math.sqrt(Math.pow(s-v,2)+Math.pow(a-y,2)),m=r[h]*(s-v-o[h]*(s-v)*g),b=r[h]*(a-y-o[h]*(a-y)*g);i[c]=[m,b],l+=m,u+=b;var w=this.E_sums[h];w[0]+=m-f,w[1]+=b-p}}this.E_sums[t]=[l,u]}}]),t}();function $O(t,e,n){var i,r,o,s,a=this;if(!(this instanceof $O))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:tb,clickToUse:!1},pi(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Bi(i=this.on).call(i,this),off:Bi(r=this.off).call(r,this),emit:Bi(o=this.emit).call(o,this),once:Bi(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new nb((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new Ow,this.canvas=new oS(this.body),this.selectionHandler=new dE(this.body,this.canvas),this.interactionHandler=new dS(this.body,this.canvas,this.selectionHandler),this.view=new aS(this.body,this.canvas),this.renderer=new eS(this.body,this.canvas),this.physics=new Ux(this.body),this.layoutEngine=new DO(this.body),this.clustering=new Jx(this.body),this.manipulation=new FO(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Mk(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Cx(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new XO(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(e)}Wi($O.prototype),$O.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){if(!0===mm.validate(t,VO)&&console.error("%cErrors have been found in the supplied options object.",gm),jg(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{var n=Qh(e.split(/[-_ /]/,2),2),i=n[0],r=n[1],o=null!=i?i.toLowerCase():null,s=null!=r?r.toUpperCase():null;if(o&&s){var a,l=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,l))return l;console.warn(ad(a="Unknown variant ".concat(s," of language ")).call(a,o,"."))}if(o){var u=o;if(Object.prototype.hasOwnProperty.call(t,u))return u;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new pm(this,this.body.container,HO,this.canvas.pixelRatio,WO)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Lg(n.nodes,this.nodesHandler.options),Lg(n.edges,this.edgesHandler.options),Lg(n.layout,this.layoutEngine.options),Lg(n.interaction,this.selectionHandler.options),Lg(n.interaction,this.renderer.options),Lg(n.interaction,this.interactionHandler.options),Lg(n.manipulation,this.manipulation.options),Lg(n.physics,this.physics.options),Lg(n.global,this.canvas.options),Lg(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new fm(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},$O.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,n)&&(this.clustering._isClusteredNode(n)||!1!==t[n].options.hidden||this.body.nodeIndices.push(t[n].id));for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i],o=t[r.fromId],s=t[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},$O.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},$O.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=Km(t.dot);this.setData(e)}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=Jm(t.gephi);this.setData(n)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},$O.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];Pg(this.body.container)},$O.prototype._updateValueRange=function(t){var e,n=void 0,i=void 0,r=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var o=t[e].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(n,i,r)},$O.prototype.isActive=function(){return!this.activator||this.activator.active},$O.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},$O.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},$O.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},$O.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},$O.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},$O.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},$O.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},$O.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},$O.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},$O.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},$O.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},$O.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},$O.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},$O.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},$O.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},$O.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},$O.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},$O.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},$O.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},$O.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},$O.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},$O.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},$O.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},$O.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},$O.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},$O.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},$O.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},$O.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},$O.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},$O.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},$O.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},$O.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},$O.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},$O.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},$O.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},$O.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},$O.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},$O.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},$O.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},$O.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},$O.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},$O.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},$O.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},$O.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},$O.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},$O.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},$O.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},$O.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},$O.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},$O.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},$O.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},$O.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var GO=Km;t.Network=$O,t.NetworkImages=nb,t.networkDOTParser=Qm,t.networkGephiParser=Zm,t.networkOptions=qO,t.parseDOTNetwork=GO,t.parseGephiNetwork=Jm,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(114))}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(43),e=n(950),i=n(923),r=n(635),o=n(580),s=n(212);const a=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r};const l="object"==typeof global&&global&&global.Object===Object&&global;var u="object"==typeof self&&self&&self.Object===Object&&self;const c=l||u||Function("return this")();const h=c.Symbol;var d=Object.prototype,f=d.hasOwnProperty,p=d.toString,v=h?h.toStringTag:void 0;const y=function(t){var e=f.call(t,v),n=t[v];try{t[v]=void 0;var i=!0}catch(o){}var r=p.call(t);return i&&(e?t[v]=n:delete t[v]),r};var g=Object.prototype.toString;const m=function(t){return g.call(t)};var b=h?h.toStringTag:void 0;const w=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":b&&b in Object(t)?y(t):m(t)};const _=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const k=function(t){if(!_(t))return!1;var e=w(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const x=c["__core-js_shared__"];var S=function(){var t=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();const E=function(t){return!!S&&S in t};var O=Function.prototype.toString;const T=function(t){if(null!=t){try{return O.call(t)}catch(e){}try{return t+""}catch(e){}}return""};var I=/^\[object .+?Constructor\]$/,C=Function.prototype,A=Object.prototype,D=C.toString,P=A.hasOwnProperty,M=RegExp("^"+D.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const F=function(t){return!(!_(t)||E(t))&&(k(t)?M:I).test(T(t))};const N=function(t,e){return null==t?void 0:t[e]};const B=function(t,e){var n=N(t,e);return F(n)?n:void 0};const j=B(Object,"create");const z=function(){this.__data__=j?j(null):{},this.size=0};const L=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var R=Object.prototype.hasOwnProperty;const U=function(t){var e=this.__data__;if(j){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(e,t)?e[t]:void 0};var V=Object.prototype.hasOwnProperty;const H=function(t){var e=this.__data__;return j?void 0!==e[t]:V.call(e,t)};const W=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=j&&void 0===e?"__lodash_hash_undefined__":e,this};function q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}q.prototype.clear=z,q.prototype.delete=L,q.prototype.get=U,q.prototype.has=H,q.prototype.set=W;const Y=q;const X=function(){this.__data__=[],this.size=0};const $=function(t,e){return t===e||t!==t&&e!==e};const G=function(t,e){for(var n=t.length;n--;)if($(t[n][0],e))return n;return-1};var K=Array.prototype.splice;const Q=function(t){var e=this.__data__,n=G(e,t);return!(n<0)&&(n==e.length-1?e.pop():K.call(e,n,1),--this.size,!0)};const J=function(t){var e=this.__data__,n=G(e,t);return n<0?void 0:e[n][1]};const Z=function(t){return G(this.__data__,t)>-1};const tt=function(t,e){var n=this.__data__,i=G(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}et.prototype.clear=X,et.prototype.delete=Q,et.prototype.get=J,et.prototype.has=Z,et.prototype.set=tt;const nt=et;const it=B(c,"Map");const rt=function(){this.size=0,this.__data__={hash:new Y,map:new(it||nt),string:new Y}};const ot=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const st=function(t,e){var n=t.__data__;return ot(e)?n["string"==typeof e?"string":"hash"]:n.map};const at=function(t){var e=st(this,t).delete(t);return this.size-=e?1:0,e};const lt=function(t){return st(this,t).get(t)};const ut=function(t){return st(this,t).has(t)};const ct=function(t,e){var n=st(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function ht(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ht.prototype.clear=rt,ht.prototype.delete=at,ht.prototype.get=lt,ht.prototype.has=ut,ht.prototype.set=ct;const dt=ht;const ft=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const pt=function(t){return this.__data__.has(t)};function vt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new dt;++e<n;)this.add(t[e])}vt.prototype.add=vt.prototype.push=ft,vt.prototype.has=pt;const yt=vt;const gt=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1};const mt=function(t){return t!==t};const bt=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1};const wt=function(t,e,n){return e===e?bt(t,e,n):gt(t,mt,n)};const _t=function(t,e){return!!(null==t?0:t.length)&&wt(t,e,0)>-1};const kt=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1};const xt=function(t){return function(e){return t(e)}};const St=function(t,e){return t.has(e)};var Et=Math.min;const Ot=function(t,e,n){for(var i=n?kt:_t,r=t[0].length,o=t.length,s=o,l=Array(o),u=1/0,c=[];s--;){var h=t[s];s&&e&&(h=a(h,xt(e))),u=Et(h.length,u),l[s]=!n&&(e||r>=120&&h.length>=120)?new yt(s&&h):void 0}h=t[0];var d=-1,f=l[0];t:for(;++d<r&&c.length<u;){var p=h[d],v=e?e(p):p;if(p=n||0!==p?p:0,!(f?St(f,v):i(c,v,n))){for(s=o;--s;){var y=l[s];if(!(y?St(y,v):i(t[s],v,n)))continue t}f&&f.push(v),c.push(p)}}return c};const Tt=function(t){return t};const It=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Ct=Math.max;const At=function(t,e,n){return e=Ct(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Ct(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),It(t,this,a)}};const Dt=function(t){return function(){return t}};const Pt=function(){try{var t=B(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();const Mt=Pt?function(t,e){return Pt(t,"toString",{configurable:!0,enumerable:!1,value:Dt(e),writable:!0})}:Tt;var Ft=Date.now;const Nt=function(t){var e=0,n=0;return function(){var i=Ft(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Mt);const Bt=function(t,e){return Nt(At(t,e,Tt),t+"")};const jt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};const zt=function(t){return null!=t&&jt(t.length)&&!k(t)};const Lt=function(t){return null!=t&&"object"==typeof t};const Rt=function(t){return Lt(t)&&zt(t)};const Ut=function(t){return Rt(t)?t:[]};const Vt=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};const Ht=Bt((function(t){var e=Vt(t),n=a(t,Ut);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?Ot(n,void 0,e):[]}));const Wt=function(){this.__data__=new nt,this.size=0};const qt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const Yt=function(t){return this.__data__.get(t)};const Xt=function(t){return this.__data__.has(t)};const $t=function(t,e){var n=this.__data__;if(n instanceof nt){var i=n.__data__;if(!it||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new dt(i)}return n.set(t,e),this.size=n.size,this};function Gt(t){var e=this.__data__=new nt(t);this.size=e.size}Gt.prototype.clear=Wt,Gt.prototype.delete=qt,Gt.prototype.get=Yt,Gt.prototype.has=Xt,Gt.prototype.set=$t;const Kt=Gt;const Qt=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1};const Jt=function(t,e,n,i,r,o){var s=1&n,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=2&n?new yt:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],v=e[h];if(i)var y=s?i(v,p,h,e,t,o):i(p,v,h,t,e,o);if(void 0!==y){if(y)continue;d=!1;break}if(f){if(!Qt(e,(function(t,e){if(!St(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)}))){d=!1;break}}else if(p!==v&&!r(p,v,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d};const Zt=c.Uint8Array;const te=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n};const ee=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var ne=h?h.prototype:void 0,ie=ne?ne.valueOf:void 0;const re=function(t,e,n,i,r,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Zt(t),new Zt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=te;case"[object Set]":var l=1&i;if(a||(a=ee),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=2,s.set(t,e);var c=Jt(a(t),a(e),i,r,o,s);return s.delete(t),c;case"[object Symbol]":if(ie)return ie.call(t)==ie.call(e)}return!1};const oe=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t};const se=Array.isArray;const ae=function(t,e,n){var i=e(t);return se(t)?i:oe(i,n(t))};const le=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o};const ue=function(){return[]};var ce=Object.prototype.propertyIsEnumerable,he=Object.getOwnPropertySymbols;const de=he?function(t){return null==t?[]:(t=Object(t),le(he(t),(function(e){return ce.call(t,e)})))}:ue;const fe=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i};const pe=function(t){return Lt(t)&&"[object Arguments]"==w(t)};var ve=Object.prototype,ye=ve.hasOwnProperty,ge=ve.propertyIsEnumerable;const me=pe(function(){return arguments}())?pe:function(t){return Lt(t)&&ye.call(t,"callee")&&!ge.call(t,"callee")};const be=function(){return!1};var we="object"==typeof exports&&exports&&!exports.nodeType&&exports,_e=we&&"object"==typeof module&&module&&!module.nodeType&&module,ke=_e&&_e.exports===we?c.Buffer:void 0;const xe=(ke?ke.isBuffer:void 0)||be;var Se=/^(?:0|[1-9]\d*)$/;const Ee=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Se.test(t))&&t>-1&&t%1==0&&t<e};var Oe={};Oe["[object Float32Array]"]=Oe["[object Float64Array]"]=Oe["[object Int8Array]"]=Oe["[object Int16Array]"]=Oe["[object Int32Array]"]=Oe["[object Uint8Array]"]=Oe["[object Uint8ClampedArray]"]=Oe["[object Uint16Array]"]=Oe["[object Uint32Array]"]=!0,Oe["[object Arguments]"]=Oe["[object Array]"]=Oe["[object ArrayBuffer]"]=Oe["[object Boolean]"]=Oe["[object DataView]"]=Oe["[object Date]"]=Oe["[object Error]"]=Oe["[object Function]"]=Oe["[object Map]"]=Oe["[object Number]"]=Oe["[object Object]"]=Oe["[object RegExp]"]=Oe["[object Set]"]=Oe["[object String]"]=Oe["[object WeakMap]"]=!1;const Te=function(t){return Lt(t)&&jt(t.length)&&!!Oe[w(t)]};var Ie="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ce=Ie&&"object"==typeof module&&module&&!module.nodeType&&module,Ae=Ce&&Ce.exports===Ie&&l.process;const De=function(){try{var t=Ce&&Ce.require&&Ce.require("util").types;return t||Ae&&Ae.binding&&Ae.binding("util")}catch(e){}}();var Pe=De&&De.isTypedArray;const Me=Pe?xt(Pe):Te;var Fe=Object.prototype.hasOwnProperty;const Ne=function(t,e){var n=se(t),i=!n&&me(t),r=!n&&!i&&xe(t),o=!n&&!i&&!r&&Me(t),s=n||i||r||o,a=s?fe(t.length,String):[],l=a.length;for(var u in t)!e&&!Fe.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ee(u,l))||a.push(u);return a};var Be=Object.prototype;const je=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Be)};const ze=function(t,e){return function(n){return t(e(n))}};const Le=ze(Object.keys,Object);var Re=Object.prototype.hasOwnProperty;const Ue=function(t){if(!je(t))return Le(t);var e=[];for(var n in Object(t))Re.call(t,n)&&"constructor"!=n&&e.push(n);return e};const Ve=function(t){return zt(t)?Ne(t):Ue(t)};const He=function(t){return ae(t,Ve,de)};var We=Object.prototype.hasOwnProperty;const qe=function(t,e,n,i,r,o){var s=1&n,a=He(t),l=a.length;if(l!=He(e).length&&!s)return!1;for(var u=l;u--;){var c=a[u];if(!(s?c in e:We.call(e,c)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++u<l;){var v=t[c=a[u]],y=e[c];if(i)var g=s?i(y,v,c,e,t,o):i(v,y,c,t,e,o);if(!(void 0===g?v===y||r(v,y,n,i,o):g)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var m=t.constructor,b=e.constructor;m==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(t),o.delete(e),f};const Ye=B(c,"DataView");const Xe=B(c,"Promise");const $e=B(c,"Set");const Ge=B(c,"WeakMap");var Ke="[object Map]",Qe="[object Promise]",Je="[object Set]",Ze="[object WeakMap]",tn="[object DataView]",en=T(Ye),nn=T(it),rn=T(Xe),on=T($e),sn=T(Ge),an=w;(Ye&&an(new Ye(new ArrayBuffer(1)))!=tn||it&&an(new it)!=Ke||Xe&&an(Xe.resolve())!=Qe||$e&&an(new $e)!=Je||Ge&&an(new Ge)!=Ze)&&(an=function(t){var e=w(t),n="[object Object]"==e?t.constructor:void 0,i=n?T(n):"";if(i)switch(i){case en:return tn;case nn:return Ke;case rn:return Qe;case on:return Je;case sn:return Ze}return e});const ln=an;var un="[object Arguments]",cn="[object Array]",hn="[object Object]",dn=Object.prototype.hasOwnProperty;const fn=function(t,e,n,i,r,o){var s=se(t),a=se(e),l=s?cn:ln(t),u=a?cn:ln(e),c=(l=l==un?hn:l)==hn,h=(u=u==un?hn:u)==hn,d=l==u;if(d&&xe(t)){if(!xe(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Kt),s||Me(t)?Jt(t,e,n,i,r,o):re(t,e,l,n,i,r,o);if(!(1&n)){var f=c&&dn.call(t,"__wrapped__"),p=h&&dn.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,y=p?e.value():e;return o||(o=new Kt),r(v,y,n,i,o)}}return!!d&&(o||(o=new Kt),qe(t,e,n,i,r,o))};const pn=function t(e,n,i,r,o){return e===n||(null==e||null==n||!Lt(e)&&!Lt(n)?e!==e&&n!==n:fn(e,n,i,r,t,o))};const vn=function(t,e){return pn(t,e)};const yn=function(t,e,n,i){var r=-1,o=_t,s=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=a(e,xt(n))),i?(o=kt,s=!1):e.length>=200&&(o=St,s=!1,e=new yt(e));t:for(;++r<l;){var h=t[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,s&&d===d){for(var f=c;f--;)if(e[f]===d)continue t;u.push(h)}else o(e,d,i)||u.push(h)}return u};var gn=h?h.isConcatSpreadable:void 0;const mn=function(t){return se(t)||me(t)||!!(gn&&t&&t[gn])};const bn=function t(e,n,i,r,o){var s=-1,a=e.length;for(i||(i=mn),o||(o=[]);++s<a;){var l=e[s];n>0&&i(l)?n>1?t(l,n-1,i,r,o):oe(o,l):r||(o[o.length]=l)}return o};const wn=Bt((function(t,e){var n=Vt(e);return Rt(n)&&(n=void 0),Rt(t)?yn(t,bn(e,1,Rt,!0),void 0,n):[]}));const _n=function(t,e,n){"__proto__"==e&&Pt?Pt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};const kn=function(t,e,n){(void 0!==n&&!$(t[e],n)||void 0===n&&!(e in t))&&_n(t,e,n)};const xn=function(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}();var Sn="object"==typeof exports&&exports&&!exports.nodeType&&exports,En=Sn&&"object"==typeof module&&module&&!module.nodeType&&module,On=En&&En.exports===Sn?c.Buffer:void 0,Tn=On?On.allocUnsafe:void 0;const In=function(t,e){if(e)return t.slice();var n=t.length,i=Tn?Tn(n):new t.constructor(n);return t.copy(i),i};const Cn=function(t){var e=new t.constructor(t.byteLength);return new Zt(e).set(new Zt(t)),e};const An=function(t,e){var n=e?Cn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const Dn=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e};var Pn=Object.create;const Mn=function(){function t(){}return function(e){if(!_(e))return{};if(Pn)return Pn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Fn=ze(Object.getPrototypeOf,Object);const Nn=function(t){return"function"!=typeof t.constructor||je(t)?{}:Mn(Fn(t))};var Bn=Function.prototype,jn=Object.prototype,zn=Bn.toString,Ln=jn.hasOwnProperty,Rn=zn.call(Object);const Un=function(t){if(!Lt(t)||"[object Object]"!=w(t))return!1;var e=Fn(t);if(null===e)return!0;var n=Ln.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&zn.call(n)==Rn};const Vn=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]};var Hn=Object.prototype.hasOwnProperty;const Wn=function(t,e,n){var i=t[e];Hn.call(t,e)&&$(i,n)&&(void 0!==n||e in t)||_n(t,e,n)};const qn=function(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),r?_n(n,a,l):Wn(n,a,l)}return n};const Yn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var Xn=Object.prototype.hasOwnProperty;const $n=function(t){if(!_(t))return Yn(t);var e=je(t),n=[];for(var i in t)("constructor"!=i||!e&&Xn.call(t,i))&&n.push(i);return n};const Gn=function(t){return zt(t)?Ne(t,!0):$n(t)};const Kn=function(t){return qn(t,Gn(t))};const Qn=function(t,e,n,i,r,o,s){var a=Vn(t,n),l=Vn(e,n),u=s.get(l);if(u)kn(t,n,u);else{var c=o?o(a,l,n+"",t,e,s):void 0,h=void 0===c;if(h){var d=se(l),f=!d&&xe(l),p=!d&&!f&&Me(l);c=l,d||f||p?se(a)?c=a:Rt(a)?c=Dn(a):f?(h=!1,c=In(l,!0)):p?(h=!1,c=An(l,!0)):c=[]:Un(l)||me(l)?(c=a,me(a)?c=Kn(a):_(a)&&!k(a)||(c=Nn(l))):h=!1}h&&(s.set(l,c),r(c,l,i,o,s),s.delete(l)),kn(t,n,c)}};const Jn=function t(e,n,i,r,o){e!==n&&xn(n,(function(s,a){if(o||(o=new Kt),_(s))Qn(e,n,a,i,t,r,o);else{var l=r?r(Vn(e,a),s,a+"",e,n,o):void 0;void 0===l&&(l=s),kn(e,a,l)}}),Gn)};const Zn=function t(e,n,i,r,o,s){return _(e)&&_(n)&&(s.set(n,e),Jn(e,n,void 0,t,s),s.delete(n)),e};const ti=function(t,e,n){if(!_(n))return!1;var i=typeof e;return!!("number"==i?zt(n)&&Ee(e,n.length):"string"==i&&e in n)&&$(n[e],t)};const ei=function(t){return Bt((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&ti(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e}))}((function(t,e,n,i){Jn(t,e,n,i)}));const ni=Bt((function(t){return t.push(void 0,Zn),It(ei,void 0,t)}));const ii=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t};const ri=function(t,e){return t&&qn(e,Ve(e),t)};const oi=function(t,e){return t&&qn(e,Gn(e),t)};const si=function(t,e){return qn(t,de(t),e)};const ai=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)oe(e,de(t)),t=Fn(t);return e}:ue;const li=function(t,e){return qn(t,ai(t),e)};const ui=function(t){return ae(t,Gn,ai)};var ci=Object.prototype.hasOwnProperty;const hi=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ci.call(t,"index")&&(n.index=t.index,n.input=t.input),n};const di=function(t,e){var n=e?Cn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var fi=/\w*$/;const pi=function(t){var e=new t.constructor(t.source,fi.exec(t));return e.lastIndex=t.lastIndex,e};var vi=h?h.prototype:void 0,yi=vi?vi.valueOf:void 0;const gi=function(t){return yi?Object(yi.call(t)):{}};const mi=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return Cn(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return di(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return An(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return pi(t);case"[object Symbol]":return gi(t)}};const bi=function(t){return Lt(t)&&"[object Map]"==ln(t)};var wi=De&&De.isMap;const _i=wi?xt(wi):bi;const ki=function(t){return Lt(t)&&"[object Set]"==ln(t)};var xi=De&&De.isSet;const Si=xi?xt(xi):ki;var Ei="[object Arguments]",Oi="[object Function]",Ti="[object Object]",Ii={};Ii[Ei]=Ii["[object Array]"]=Ii["[object ArrayBuffer]"]=Ii["[object DataView]"]=Ii["[object Boolean]"]=Ii["[object Date]"]=Ii["[object Float32Array]"]=Ii["[object Float64Array]"]=Ii["[object Int8Array]"]=Ii["[object Int16Array]"]=Ii["[object Int32Array]"]=Ii["[object Map]"]=Ii["[object Number]"]=Ii[Ti]=Ii["[object RegExp]"]=Ii["[object Set]"]=Ii["[object String]"]=Ii["[object Symbol]"]=Ii["[object Uint8Array]"]=Ii["[object Uint8ClampedArray]"]=Ii["[object Uint16Array]"]=Ii["[object Uint32Array]"]=!0,Ii["[object Error]"]=Ii[Oi]=Ii["[object WeakMap]"]=!1;const Ci=function t(e,n,i,r,o,s){var a,l=1&n,u=2&n,c=4&n;if(i&&(a=o?i(e,r,o,s):i(e)),void 0!==a)return a;if(!_(e))return e;var h=se(e);if(h){if(a=hi(e),!l)return Dn(e,a)}else{var d=ln(e),f=d==Oi||"[object GeneratorFunction]"==d;if(xe(e))return In(e,l);if(d==Ti||d==Ei||f&&!o){if(a=u||f?{}:Nn(e),!l)return u?li(e,oi(a,e)):si(e,ri(a,e))}else{if(!Ii[d])return o?e:{};a=mi(e,d,l)}}s||(s=new Kt);var p=s.get(e);if(p)return p;s.set(e,a),Si(e)?e.forEach((function(r){a.add(t(r,n,i,r,e,s))})):_i(e)&&e.forEach((function(r,o){a.set(o,t(r,n,i,o,e,s))}));var v=h?void 0:(c?u?ui:He:u?Gn:Ve)(e);return ii(v||e,(function(r,o){v&&(r=e[o=r]),Wn(a,o,t(r,n,i,o,e,s))})),a};const Ai=function(t){return Ci(t,5)};var Di=["graph","events","getNetwork","options"];function Pi(e){return(0,t.useState)(e)[0]}var Mi=function(t,e,n){void 0===n&&(n="id");var i=new Set(e.map((function(t){return t[n]}))),r=t.filter((function(t){return!i.has(t[n])})),o=Ht(e,t,vn),s=wn(Ht(e,t,(function(t,e){return t[n]===e[n]})),o,vn);return{removed:r,unchanged:o,updated:s,added:wn(wn(e,t,vn),s,vn)}},Fi={physics:{stabilization:!1},autoResize:!1,edges:{smooth:!1,color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}}}};const Ni=(0,t.forwardRef)((function(e,n){var i=e.graph,r=e.events,a=e.getNetwork,l=e.options,u=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(e,Di),c=(0,t.useRef)(null),h=Pi((function(){return new o.DataSet(i.edges)})),d=Pi((function(){return new o.DataSet(i.nodes)})),f=Pi(l),p=(0,t.useRef)(i.nodes),v=(0,t.useRef)(i.edges);(0,t.useEffect)((function(){if(!vn(i.nodes,p.current)){var t=Mi(p.current,i.nodes),e=t.added,n=t.removed,r=t.updated;d.remove(n),d.add(e),d.update(r),p.current=i.nodes}}),[i.nodes,d]),(0,t.useEffect)((function(){if(!vn(i.edges,v.current)){var t=Mi(v.current,i.edges),e=t.added,n=t.removed,r=t.updated;h.remove(n),h.add(e),h.update(r),v.current=i.edges}}),[i.edges,h]);var y=(0,t.useState)(),g=y[0],m=y[1];return(0,t.useImperativeHandle)(n,(function(){return g}),[g]),(0,t.useEffect)((function(){if(!g||!r)return function(){};for(var t=0,e=Object.entries(r);t<e.length;t++){var n=e[t],i=n[0],o=n[1];o&&g.on(i,o)}return function(){for(var t=0,e=Object.entries(r);t<e.length;t++){var n=e[t],i=n[0],o=n[1];o&&g.off(i,o)}}}),[r,g]),(0,t.useEffect)((function(){if(g&&l)try{g.setOptions(l)}catch(t){throw t}}),[g,l]),(0,t.useEffect)((function(){var t=ni(Ai(f),Fi),e=new s.Network(c.current,{edges:h,nodes:d},t);return m(e),a&&a(e),function(){e.destroy()}}),[h,f,d]),function(e,n){(0,t.useEffect)((function(){if(e.current){var t=new ResizeObserver(n);return t.observe(e.current),function(){t.disconnect()}}}),[n,e])}(c,(function(){g&&g.redraw()})),t.createElement("div",Object.assign({style:{width:"100%",height:"100%"},ref:c},u))}));var Bi=n(579);const ji=(0,r.withStreamlitConnection)((function(e){const[n,i]=(0,t.useState)(),[o,s]=(0,t.useState)();var a=JSON.parse(e.args.data),l=a.nodes.slice();const u=t=>{const e=document.createElement("div");return e.innerHTML=t,e};for(let t=0;t<l.length;t++)l[t].title&&(l[t].div=u(l[t].title));const c=JSON.parse(e.args.config),h={selectNode:t=>{r.Streamlit.setComponentValue(t.nodes[0])},doubleClick:t=>{console.log(t.nodes);let e=function(t,e){for(let n of e)if(n.id===t)return n}(t.nodes[0],l).div.innerHTML;e&&window.open(e)}};return c.centerViewOnNodeId&&(h.afterDrawing=()=>{o!==c.centerViewOnNodeId&&(console.log("AFTER DRAWING ",c.centerViewOnNodeId," ok"),s(c.centerViewOnNodeId),null===n||void 0===n||n.focus(c.centerViewOnNodeId))}),(0,Bi.jsx)("span",{children:(0,Bi.jsx)(Ni,{graph:a,options:c,events:h,getNetwork:t=>{n||i(t)}})})}));e.render((0,Bi.jsx)(t.StrictMode,{children:(0,Bi.jsx)(i.StreamlitProvider,{children:(0,Bi.jsx)(ji,{})})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.20f371e7.js.map